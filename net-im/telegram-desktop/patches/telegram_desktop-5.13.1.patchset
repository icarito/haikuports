From ae6e4a16592a6d20b4c690e6ba4ff0e5389d331d Mon Sep 17 00:00:00 2001
From: Gerasim Troeglazov <3dEyes@gmail.com>
Date: Thu, 3 Apr 2025 20:19:59 +1000
Subject: Add haiku support


diff --git a/Telegram/ThirdParty/libtgvoip/VoIPController.cpp b/Telegram/ThirdParty/libtgvoip/VoIPController.cpp
index 5a9731e..38e8bd7 100644
--- a/Telegram/ThirdParty/libtgvoip/VoIPController.cpp
+++ b/Telegram/ThirdParty/libtgvoip/VoIPController.cpp
@@ -8,6 +8,9 @@
 #include <unistd.h>
 #include <sys/time.h>
 #endif
+#ifdef __HAIKU__
+#include <OS.h>
+#endif
 #include <errno.h>
 #include <string.h>
 #include <wchar.h>
@@ -3015,6 +3018,10 @@ double VoIPController::GetCurrentTime(){
 	struct timespec ts;
 	clock_gettime(CLOCK_MONOTONIC, &ts);
 	return ts.tv_sec+(double)ts.tv_nsec/1000000000.0;
+#elif defined(__HAIKU__)
+	struct timeval tm;
+	gettimeofday(&tm, NULL);
+	return tm.tv_sec+(double)tm.tv_usec/1000000.0;
 #elif defined(__APPLE__)
 	static pthread_once_t token = PTHREAD_ONCE_INIT;
 	pthread_once(&token, &initMachTimestart);
diff --git a/Telegram/ThirdParty/libtgvoip/audio/AudioIO.cpp b/Telegram/ThirdParty/libtgvoip/audio/AudioIO.cpp
index 8095646..ee4f1a8 100644
--- a/Telegram/ThirdParty/libtgvoip/audio/AudioIO.cpp
+++ b/Telegram/ThirdParty/libtgvoip/audio/AudioIO.cpp
@@ -39,6 +39,9 @@
 #ifndef WITHOUT_PULSE
 #include "../os/linux/AudioPulse.h"
 #endif
+#elif defined(__HAIKU__)
+#include "../os/haiku/AudioInputHaiku.h"
+#include "../os/haiku/AudioOutputHaiku.h"
 #else
 #error "Unsupported operating system"
 #endif
@@ -65,6 +68,8 @@ AudioIO* AudioIO::Create(std::string inputDevice, std::string outputDevice){
 		return new ContextlessAudioIO<AudioInputWave, AudioOutputWave>(inputDevice, outputDevice);
 #endif
 	return new ContextlessAudioIO<AudioInputWASAPI, AudioOutputWASAPI>(inputDevice, outputDevice);
+#elif defined(__HAIKU__)
+	return new ContextlessAudioIO<AudioInputHaiku, AudioOutputHaiku>();
 #elif defined(__linux__) || defined(__FreeBSD__) || defined(__OpenBSD__)
 #ifndef WITHOUT_ALSA
 #ifndef WITHOUT_PULSE
diff --git a/Telegram/ThirdParty/libtgvoip/audio/AudioInput.cpp b/Telegram/ThirdParty/libtgvoip/audio/AudioInput.cpp
index 1527497..90bbcf9 100644
--- a/Telegram/ThirdParty/libtgvoip/audio/AudioInput.cpp
+++ b/Telegram/ThirdParty/libtgvoip/audio/AudioInput.cpp
@@ -33,6 +33,8 @@
 #ifndef WITHOUT_PULSE
 #include "../os/linux/AudioPulse.h"
 #endif
+#elif defined(__HAIKU__)
+#include "../os/haiku/AudioInputHaiku.h"
 #else
 #error "Unsupported operating system"
 #endif
diff --git a/Telegram/ThirdParty/libtgvoip/audio/AudioOutput.cpp b/Telegram/ThirdParty/libtgvoip/audio/AudioOutput.cpp
index d42bd4d..3980367 100644
--- a/Telegram/ThirdParty/libtgvoip/audio/AudioOutput.cpp
+++ b/Telegram/ThirdParty/libtgvoip/audio/AudioOutput.cpp
@@ -37,6 +37,8 @@
 #include "../os/linux/AudioOutputPulse.h"
 #include "../os/linux/AudioPulse.h"
 #endif
+#elif defined(__HAIKU__)
+#include "../os/haiku/AudioOutputHaiku.h"
 #else
 #error "Unsupported operating system"
 #endif
diff --git a/Telegram/ThirdParty/libtgvoip/os/haiku/AudioInputHaiku.cpp b/Telegram/ThirdParty/libtgvoip/os/haiku/AudioInputHaiku.cpp
new file mode 100644
index 0000000..7cce3e3
--- /dev/null
+++ b/Telegram/ThirdParty/libtgvoip/os/haiku/AudioInputHaiku.cpp
@@ -0,0 +1,276 @@
+//
+// libtgvoip is free and unencumbered public domain software.
+// For more information, see http://unlicense.org or the UNLICENSE file
+// you should have received with this source code distribution.
+//
+
+#include <stdlib.h>
+#include <stdio.h>
+#include <assert.h>
+#include <dlfcn.h>
+#include "AudioInputHaiku.h"
+#include "../../logging.h"
+#include "../../audio/Resampler.h"
+#include "../../VoIPController.h"
+
+#include "RingBuffer.h"
+
+using namespace tgvoip::audio;
+
+void RecordData(void* cookie, bigtime_t timestamp, void* data, size_t size, const media_format &format)
+{
+	AudioInputHaiku *audioInput = (AudioInputHaiku*)cookie;
+	if (!audioInput->IsRecording())
+		return;
+
+	if (format.u.raw_audio.format == media_raw_audio_format::B_AUDIO_SHORT &&
+		format.u.raw_audio.channel_count == 1) {
+		audioInput->fRingBuffer->Write((unsigned char*)data, size);
+		return;
+	}
+
+	uint32 bytesPerSample = 2;
+	switch (format.u.raw_audio.format) {
+	    case media_raw_audio_format::B_AUDIO_CHAR:
+			bytesPerSample = 1;
+			break;
+	    case media_raw_audio_format::B_AUDIO_SHORT:
+			bytesPerSample = 2;
+			break;
+	    case media_raw_audio_format::B_AUDIO_INT:
+			bytesPerSample = 4;
+	        break;
+	    case media_raw_audio_format::B_AUDIO_FLOAT:
+			bytesPerSample = 4;
+	        break;
+	    default:
+	        break;
+    }
+
+	int frames = size / (format.u.raw_audio.channel_count * bytesPerSample);
+	int16_t *dst = audioInput->workBuffer;
+
+	if (format.u.raw_audio.format == media_raw_audio_format::B_AUDIO_CHAR) {
+		unsigned char* src=reinterpret_cast<unsigned char*>(data);
+		for (int n=0; n < frames; n++) {
+			int32_t value = 0;
+			for (int j=0; j < format.u.raw_audio.channel_count; j++, src++) {
+				value += ((int32_t)(*src) - INT8_MAX) * UINT8_MAX;
+			}
+			value /= format.u.raw_audio.channel_count;
+			dst[n] = (int16_t)value;
+		}
+	} else if (format.u.raw_audio.format == media_raw_audio_format::B_AUDIO_SHORT) {
+		int16_t* src=reinterpret_cast<int16_t*>(data);
+		for (int n=0; n < frames; n++) {
+			int32_t value = 0;
+			for (int j=0; j < format.u.raw_audio.channel_count; j++, src++) {
+				value += *src;
+			}
+			value /= format.u.raw_audio.channel_count;
+			dst[n] = (int16_t)value;
+		}
+	} else if (format.u.raw_audio.format == media_raw_audio_format::B_AUDIO_INT) {
+		int32_t* src=reinterpret_cast<int32_t*>(data);
+		for (int n=0; n < frames; n++) {
+			int64_t value = 0;
+			for (int j=0; j < format.u.raw_audio.channel_count; j++, src++) {
+				value += (int64_t)(*src);
+			}
+			value /= format.u.raw_audio.channel_count;
+			dst[n] = (int16_t)(value / (UINT16_MAX + 1));
+		}
+	} else if (format.u.raw_audio.format == media_raw_audio_format::B_AUDIO_FLOAT) {
+		float* src=reinterpret_cast<float*>(data);
+		for (int n=0; n < frames; n++) {
+			float value = 0;
+			for (int j=0; j < format.u.raw_audio.channel_count; j++, src++) {
+				value += *src;
+			}
+			value /= format.u.raw_audio.channel_count;
+			dst[n] = (int16_t)(value*INT16_MAX);
+		}
+	}
+
+	if(format.u.raw_audio.frame_rate != audioInput->tgFrameRate) {
+		size_t len = tgvoip::audio::Resampler::Convert(dst, audioInput->convertBuffer,
+			frames, frames, audioInput->tgFrameRate, format.u.raw_audio.frame_rate) * audioInput->tgBytesPerSample;
+		audioInput->fRingBuffer->Write((unsigned char*)audioInput->convertBuffer, len);
+	} else {
+		audioInput->fRingBuffer->Write((unsigned char*)dst, frames * audioInput->tgBytesPerSample);
+	}
+}
+
+void NotifyRecordData(void * cookie, BMediaRecorder::notification code, ...)
+{
+	AudioInputHaiku *audioInput = (AudioInputHaiku*)cookie;
+	if (code == BMediaRecorder::B_WILL_STOP) {
+		if (audioInput->IsRecording()) {
+			audioInput->Stop();
+		}
+	}
+}
+
+AudioInputHaiku::AudioInputHaiku()
+{
+	fRecorder = NULL;
+	fRingBuffer = NULL;
+	isRecording = false;
+
+	tgFrameRate = 48000;
+	tgChannelsCount = 1;
+	tgBytesPerSample = 2;
+
+	status_t error;
+
+	fRoster = BMediaRoster::Roster(&error);
+	if (!fRoster) {
+		failed=true;		
+		return;
+	}
+	error = fRoster->GetAudioInput(&fAudioInputNode);
+	if (error < B_OK) {
+		failed=true;
+		return;
+	}
+	error = fRoster->GetAudioMixer(&fAudioMixerNode);
+	if (error < B_OK) {
+		failed=true;
+		return;
+	}
+	fRecorder = new BMediaRecorder("Telegram", B_MEDIA_RAW_AUDIO);
+	if (fRecorder->InitCheck() < B_OK) {
+		failed=true;
+		return;
+	}	
+	media_format output_format;
+	output_format.type = B_MEDIA_RAW_AUDIO;
+	output_format.u.raw_audio = media_raw_audio_format::wildcard;
+    output_format.u.raw_audio.channel_count = 1;
+	fRecorder->SetAcceptedFormat(output_format);
+	
+	const int maxInputCount = 64;
+	dormant_node_info dni[maxInputCount];
+
+	int32 real_count = maxInputCount;
+
+	error = fRoster->GetDormantNodes(dni, &real_count, 0, &output_format, 0, B_BUFFER_PRODUCER | B_PHYSICAL_INPUT);
+	if (real_count > maxInputCount)
+			real_count = maxInputCount;
+	char selected_name[B_MEDIA_NAME_LENGTH] = "Default input";
+	
+	for (int i = 0; i < real_count; i++) {
+		media_node_id ni[12];
+		int32 ni_count = 12;
+		error = fRoster->GetInstancesFor(dni[i].addon, dni[i].flavor_id, ni, &ni_count);
+		if (error == B_OK) {
+			for (int j = 0; j < ni_count; j++) {
+				if (ni[j] == fAudioInputNode.node) {
+					strcpy(selected_name, dni[i].name);
+					break;
+				}
+			}
+		}
+	}
+
+	media_output audioOutput;
+	if (!fRecorder->IsConnected()) {
+		int32 count = 0;
+		error = fRoster->GetFreeOutputsFor(fAudioInputNode, &audioOutput, 1, &count, B_MEDIA_RAW_AUDIO);
+		if (error < B_OK) {
+			failed=true;
+			return;
+		}
+
+		if (count < 1) {
+			failed=true;
+			return;
+		}
+		fRecordFormat.u.raw_audio = audioOutput.format.u.raw_audio;
+	} else {
+		fRecordFormat.u.raw_audio = fRecorder->AcceptedFormat().u.raw_audio;
+	}
+	fRecordFormat.type = B_MEDIA_RAW_AUDIO;
+
+	error = fRecorder->SetHooks(RecordData, NotifyRecordData, this);
+	if (error < B_OK) {
+		failed=true;
+		return;
+	}
+	
+	if (!fRecorder->IsConnected()) {
+		error = fRecorder->Connect(fAudioInputNode, &audioOutput, &fRecordFormat);
+		if (error < B_OK) {
+			fRecorder->SetHooks(NULL, NULL, NULL);
+			failed=true;
+			return;
+		}
+	}
+	
+	fRingBuffer = new RingBuffer(BUFFER_SIZE * 2 * 3);
+	if (fRingBuffer->InitCheck() != B_OK) {
+		failed=true;
+		return;
+	}	
+}
+
+AudioInputHaiku::~AudioInputHaiku(){
+	if (fRecorder != NULL) {
+		if (fRecorder->InitCheck() == B_OK) {
+			if (fRecorder->IsConnected())
+				fRecorder->Disconnect();
+		}
+		delete fRecorder;
+	}
+	if (fRingBuffer != NULL)
+		delete fRingBuffer;
+}
+
+void AudioInputHaiku::Configure(uint32_t sampleRate, uint32_t bitsPerSample, uint32_t channels){
+	tgFrameRate = sampleRate;
+	tgChannelsCount = channels;
+	tgBytesPerSample = bitsPerSample / 8;
+}
+
+bool AudioInputHaiku::IsRecording(){
+	return isRecording;
+}
+
+void AudioInputHaiku::Start(){
+	if(failed || isRecording)
+		return;
+
+	isRecording=true;
+
+	thread = new Thread(std::bind(&AudioInputHaiku::RunThread, this));
+	thread->SetName("AudioInputHaiku");
+	thread->Start();
+
+	fRecorder->Start();
+}
+
+void AudioInputHaiku::Stop(){
+	if(!isRecording)
+		return;
+
+	isRecording=false;
+
+	fRecorder->Stop();
+
+	thread->Join();
+	delete thread;
+	thread=NULL;
+}
+
+void AudioInputHaiku::RunThread(){
+	unsigned char buffer[BUFFER_SIZE*2];
+	while (isRecording){
+		if (fRingBuffer->GetReadAvailable() >= sizeof(buffer)) {
+			int readed = fRingBuffer->Read(buffer, sizeof(buffer));
+			if (readed < sizeof(buffer))
+				memset(buffer + readed, 0, sizeof(buffer) - readed);		
+			InvokeCallback(buffer, sizeof(buffer));
+		} else
+			snooze(100);
+	}
+}
diff --git a/Telegram/ThirdParty/libtgvoip/os/haiku/AudioInputHaiku.h b/Telegram/ThirdParty/libtgvoip/os/haiku/AudioInputHaiku.h
new file mode 100644
index 0000000..1c63afe
--- /dev/null
+++ b/Telegram/ThirdParty/libtgvoip/os/haiku/AudioInputHaiku.h
@@ -0,0 +1,66 @@
+//
+// libtgvoip is free and unencumbered public domain software.
+// For more information, see http://unlicense.org or the UNLICENSE file
+// you should have received with this source code distribution.
+//
+
+#ifndef LIBTGVOIP_AUDIOINPUTHAIKU_H
+#define LIBTGVOIP_AUDIOINPUTHAIKU_H
+
+#include "../../audio/AudioInput.h"
+#include "../../threading.h"
+
+#include <OS.h>
+#include <MediaFile.h>
+#include <MediaNode.h>
+#include <MediaRecorder.h>
+#include <MediaTrack.h>
+#include <MediaRoster.h>
+#include <TimeSource.h>
+#include <NodeInfo.h>
+#include <MediaAddOn.h>
+
+#include "RingBuffer.h"
+
+#define BUFFER_SIZE 960
+
+namespace tgvoip{
+namespace audio{
+
+class AudioInputHaiku : public AudioInput{
+
+public:
+	AudioInputHaiku();
+	virtual ~AudioInputHaiku();
+	virtual void Configure(uint32_t sampleRate, uint32_t bitsPerSample, uint32_t channels);
+	virtual void Start();
+	virtual void Stop();
+	virtual bool IsRecording();
+
+	RingBuffer *fRingBuffer;
+	int16_t workBuffer[BUFFER_SIZE * 64];
+	int16_t convertBuffer[BUFFER_SIZE * 64];
+
+	uint32 tgFrameRate;
+	uint32 tgChannelsCount;
+	uint32 tgBytesPerSample;
+
+private:
+	void RunThread();
+
+	bool isConfigured;
+	bool isRecording;
+	
+	BMediaRoster * fRoster;
+	BMediaRecorder * fRecorder;
+	media_format fRecordFormat;
+	media_node fAudioInputNode;
+	media_node fAudioMixerNode;
+
+	Thread* thread;
+};
+
+}
+}
+
+#endif //LIBTGVOIP_AUDIOINPUTHAIKU_H
diff --git a/Telegram/ThirdParty/libtgvoip/os/haiku/AudioOutputHaiku.cpp b/Telegram/ThirdParty/libtgvoip/os/haiku/AudioOutputHaiku.cpp
new file mode 100644
index 0000000..2fca8a1
--- /dev/null
+++ b/Telegram/ThirdParty/libtgvoip/os/haiku/AudioOutputHaiku.cpp
@@ -0,0 +1,99 @@
+//
+// libtgvoip is free and unencumbered public domain software.
+// For more information, see http://unlicense.org or the UNLICENSE file
+// you should have received with this source code distribution.
+//
+
+
+#include <assert.h>
+#include <dlfcn.h>
+#include "AudioOutputHaiku.h"
+#include "../../logging.h"
+#include "../../VoIPController.h"
+
+#define BUFFER_SIZE 960
+
+using namespace tgvoip::audio;
+
+static void playerProc(void *cookie, void *buffer, size_t len, const media_raw_audio_format &format)
+{
+	AudioOutputHaiku *obj = (AudioOutputHaiku*)cookie;
+	obj->InvokeCallback((unsigned char*)buffer, len);
+}
+
+
+AudioOutputHaiku::AudioOutputHaiku(){
+	soundPlayer = NULL;
+	isPlaying = false;
+	isConfigured = false;
+	Configure(48000, 16, 1);
+	return;
+}
+
+AudioOutputHaiku::~AudioOutputHaiku(){
+	if (isConfigured) {
+		if (soundPlayer != NULL) {
+			soundPlayer->Stop();
+			delete soundPlayer;
+		}
+	}
+}
+
+void AudioOutputHaiku::Configure(uint32_t sampleRate, uint32_t bitsPerSample, uint32_t channels){
+	media_raw_audio_format mediaKitFormat = {
+		(float)sampleRate,
+		(uint32)channels,
+		media_raw_audio_format::B_AUDIO_SHORT,
+		B_MEDIA_LITTLE_ENDIAN,
+		(uint32)BUFFER_SIZE * (bitsPerSample / 8) * channels
+	};
+
+	switch (bitsPerSample) {
+	    case 8:
+	        mediaKitFormat.format = media_raw_audio_format::B_AUDIO_CHAR;
+	        break;
+	    case 16:
+	    	mediaKitFormat.format = media_raw_audio_format::B_AUDIO_SHORT;
+	        break;
+	    case 32:
+	        mediaKitFormat.format = media_raw_audio_format::B_AUDIO_INT;
+	        break;
+	    default:
+	    	mediaKitFormat.format = media_raw_audio_format::B_AUDIO_SHORT;
+	        break;
+    }
+
+	soundPlayer = new BSoundPlayer(&mediaKitFormat, "Telegram", playerProc, NULL, (void*)this);
+
+	if(soundPlayer->InitCheck() != B_OK) {
+		delete soundPlayer;
+		soundPlayer = NULL;
+		isPlaying = false;
+		failed = true;
+		return;
+	}
+
+	isConfigured = true;
+}
+
+void AudioOutputHaiku::Start(){
+	if(soundPlayer == NULL || isPlaying)
+		return;
+
+	soundPlayer->Start();
+	soundPlayer->SetHasData(true);
+
+	isPlaying=true;
+}
+
+void AudioOutputHaiku::Stop(){
+	if(!isPlaying)
+		return;
+	
+	soundPlayer->Stop();
+	isPlaying=false;
+}
+
+bool AudioOutputHaiku::IsPlaying(){
+	return isPlaying;
+}
diff --git a/Telegram/ThirdParty/libtgvoip/os/haiku/AudioOutputHaiku.h b/Telegram/ThirdParty/libtgvoip/os/haiku/AudioOutputHaiku.h
new file mode 100644
index 0000000..91f2521
--- /dev/null
+++ b/Telegram/ThirdParty/libtgvoip/os/haiku/AudioOutputHaiku.h
@@ -0,0 +1,35 @@
+//
+// libtgvoip is free and unencumbered public domain software.
+// For more information, see http://unlicense.org or the UNLICENSE file
+// you should have received with this source code distribution.
+//
+
+#ifndef LIBTGVOIP_AUDIOOUTPUTHAIKU_H
+#define LIBTGVOIP_AUDIOOUTPUTHAIKU_H
+
+#include "../../audio/AudioOutput.h"
+#include "../../threading.h"
+
+#include <SoundPlayer.h>
+
+namespace tgvoip{
+namespace audio{
+
+class AudioOutputHaiku : public AudioOutput{
+public:
+	AudioOutputHaiku();
+	virtual ~AudioOutputHaiku();
+	virtual void Configure(uint32_t sampleRate, uint32_t bitsPerSample, uint32_t channels);
+	virtual void Start();
+	virtual void Stop();
+	virtual bool IsPlaying() override;
+private:
+	bool isPlaying;
+	bool isConfigured;
+	BSoundPlayer *soundPlayer;
+};
+
+}
+}
+
+#endif //LIBTGVOIP_AUDIOOUTPUTHAIKU_H
diff --git a/Telegram/ThirdParty/libtgvoip/os/haiku/RingBuffer.cpp b/Telegram/ThirdParty/libtgvoip/os/haiku/RingBuffer.cpp
new file mode 100644
index 0000000..6c94933
--- /dev/null
+++ b/Telegram/ThirdParty/libtgvoip/os/haiku/RingBuffer.cpp
@@ -0,0 +1,136 @@
+//
+// libtgvoip is free and unencumbered public domain software.
+// For more information, see http://unlicense.org or the UNLICENSE file
+// you should have received with this source code distribution.
+//
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <OS.h>
+
+#include "RingBuffer.h"
+
+RingBuffer::RingBuffer( int size )
+{
+	 initialized = false;
+     Buffer = new unsigned char[size];
+     if(Buffer!=NULL) {
+     	memset( Buffer, 0, size );
+	    BufferSize = size;     	
+     } else {
+     	BufferSize = 0;
+     }
+     reader = 0;
+     writer = 0;
+     writeBytesAvailable = size;
+     if((locker=create_sem(1,"locker")) >= B_OK) {
+     	initialized = true;
+     } else {
+     	if(Buffer!=NULL) {
+     		delete[] Buffer;     		
+     	}
+     }
+}
+
+RingBuffer::~RingBuffer( )
+{
+	 if(initialized) {
+     	delete[] Buffer;
+     	delete_sem(locker);
+	 }
+}
+
+bool 
+RingBuffer::Empty( void )
+{
+     memset( Buffer, 0, BufferSize );
+     reader = 0;
+     writer = 0;
+     writeBytesAvailable = BufferSize;
+     return true;
+}
+
+int 
+RingBuffer::Read( unsigned char *data, int size )
+{	
+	 acquire_sem(locker);
+	 
+     if( data == 0 || size <= 0 || writeBytesAvailable == BufferSize ) {
+     	 release_sem(locker);
+         return 0;
+     }
+
+     int readBytesAvailable = BufferSize - writeBytesAvailable;
+
+     if( size > readBytesAvailable ) {
+         size = readBytesAvailable;
+     }
+
+     if(size > BufferSize - reader) {
+         int len = BufferSize - reader;
+         memcpy(data, Buffer + reader, len);
+         memcpy(data + len, Buffer, size-len);
+     } else {
+         memcpy(data, Buffer + reader, size);
+     }
+
+     reader = (reader + size) % BufferSize;
+     writeBytesAvailable += size;
+	 
+	 release_sem(locker);
+     return size;
+}
+
+int 
+RingBuffer::Write( unsigned char *data, int size )
+{
+	 acquire_sem(locker);
+	 
+     if( data == 0 || size <= 0 || writeBytesAvailable == 0 ) {
+     	 release_sem(locker);
+         return 0;
+     }
+
+     if( size > writeBytesAvailable ) {
+         size = writeBytesAvailable;
+     }
+
+     if(size > BufferSize - writer) {
+         int len = BufferSize - writer;
+         memcpy(Buffer + writer, data, len);
+         memcpy(Buffer, data+len, size-len);
+     } else {
+         memcpy(Buffer + writer, data, size);
+     }
+
+     writer = (writer + size) % BufferSize;
+     writeBytesAvailable -= size;
+
+	 release_sem(locker);	 
+     return size;
+}
+
+int 
+RingBuffer::GetSize( void )
+{
+     return BufferSize;
+}
+
+int 
+RingBuffer::GetWriteAvailable( void )
+{
+     return writeBytesAvailable;
+}
+
+int 
+RingBuffer::GetReadAvailable( void )
+{
+     return BufferSize - writeBytesAvailable;
+}
+
+status_t 
+RingBuffer::InitCheck( void )
+{
+	return initialized?B_OK:B_ERROR;
+}
diff --git a/Telegram/ThirdParty/libtgvoip/os/haiku/RingBuffer.h b/Telegram/ThirdParty/libtgvoip/os/haiku/RingBuffer.h
new file mode 100644
index 0000000..01f6096
--- /dev/null
+++ b/Telegram/ThirdParty/libtgvoip/os/haiku/RingBuffer.h
@@ -0,0 +1,37 @@
+//
+// libtgvoip is free and unencumbered public domain software.
+// For more information, see http://unlicense.org or the UNLICENSE file
+// you should have received with this source code distribution.
+//
+
+#ifndef __RING_BUFFER_H__
+#define __RING_BUFFER_H__
+
+#include <OS.h>
+
+class RingBuffer {
+
+public:
+     RingBuffer(int size);
+     ~RingBuffer();
+     int Read( unsigned char* dataPtr, int numBytes );
+     int Write( unsigned char *dataPtr, int numBytes );
+     
+     bool Empty( void );
+     int GetSize( );
+     int GetWriteAvailable( );
+     int GetReadAvailable( );
+     status_t InitCheck( );
+private:
+     unsigned char *Buffer;
+     int BufferSize;
+     int reader;
+     int writer;
+     int writeBytesAvailable;
+     
+     sem_id locker;
+     
+     bool 	initialized;
+};
+
+#endif
diff --git a/Telegram/ThirdParty/libtgvoip/os/posix/NetworkSocketPosix.cpp b/Telegram/ThirdParty/libtgvoip/os/posix/NetworkSocketPosix.cpp
index 78e0583..81bf9fc 100644
--- a/Telegram/ThirdParty/libtgvoip/os/posix/NetworkSocketPosix.cpp
+++ b/Telegram/ThirdParty/libtgvoip/os/posix/NetworkSocketPosix.cpp
@@ -248,12 +248,13 @@ void NetworkSocketPosix::Open(){
 	}
 	int flag=0;
 	int res=setsockopt(fd, IPPROTO_IPV6, IPV6_V6ONLY, &flag, sizeof(flag));
+#ifndef __HAIKU__
 	if(res<0){
 		LOGE("error enabling dual stack socket: %d / %s", errno, strerror(errno));
 		failed=true;
 		return;
 	}
-
+#endif
 	SetMaxPriority();
 	fcntl(fd, F_SETFL, O_NONBLOCK);
 
@@ -403,6 +404,8 @@ std::string NetworkSocketPosix::GetLocalInterfaceInfo(IPv4Address *v4addr, IPv6A
 	if(didAttach){
 		sharedJVM->DetachCurrentThread();
 	}
+#elif defined(__HAIKU__)
+	return name;
 #else
 	struct ifaddrs* interfaces;
 	if(!getifaddrs(&interfaces)){
diff --git a/Telegram/ThirdParty/libtgvoip/threading.h b/Telegram/ThirdParty/libtgvoip/threading.h
old mode 100755
new mode 100644
index 7da4fb2..a96bc52
--- a/Telegram/ThirdParty/libtgvoip/threading.h
+++ b/Telegram/ThirdParty/libtgvoip/threading.h
@@ -9,7 +9,7 @@
 
 #include <functional>
 
-#if defined(_POSIX_THREADS) || defined(_POSIX_VERSION) || defined(__unix__) || defined(__unix) || (defined(__APPLE__) && defined(__MACH__))
+#if defined(_POSIX_THREADS) || defined(_POSIX_VERSION) || defined(__unix__) || defined(__unix) || defined(__HAIKU__) || (defined(__APPLE__) && defined(__MACH__))
 
 #include <pthread.h>
 #include <semaphore.h>
@@ -94,6 +94,7 @@ namespace tgvoip{
 		static void* ActualEntryPoint(void* arg){
 			Thread* self=reinterpret_cast<Thread*>(arg);
 			if(self->name){
+#ifndef __HAIKU__
 #if defined(__linux__) || defined(__FreeBSD__)
 				pthread_setname_np(self->thread, self->name);
 #elif defined(__OpenBSD__)
@@ -104,6 +105,7 @@ namespace tgvoip{
 					DarwinSpecific::SetCurrentThreadPriority(DarwinSpecific::THREAD_PRIO_USER_INTERACTIVE);
 				}
 #endif
+#endif //__HAIKU__
 			}
 			self->entry();
 			return NULL;
diff --git a/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/logging_webrtc.cc b/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/logging_webrtc.cc
old mode 100755
new mode 100644
index a8d1522..991241b
--- a/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/logging_webrtc.cc
+++ b/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/logging_webrtc.cc
@@ -28,6 +28,10 @@
 static const int kMaxLogLineSize = 1024 - 60;
 #endif  // WEBRTC_MAC && !defined(WEBRTC_IOS) || WEBRTC_ANDROID
 
+#if defined(WEBRTC_HAIKU)
+#include <OS.h>
+#endif
+
 #include <stdio.h>
 #include <string.h>
 #include <time.h>
@@ -120,7 +124,12 @@ LogMessage::LogMessage(const char* file,
 
   if (thread_) {
     PlatformThreadId id = CurrentThreadId();
+#if defined(WEBRTC_HAIKU)
+	thread_id tid = get_pthread_thread_id(id);
+	print_stream_ << "[" << tid << "] ";
+#else
     print_stream_ << "[" << id << "] ";
+#endif
   }
 
   if (file != nullptr) {
diff --git a/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/platform_file.h b/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/platform_file.h
old mode 100755
new mode 100644
diff --git a/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/platform_thread_types.cc b/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/platform_thread_types.cc
index cf7d478..f27b9a1 100644
--- a/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/platform_thread_types.cc
+++ b/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/platform_thread_types.cc
@@ -20,6 +20,8 @@ namespace rtc {
 PlatformThreadId CurrentThreadId() {
 #if defined(WEBRTC_WIN)
   return GetCurrentThreadId();
+#elif defined(WEBRTC_HAIKU)
+	return pthread_self();
 #elif defined(WEBRTC_POSIX)
 #if defined(WEBRTC_MAC) || defined(WEBRTC_IOS)
   return pthread_mach_thread_np(pthread_self());
diff --git a/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/platform_thread_types.h b/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/platform_thread_types.h
index 0bc42eb..c87cde9 100644
--- a/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/platform_thread_types.h
+++ b/Telegram/ThirdParty/libtgvoip/webrtc_dsp/rtc_base/platform_thread_types.h
@@ -35,6 +35,9 @@ typedef DWORD PlatformThreadRef;
 #elif defined(WEBRTC_FUCHSIA)
 typedef zx_handle_t PlatformThreadId;
 typedef zx_handle_t PlatformThreadRef;
+#elif defined(WEBRTC_HAIKU)
+typedef pthread_t PlatformThreadId;
+typedef pthread_t PlatformThreadRef;
 #elif defined(WEBRTC_POSIX)
 typedef pid_t PlatformThreadId;
 typedef pthread_t PlatformThreadRef;
diff --git a/Telegram/cmake/lib_tgvoip.cmake b/Telegram/cmake/lib_tgvoip.cmake
index fbae709..18f96ec 100644
--- a/Telegram/cmake/lib_tgvoip.cmake
+++ b/Telegram/cmake/lib_tgvoip.cmake
@@ -118,6 +118,14 @@ PRIVATE
     os/linux/AudioPulse.cpp
     os/linux/AudioPulse.h
 
+    # Haiku
+    os/haiku/AudioInputHaiku.cpp
+    os/haiku/AudioInputHaiku.h
+    os/haiku/AudioOutputHaiku.cpp
+    os/haiku/AudioOutputHaiku.h
+    os/haiku/RingBuffer.cpp
+    os/haiku/RingBuffer.h
+
     # POSIX
     os/posix/NetworkSocketPosix.cpp
     os/posix/NetworkSocketPosix.h
@@ -153,6 +161,25 @@ elseif (APPLE)
             TGVOIP_NO_OSX_PRIVATE_API
         )
     endif()
+elseif (HAIKU)
+    target_compile_definitions(lib_tgvoip_bundled
+    PUBLIC
+       WEBRTC_POSIX
+       WEBRTC_HAIKU
+    )
+    target_compile_options(lib_tgvoip_bundled
+    PRIVATE
+        -Wno-unknown-pragmas
+        -Wno-error=sequence-point
+        -Wno-error=unused-result
+        -mmmx
+        -msse2
+    )
+    target_link_libraries(lib_tgvoip_bundled
+    PRIVATE
+       network
+       media
+    )
 else()
     add_library(lib_tgvoip_bundled_options INTERFACE)
     target_compile_options(lib_tgvoip_bundled_options
-- 
2.48.1


From 2f519ac6e1631a4c88bdf91ef4f1d7d4d549ab94 Mon Sep 17 00:00:00 2001
From: Gerasim Troeglazov <3dEyes@gmail.com>
Date: Thu, 3 Apr 2025 20:21:44 +1000
Subject: Add haiku support


diff --git a/CMakeLists.txt b/CMakeLists.txt
index 9393d81..a2e3f47 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -27,12 +27,12 @@ elseif (LINUX)
     list(APPEND project_langs ASM)
 endif()
 
-project(Telegram
-    LANGUAGES ${project_langs}
-    VERSION ${desktop_app_version_cmake}
-    DESCRIPTION "Official Telegram Desktop messenger"
-    HOMEPAGE_URL "https://desktop.telegram.org"
-)
+#project(Telegram
+#    LANGUAGES ${project_langs}
+#    VERSION ${desktop_app_version_cmake}
+#    DESCRIPTION "Official Telegram Desktop messenger"
+#    HOMEPAGE_URL "https://desktop.telegram.org"
+#)
 set_property(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR} PROPERTY VS_STARTUP_PROJECT Telegram)
 
 get_filename_component(third_party_loc "Telegram/ThirdParty" REALPATH)
diff --git a/SendToAddon/Makefile b/SendToAddon/Makefile
new file mode 100644
index 0000000..5098366
--- /dev/null
+++ b/SendToAddon/Makefile
@@ -0,0 +1,12 @@
+NAME = Send\ to\ Telegram
+TYPE = SHARED
+APP_MIME_SIG = application/x-vnd.Telegram-SendTo
+SRCS = SendToTelegram.cpp
+LIBS = be
+OPTIMIZE := FULL
+WARNINGS = NONE
+RDEFS = resource.rdef
+
+DEVEL_DIRECTORY := \
+	$(shell findpaths -r "makefile_engine" B_FIND_PATH_DEVELOP_DIRECTORY)
+include $(DEVEL_DIRECTORY)/etc/makefile-engine
diff --git a/SendToAddon/SendToTelegram.cpp b/SendToAddon/SendToTelegram.cpp
new file mode 100644
index 0000000..c68a21d
--- /dev/null
+++ b/SendToAddon/SendToTelegram.cpp
@@ -0,0 +1,44 @@
+#include <limits.h>
+
+#include <StorageKit.h>
+#include <SupportKit.h>
+#include <AppKit.h>
+
+#include <add-ons/tracker/TrackerAddOn.h>
+
+const char* kTelegramSignature = "application/x-vnd.Telegram";
+
+void
+process_refs(entry_ref base_ref, BMessage* message, void* reserved)
+{
+	char **argv = new char*[ARG_MAX];
+
+	int argc = 0;
+	argv[argc++] = strdup("-sendpath");
+	argv[argc] = NULL;
+
+	BEntry entry;	
+	entry_ref ref;
+
+	int32 i;
+
+	for (i = 0; message->FindRef("refs", i, &ref) == B_OK; i++) {
+		if (entry.SetTo(&ref, true) != B_OK)
+			continue;
+		if (entry.IsDirectory())
+			continue;
+
+		BPath path;
+		entry.GetPath(&path);
+		argv[argc++] = strdup(path.Path());
+		argv[argc] = NULL;
+	}
+
+	if (argc > 1)
+		be_roster->Launch(kTelegramSignature, argc, argv);
+
+	for(i = 0; argv[i] != NULL; i++)
+		free(argv[i]);
+
+	delete[] argv;
+}
diff --git a/SendToAddon/resource.rdef b/SendToAddon/resource.rdef
new file mode 100644
index 0000000..e5f8b64
--- /dev/null
+++ b/SendToAddon/resource.rdef
@@ -0,0 +1,36 @@
+resource app_signature "application/x-vnd.Telegram-SendTo";
+
+resource app_version {
+	major  = 1,
+	middle = 0,
+	minor  = 0,
+	variety = 0,
+	internal = 1,
+
+	short_info = "Send to Telegram",
+	long_info = "Send selected files to Telegram"
+};
+
+resource file_types message {
+	"types" = "application/octet-stream"
+};
+
+resource vector_icon {
+	$"6E6369660604005A0500020106023F2D01ABB6552BBE233F33AF499EC5487829"
+	$"0092B8EBFF1E5AA005F102000602BA6C443B6D6F3A833D398D6D4BD8904DC08F"
+	$"00888A85FFB0B2AE05C4070207375FB843CE80445764584E54CF55C9897460D3"
+	$"F9CA8775646E6873666B69656B6A6A5F6E3E773F773C77406FC039D28E346D02"
+	$"04B454C190B454C991B454B98FC2D2B312BAD1B312CAD3B312D150C190D150B9"
+	$"8FD150C991C2D2D00ECAD3D00EBAD1D00E0A08BD13B904D0EEBB14BF76C965BC"
+	$"40C6D5B582CA40B954C275BCD4C187BAF4BE820A03BB01BE6FD12FBB02BD2EB9"
+	$"250A03BBFEC63ABF76C93BD09BBB160A03D0C0BB40B971C27CB5A4CA110A03BA"
+	$"F4BE68BCDFC17AD0D9BB1D090A000100023EE9780000000000003EA3FE41B2B1"
+	$"4532B50A010101023F28320000000000003F1EC9C24BDB36864D0A020101023E"
+	$"EFE40000000000003EE67BB99B69420C9F0A030102023F5FC20000000000003F"
+	$"3403C2809BBB8D630A010102123F5FC20000000000003F3403C2809BBB8D6301"
+	$"178522040A030103023F5FC20000000000003F3403C2809BBB8D630A04010402"
+	$"3F5FC20000000000003F3403C2809BBB8D630A030105023F5FC2000000000000"
+	$"3F3403C2809BBB8D630A050106023F5FC20000000000003F3403C2809BBB8D63"
+};
+
+resource("BEOS:default_shortcut") "S";
diff --git a/Telegram/CMakeLists.txt b/Telegram/CMakeLists.txt
index 7fa9bb9..c5f4a33 100644
--- a/Telegram/CMakeLists.txt
+++ b/Telegram/CMakeLists.txt
@@ -97,6 +97,15 @@ PRIVATE
     desktop-app::external_xxhash
 )
 
+if (HAIKU)
+	target_link_libraries(Telegram
+	PRIVATE
+		be
+		jpeg
+		translation
+	)
+endif()
+
 target_precompile_headers(Telegram PRIVATE $<$<COMPILE_LANGUAGE:CXX,OBJCXX>:${src_loc}/stdafx.h>)
 nice_target_sources(Telegram ${src_loc}
 PRIVATE
@@ -1682,6 +1691,16 @@ if (NOT build_winstore)
     )
 endif()
 
+if (HAIKU)
+	remove_target_sources(Telegram ${src_loc}
+		platform/linux/notifications_manager_linux.cpp
+	)
+    nice_target_sources(Telegram ${src_loc}
+    PRIVATE
+		platform/linux/notifications_manager_haiku.cpp
+    )
+endif()
+
 if (DESKTOP_APP_USE_PACKAGED)
     remove_target_sources(Telegram ${src_loc}
         platform/mac/mac_iconv_helper.c
@@ -1845,7 +1864,7 @@ else()
         set(bundle_identifier "com.tdesktop.Telegram")
     endif()
     set(bundle_entitlements "Telegram.entitlements")
-    if (LINUX AND DESKTOP_APP_USE_PACKAGED)
+    if (LINUX AND NOT HAIKU AND DESKTOP_APP_USE_PACKAGED)
         set(output_name "telegram-desktop")
     else()
         set(output_name "Telegram")
diff --git a/Telegram/SourceFiles/calls/group/calls_group_menu.cpp b/Telegram/SourceFiles/calls/group/calls_group_menu.cpp
index 51a9068..b5296bc 100644
--- a/Telegram/SourceFiles/calls/group/calls_group_menu.cpp
+++ b/Telegram/SourceFiles/calls/group/calls_group_menu.cpp
@@ -572,6 +572,7 @@ void FillMenu(
 			real->recordStartDateValue(),
 			handler));
 	}
+#ifndef Q_OS_HAIKU
 	if (addScreenCast) {
 		const auto sharing = call->isSharingScreen();
 		const auto toggle = [=] {
@@ -589,6 +590,7 @@ void FillMenu(
 				: tr::lng_group_call_screen_share_start(tr::now)),
 			toggle);
 	}
+#endif
 	menu->addAction(tr::lng_group_call_settings(tr::now), [=] {
 		if (const auto strong = weak.get()) {
 			showBox(Box(SettingsBox, strong));
diff --git a/Telegram/SourceFiles/core/core_settings.h b/Telegram/SourceFiles/core/core_settings.h
index 8ce8d72..a116d04 100644
--- a/Telegram/SourceFiles/core/core_settings.h
+++ b/Telegram/SourceFiles/core/core_settings.h
@@ -1037,7 +1037,7 @@ private:
 	rpl::variable<float64> _dialogsNoChatWidthRatio; // per-window
 	rpl::variable<int> _thirdColumnWidth = kDefaultThirdColumnWidth; // p-w
 	bool _notifyFromAll = true;
-	rpl::variable<bool> _nativeWindowFrame = false;
+	rpl::variable<bool> _nativeWindowFrame = true;
 	rpl::variable<std::optional<bool>> _systemDarkMode = std::nullopt;
 	rpl::variable<bool> _systemDarkModeEnabled = true;
 	rpl::variable<WindowTitleContent> _windowTitleContent;
diff --git a/Telegram/SourceFiles/core/sandbox.cpp b/Telegram/SourceFiles/core/sandbox.cpp
index 4188882..0e0b448 100644
--- a/Telegram/SourceFiles/core/sandbox.cpp
+++ b/Telegram/SourceFiles/core/sandbox.cpp
@@ -233,7 +233,7 @@ void Sandbox::setupScreenScale() {
 
 	const auto screen = Sandbox::primaryScreen();
 	const auto dpi = screen->logicalDotsPerInch();
-	const auto basePair = screen->handle()->logicalBaseDpi();
+	const auto basePair = screen->handle()->logicalDpi(); // TODO: requires a fix at the QPA level
 	const auto base = (basePair.first + basePair.second) * 0.5;
 	const auto screenScaleExact = dpi / base;
 	const auto screenScale = int(base::SafeRound(screenScaleExact * 20)) * 5;
@@ -259,9 +259,12 @@ bool Sandbox::event(QEvent *e) {
 		if (Quitting()) {
 			return QCoreApplication::event(e);
 		}
-		Quit(QuitReason::QtQuitEvent);
-		e->ignore();
-		return false;
+		if (IsAppLaunched() && App().preventsQuit(QuitReason::QtQuitEvent)) {
+			e->ignore();
+			return false;
+		} else {
+			Quit(QuitReason::QtQuitEvent);
+		}
 	} else if (e->type() == QEvent::Close) {
 		Quit();
 	} else if (e->type() == DeadlockDetector::PingPongEvent::Type()) {
@@ -275,7 +278,7 @@ bool Sandbox::event(QEvent *e) {
 void Sandbox::socketConnected() {
 	LOG(("Socket connected, this is not the first application instance, sending show command..."));
 	_secondInstance = true;
-
+ 
 	QString commands;
 	const QStringList &lst(cSendPaths());
 	for (QStringList::const_iterator i = lst.cbegin(), e = lst.cend(); i != e; ++i) {
diff --git a/Telegram/SourceFiles/iv/iv_controller.cpp b/Telegram/SourceFiles/iv/iv_controller.cpp
index 87befe5..d35cd84 100644
--- a/Telegram/SourceFiles/iv/iv_controller.cpp
+++ b/Telegram/SourceFiles/iv/iv_controller.cpp
@@ -50,7 +50,8 @@ https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
 #include <QtGui/QWindow>
 #include <charconv>
 
-#include <ada.h>
+#include "ada.cpp"
+#include "ada.h"
 
 namespace Iv {
 namespace {
diff --git a/Telegram/SourceFiles/platform/linux/current_geo_location_linux.cpp b/Telegram/SourceFiles/platform/linux/current_geo_location_linux.cpp
index 7015af7..9c528ef 100644
--- a/Telegram/SourceFiles/platform/linux/current_geo_location_linux.cpp
+++ b/Telegram/SourceFiles/platform/linux/current_geo_location_linux.cpp
@@ -12,6 +12,10 @@ https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
 
 #include <gio/gio.h>
 
+#ifdef __HAIKU__
+#define RTLD_NODELETE 0
+#endif
+
 namespace Platform {
 namespace {
 
diff --git a/Telegram/SourceFiles/platform/linux/file_utilities_linux.cpp b/Telegram/SourceFiles/platform/linux/file_utilities_linux.cpp
index f314fb0..331db8a 100644
--- a/Telegram/SourceFiles/platform/linux/file_utilities_linux.cpp
+++ b/Telegram/SourceFiles/platform/linux/file_utilities_linux.cpp
@@ -16,6 +16,15 @@ https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
 #include <xdpopenuri/xdpopenuri.hpp>
 #include <xdprequest/xdprequest.hpp>
 
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#include <InterfaceKit.h>
+#include <StorageKit.h>
+#include <SupportKit.h>
+#include <MimeType.h>
+#include <Roster.h>
+#endif
+
 namespace Platform {
 namespace File {
 namespace {
@@ -26,6 +35,22 @@ using base::Platform::XdgActivationToken;
 } // namespace
 
 bool UnsafeShowOpenWith(const QString &filepath) {
+#ifdef Q_OS_HAIKU
+	BMessenger trackerMessenger("application/x-vnd.Be-TRAK");
+	if (trackerMessenger.IsValid()) {
+		update_mime_info(filepath.toUtf8().data(), false, true, false);
+
+		BEntry fileEntry(filepath.toUtf8().data());
+		entry_ref fileRef;
+		if (fileEntry.GetRef(&fileRef) == B_OK) {
+			BMessage openCommand(B_REFS_RECEIVED);
+			openCommand.AddRef("refs", &fileRef);
+			openCommand.AddInt32("launchUsingSelector", 0);
+			if (trackerMessenger.SendMessage(&openCommand) == B_OK)
+				return true;
+		}
+	}
+#else
 	auto proxy = XdpOpenURI::OpenURIProxy::new_for_bus_sync(
 		Gio::BusType::SESSION_,
 		Gio::DBusProxyFlags::NONE_,
@@ -118,7 +143,7 @@ bool UnsafeShowOpenWith(const QString &filepath) {
 	window.setWindowModality(Qt::ApplicationModal);
 	window.show();
 	loop.run();
-
+#endif
 	return true;
 }
 
diff --git a/Telegram/SourceFiles/platform/linux/integration_linux.cpp b/Telegram/SourceFiles/platform/linux/integration_linux.cpp
index e3e331c..c92886b 100644
--- a/Telegram/SourceFiles/platform/linux/integration_linux.cpp
+++ b/Telegram/SourceFiles/platform/linux/integration_linux.cpp
@@ -19,12 +19,18 @@ https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
 
 #include <QtCore/QAbstractEventDispatcher>
 
+#ifndef Q_OS_HAIKU
 #include <gio/gio.hpp>
 #include <xdpinhibit/xdpinhibit.hpp>
+#endif
 
 namespace Platform {
 namespace {
 
+#ifdef Q_OS_HAIKU
+class LinuxIntegration final : public Integration {
+};
+#else
 using namespace gi::repository;
 namespace GObject = gi::repository::GObject;
 
@@ -237,7 +243,7 @@ void LinuxIntegration::initInhibit() {
 		}),
 		nullptr);
 }
-
+#endif
 } // namespace
 
 std::unique_ptr<Integration> CreateIntegration() {
diff --git a/Telegram/SourceFiles/platform/linux/main_window_linux.cpp b/Telegram/SourceFiles/platform/linux/main_window_linux.cpp
index 7b17fcc..8dd2d6f 100644
--- a/Telegram/SourceFiles/platform/linux/main_window_linux.cpp
+++ b/Telegram/SourceFiles/platform/linux/main_window_linux.cpp
@@ -35,6 +35,10 @@ https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
 #include "base/platform/linux/base_linux_xcb_utilities.h"
 #endif // !DESKTOP_APP_DISABLE_X11_INTEGRATION
 
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#endif
+
 #include <QtCore/QSize>
 #include <QtCore/QMimeData>
 #include <QtGui/QWindow>
@@ -149,6 +153,12 @@ void MainWindow::workmodeUpdated(Core::Settings::WorkMode mode) {
 	SkipTaskbar(windowHandle(), mode == WorkMode::TrayOnly);
 }
 
+#ifdef Q_OS_HAIKU
+bool MainWindow::isActiveForTrayMenu() {
+	return isVisible();
+}
+#endif
+
 void MainWindow::unreadCounterChangedHook() {
 	updateUnityCounter();
 }
diff --git a/Telegram/SourceFiles/platform/linux/main_window_linux.h b/Telegram/SourceFiles/platform/linux/main_window_linux.h
index 4ef98ba..ee8b3ad 100644
--- a/Telegram/SourceFiles/platform/linux/main_window_linux.h
+++ b/Telegram/SourceFiles/platform/linux/main_window_linux.h
@@ -21,6 +21,9 @@ namespace Platform {
 class MainWindow : public Window::MainWindow {
 public:
 	explicit MainWindow(not_null<Window::Controller*> controller);
+#ifdef Q_OS_HAIKU
+	bool isActiveForTrayMenu() override;
+#endif
 	~MainWindow();
 
 	void updateWindowIcon() override;
diff --git a/Telegram/SourceFiles/platform/linux/notifications_manager_haiku.cpp b/Telegram/SourceFiles/platform/linux/notifications_manager_haiku.cpp
new file mode 100644
index 0000000..0d7526d
--- /dev/null
+++ b/Telegram/SourceFiles/platform/linux/notifications_manager_haiku.cpp
@@ -0,0 +1,273 @@
+/* 
+This file is part of Telegram Desktop for Haiku,
+
+For license and copyright information please follow this link:
+https://github.com/desktop-app/legal/blob/master/LEGAL
+
+Copyright (c) 2018-2021 Gerasim Troeglazov, 3dEyes@gmail.com
+*/
+
+
+#include <stdio.h>
+#include <unistd.h>
+#include <sys/stat.h>
+#include <fcntl.h>
+
+#include "platform/linux/notifications_manager_linux.h"
+
+#include "base/options.h"
+#include "base/platform/base_platform_info.h"
+#include "core/application.h"
+#include "core/sandbox.h"
+#include "core/core_settings.h"
+#include "data/data_forum_topic.h"
+#include "history/history.h"
+#include "history/history_item.h"
+#include "ui/empty_userpic.h"
+#include "main/main_session.h"
+#include "lang/lang_keys.h"
+#include "base/weak_ptr.h"
+#include "window/notifications_utilities.h"
+#include "styles/style_window.h"
+
+#define USE_HAIKU_UINT64
+#include "base/haiku_types.h"
+
+#include <AppKit.h>
+#include <SupportKit.h>
+#include <Notification.h>
+#include <InterfaceKit.h>
+#include <TranslationUtils.h>
+#include <OS.h>
+
+#define NOTIFY_MESSAGE_DEEP	16
+#define NOTIFY_PORT_NAME "tg_notify"
+#define NOTIFY_GATE_NAME "/bin/qnotify"
+#define NOTIFY_MESSAGE 'QNTF'
+
+#include <QObject>
+#include <QString>
+#include <QStringList>
+#include <QTimer>
+
+namespace Platform {
+namespace Notifications {
+
+bool Supported() {
+	return true;
+}
+
+void Finish() {
+}
+
+bool SkipAudio() {
+	return false;
+}
+
+bool SkipToast() {
+	return false;
+}
+
+bool SkipFlashBounce() {
+	return false;
+}
+
+bool SkipAudioForCustom() {
+	return false;
+}
+
+bool SkipToastForCustom() {
+	return false;
+}
+
+bool SkipFlashBounceForCustom() {
+	return false;
+}
+
+bool Enforced() {
+	return false;
+}
+
+bool ByDefault() {
+	return true;
+}
+
+bool WaitForInputForCustom() {
+	return false;
+}
+
+void MaybePlaySoundForCustom(Fn<void()> playSound) {
+	playSound();
+}
+
+void MaybeFlashBounceForCustom(Fn<void()> flashBounce) {
+	flashBounce();
+}
+
+void Create(Window::Notifications::System *system) {
+	if (Core::App().settings().nativeNotifications() && Supported()) {
+		system->setManager([=] {
+			auto manager = std::make_unique<Manager>(system);
+			return manager;
+		});
+		return;
+	}
+	system->setManager(nullptr);
+}
+
+class Manager::Private : public QObject {
+
+public:
+	explicit Private(not_null<Manager*> manager);
+
+	void showNotification(
+		NotificationInfo &&info,
+		Ui::PeerUserpicView &userpicView);
+
+	~Private();
+
+private:
+	void CheckNotificationAction();
+
+	QTimer *_checkNotificationTimer;
+	const not_null<Manager*> _manager;
+	int32 _portId;
+};
+
+Manager::Private::Private(not_null<Manager*> manager)
+: _manager(manager) {
+	_portId = create_port(NOTIFY_MESSAGE_DEEP, NOTIFY_PORT_NAME);
+	_checkNotificationTimer = new QTimer(this);
+	connect(_checkNotificationTimer, &QTimer::timeout, this, &Manager::Private::CheckNotificationAction);
+	_checkNotificationTimer->start(250);
+}
+
+Manager::Private::~Private() {
+	delete _checkNotificationTimer;
+	if (_portId > 0)
+		delete_port(_portId);
+}
+
+void Manager::Private::CheckNotificationAction()
+{
+	ssize_t msgSize;
+
+	do {
+		msgSize = port_buffer_size_etc(_portId, B_RELATIVE_TIMEOUT, 0);
+	} while (msgSize == B_INTERRUPTED);
+
+	if (msgSize < 0)
+		return;
+
+	char* buffer = new(std::nothrow) char[msgSize];
+	if (!buffer)
+		return;
+
+	int32 code;
+	status_t result;
+	do {
+		result = read_port(_portId, &code, buffer, msgSize);
+	} while (result == B_INTERRUPTED);
+
+	BMessage message;
+
+	if (result < 0 || code != NOTIFY_MESSAGE) {
+		delete[] buffer;
+		return;
+	}
+	
+	if (message.Unflatten(buffer) == B_OK) {
+		uint64 sessionId = message.GetUInt64("session", 0);
+		uint64 peerId = message.GetUInt64("peer", 0);
+		int64 messageId = message.GetInt64("message", 0);
+
+		const auto key = ContextId{
+			.sessionId = sessionId,
+			.peerId = PeerId(peerId),
+			.topicRootId = 0,
+		};
+		const auto notificationId = NotificationId{ .contextId = key, .msgId = messageId };
+
+		crl::on_main(this, [=] {
+			_manager->notificationActivated(notificationId);
+		});
+	}
+	delete[] buffer;
+}
+
+void Manager::Private::showNotification(
+		NotificationInfo &&info,
+		Ui::PeerUserpicView &userpicView) {
+	const auto peer = info.peer;
+	const auto options = info.options;
+	const auto titleText = info.title;
+	const auto subtitleText = info.subtitle;
+	const auto msgText = info.message;
+	const auto msgId = info.itemId;
+
+	QString args = QString(
+		"mode:port "
+		"target:tg_notify "
+		"session:uint64:%1 "
+		"peer:uint64:%2 "
+		"message:int64:%3")
+		.arg(peer->session().uniqueId()).arg(peer->id.value).arg(msgId.bare);
+
+	BNotification notify(B_INFORMATION_NOTIFICATION);
+	notify.SetGroup("Telegram");
+	notify.SetTitle(titleText.toUtf8().data());
+	notify.SetContent(msgText.toUtf8().data());
+	entry_ref ref;
+	BEntry entry(NOTIFY_GATE_NAME);
+	entry.GetRef(&ref);
+	notify.SetOnClickFile(&ref);
+	notify.AddOnClickArg(BString(args.toUtf8().data()));
+
+	if (!options.hideNameAndPhoto) {
+		QImage userpic = Window::Notifications::GenerateUserpic(peer, userpicView);
+		BBitmap *icon = new BBitmap(BRect(0, 0, userpic.width() - 1, userpic.height() - 1), B_RGBA32);
+		icon->SetBits((void*)userpic.bits(), userpic.sizeInBytes(), 0, B_RGBA32);
+		notify.SetIcon(icon);
+		delete icon;
+	}
+
+	notify.Send();
+}
+
+Manager::Manager(not_null<Window::Notifications::System*> system)
+: NativeManager(system)
+, _private(std::make_unique<Private>(this)) {
+}
+
+Manager::~Manager() = default;
+
+void Manager::doShowNativeNotification(
+		NotificationInfo &&info,
+		Ui::PeerUserpicView &userpicView) {
+	_private->showNotification(std::move(info), userpicView);
+}
+
+void Manager::doClearAllFast() { }
+
+void Manager::doClearFromItem(not_null<HistoryItem*> item) { }
+
+void Manager::doClearFromHistory(not_null<History*> history) { }
+
+void Manager::doClearFromSession(not_null<Main::Session*> session) { }
+
+void Manager::doClearFromTopic(not_null<Data::ForumTopic*> topic) { }
+
+bool Manager::doSkipToast() const {
+	return false;
+}
+
+void Manager::doMaybePlaySound(Fn<void()> playSound) {
+	playSound();
+}
+
+void Manager::doMaybeFlashBounce(Fn<void()> flashBounce) {
+	flashBounce();
+}
+
+} // namespace Notifications
+} // namespace Platform
diff --git a/Telegram/SourceFiles/platform/linux/specific_linux.cpp b/Telegram/SourceFiles/platform/linux/specific_linux.cpp
index dcbefc2..6b53ba0 100644
--- a/Telegram/SourceFiles/platform/linux/specific_linux.cpp
+++ b/Telegram/SourceFiles/platform/linux/specific_linux.cpp
@@ -27,6 +27,10 @@ https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
 #include "base/platform/linux/base_linux_xcb_utilities.h"
 #endif // !DESKTOP_APP_DISABLE_X11_INTEGRATION
 
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#endif
+
 #include <QtWidgets/QApplication>
 #include <QtWidgets/QSystemTrayIcon>
 #include <QtCore/QStandardPaths>
@@ -50,6 +54,33 @@ https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
 #include <iostream>
 
 namespace {
+	
+#ifdef Q_OS_HAIKU
+void HaikuAutostart(bool start) {
+	const auto home = QDir::homePath();
+	if (home.isEmpty()) {
+		return;
+	}
+
+	QFile file(home + "/config/settings/boot/launch/telegram-desktop");
+	if (start) {
+		if (file.open(QIODevice::WriteOnly | QIODevice::Text)) {
+			QTextStream out(&file);
+			out
+				<< "#!/bin/bash" << Qt::endl
+				<< "cd /system/apps" << Qt::endl
+				<< "./Telegram -autostart" << " &" << Qt::endl;
+			file.close();
+			file.setPermissions(file.permissions()
+				| QFileDevice::ExeOwner
+				| QFileDevice::ExeGroup
+				| QFileDevice::ExeOther);
+		}
+	} else {
+		file.remove();
+	}
+}
+#endif // Q_OS_HAIKU
 
 using namespace gi::repository;
 namespace GObject = gi::repository::GObject;
@@ -572,6 +603,10 @@ bool AutostartSupported() {
 }
 
 void AutostartToggle(bool enabled, Fn<void(bool)> done) {
+#ifdef Q_OS_HAIKU
+	HaikuAutostart(enabled);
+	return;
+#else
 	if (KSandbox::isFlatpak()) {
 		PortalAutostart(enabled, done);
 		return;
@@ -599,6 +634,7 @@ void AutostartToggle(bool enabled, Fn<void(bool)> done) {
 	if (done) {
 		done(enabled && success);
 	}
+#endif
 }
 
 bool AutostartSkip() {
@@ -651,7 +687,11 @@ QString psAppDataPath() {
 		}
 	}
 
+#ifdef Q_OS_HAIKU
+	return QStandardPaths::writableLocation(QStandardPaths::AppConfigLocation) + '/';
+#else
 	return QStandardPaths::writableLocation(QStandardPaths::AppLocalDataLocation) + '/';
+#endif
 }
 
 void psDoCleanup() {
@@ -749,6 +789,7 @@ bool OpenSystemSettings(SystemSettingsType type) {
 			}
 			options.push_back(std::move(command));
 		};
+		add("Media");
 		add("unity-control-center", "sound");
 		add("kcmshell6", "kcm_pulseaudio");
 		add("kcmshell5", "kcm_pulseaudio");
@@ -758,7 +799,7 @@ bool OpenSystemSettings(SystemSettingsType type) {
 		add("mate-volume-control");
 		add("pavucontrol-qt");
 		add("pavucontrol");
-		add("alsamixergui");
+		add("alsamixergui");		
 		return ranges::any_of(options, [](const Command &command) {
 			return QProcess::startDetached(
 				command.command,
diff --git a/Telegram/ThirdParty/tgcalls/tgcalls/MediaManager.cpp b/Telegram/ThirdParty/tgcalls/tgcalls/MediaManager.cpp
index d1995ba..c6c9513 100644
--- a/Telegram/ThirdParty/tgcalls/tgcalls/MediaManager.cpp
+++ b/Telegram/ThirdParty/tgcalls/tgcalls/MediaManager.cpp
@@ -1073,7 +1073,7 @@ void MediaManager::fillCallStats(CallStats &callStats) {
 }
 
 void MediaManager::setAudioInputDevice(std::string id) {
-#if defined(WEBRTC_IOS)
+#if defined(WEBRTC_IOS) || defined(__HAIKU__)
 #else
     SetAudioInputDeviceById(_audioDeviceModule.get(), id);
 #endif
diff --git a/Telegram/ThirdParty/tgcalls/tgcalls/group/GroupInstanceCustomImpl.cpp b/Telegram/ThirdParty/tgcalls/tgcalls/group/GroupInstanceCustomImpl.cpp
index 489d8c6..74c82c1 100644
--- a/Telegram/ThirdParty/tgcalls/tgcalls/group/GroupInstanceCustomImpl.cpp
+++ b/Telegram/ThirdParty/tgcalls/tgcalls/group/GroupInstanceCustomImpl.cpp
@@ -2880,7 +2880,7 @@ public:
     }
 
     void setAudioOutputDevice(const std::string &id) {
-#ifndef WEBRTC_IOS
+#if !defined(WEBRTC_IOS) && !defined(__HAIKU__)
         _threads->getWorkerThread()->BlockingCall([&] {
             SetAudioOutputDeviceById(_audioDeviceModule.get(), id);
         });
@@ -2888,7 +2888,7 @@ public:
     }
 
     void setAudioInputDevice(const std::string &id) {
-#ifndef WEBRTC_IOS
+#if !defined(WEBRTC_IOS) && !defined(__HAIKU__)
         _threads->getWorkerThread()->BlockingCall([&] {
             SetAudioInputDeviceById(_audioDeviceModule.get(), id);
         });
diff --git a/Telegram/cmake/td_iv.cmake b/Telegram/cmake/td_iv.cmake
index 1d4edf9..602abf4 100644
--- a/Telegram/cmake/td_iv.cmake
+++ b/Telegram/cmake/td_iv.cmake
@@ -38,7 +38,6 @@ PUBLIC
     tdesktop::td_scheme
 PRIVATE
     desktop-app::lib_webview
-    desktop-app::external_ada
     tdesktop::td_lang
     tdesktop::td_ui
 )
diff --git a/Telegram/lib_base/base/haiku_types.h b/Telegram/lib_base/base/haiku_types.h
new file mode 100644
index 0000000..3a57ce2
--- /dev/null
+++ b/Telegram/lib_base/base/haiku_types.h
@@ -0,0 +1,24 @@
+#pragma once
+
+#ifdef Q_OS_HAIKU
+
+#define _SUPPORT_DEFS_H
+
+#ifdef __x86_64__
+#define int64 __haiku_int64
+#ifdef USE_HAIKU_UINT64
+#define uint64 __haiku_uint64
+#endif
+#else
+#define int32 __haiku_int32
+#define uint32 __haiku_uint32
+#endif
+
+typedef int32 status_t;
+typedef uint32 type_code;
+typedef uint32 perform_code;
+
+typedef int64 bigtime_t;
+typedef int64 nanotime_t;
+
+#endif
diff --git a/Telegram/lib_base/base/platform/linux/base_file_utilities_linux.cpp b/Telegram/lib_base/base/platform/linux/base_file_utilities_linux.cpp
index ff70a1c..b49c8c0 100644
--- a/Telegram/lib_base/base/platform/linux/base_file_utilities_linux.cpp
+++ b/Telegram/lib_base/base/platform/linux/base_file_utilities_linux.cpp
@@ -26,8 +26,58 @@
 #include <stdio.h>
 #include <fcntl.h>
 
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#include <AppKit.h>
+#include <StorageKit.h>
+#endif
+
 namespace base::Platform {
 namespace {
+	
+#ifdef Q_OS_HAIKU
+bool HaikuShowInFolder(const QString &filepath) {
+	try {
+		BMessenger trackerMessenger("application/x-vnd.Be-TRAK");
+		if (!trackerMessenger.IsValid())
+			return false;
+
+		BEntry fileEntry(filepath.toUtf8().data());
+		entry_ref fileRef;
+		if (fileEntry.GetRef(&fileRef) != B_OK)
+			return false;
+
+		if (!fileEntry.Exists())
+			return false;
+
+		BEntry folderEntry;
+		if (fileEntry.GetParent(&folderEntry) != B_OK)
+			return false;
+
+		entry_ref folderRef;
+		if (folderEntry.GetRef(&folderRef) != B_OK)
+			return false;
+
+		BMessage openCommand(B_REFS_RECEIVED);
+		openCommand.AddRef("refs", &folderRef);
+		node_ref fileNodeRef;
+		if (fileEntry.GetNodeRef(&fileNodeRef) == B_OK) {
+			openCommand.AddData("nodeRefToSelect", B_RAW_TYPE,
+				static_cast<void*>(&fileNodeRef), sizeof(node_ref));
+		}
+		if (trackerMessenger.SendMessage(&openCommand) == B_OK) {
+			snooze(300000);
+			BMessage selectCommand('Tsel');
+			selectCommand.AddRef("refs", &fileRef);
+			trackerMessenger.SendMessage(&selectCommand);
+			return true;
+		}
+	} catch (...) {
+	}
+
+	return false;
+}
+#endif
 
 using namespace gi::repository;
 namespace GObject = gi::repository::GObject;
@@ -127,12 +177,19 @@ void DBusShowInFolder(const QString &filepath, Fn<void()> fail) {
 } // namespace
 
 void ShowInFolder(const QString &filepath) {
+#ifdef Q_OS_HAIKU
+	if (!HaikuShowInFolder(filepath)) {
+		QDesktopServices::openUrl(
+			QUrl::fromLocalFile(QFileInfo(filepath).absolutePath()));
+	}
+#else
 	DBusShowInFolder(filepath, [=] {
 		PortalShowInFolder(filepath, [=] {
 			QDesktopServices::openUrl(
 				QUrl::fromLocalFile(QFileInfo(filepath).absolutePath()));
 		});
 	});
+#endif
 }
 
 QString CurrentExecutablePath(int argc, char *argv[]) {
diff --git a/Telegram/lib_base/base/platform/linux/base_info_linux.cpp b/Telegram/lib_base/base/platform/linux/base_info_linux.cpp
index d368c5e..4fb2eb1 100644
--- a/Telegram/lib_base/base/platform/linux/base_info_linux.cpp
+++ b/Telegram/lib_base/base/platform/linux/base_info_linux.cpp
@@ -314,6 +314,7 @@ bool IsX11() {
 }
 
 bool IsWayland() {
+#ifndef Q_OS_HAIKU
 	if (!qApp) {
 		static const auto result = []() -> bool {
 			struct wl_display *(*wl_display_connect)(const char *name);
@@ -333,6 +334,7 @@ bool IsWayland() {
 		}();
 		return result;
 	}
+#endif
 	static const bool result =
 #if QT_VERSION >= QT_VERSION_CHECK(6, 7, 0)
 #if defined QT_FEATURE_wayland && QT_CONFIG(wayland)
diff --git a/Telegram/lib_base/base/platform/linux/base_last_input_linux.cpp b/Telegram/lib_base/base/platform/linux/base_last_input_linux.cpp
index 9a52714..9bd332a 100644
--- a/Telegram/lib_base/base/platform/linux/base_last_input_linux.cpp
+++ b/Telegram/lib_base/base/platform/linux/base_last_input_linux.cpp
@@ -16,6 +16,11 @@
 
 #include <mutteridlemonitor/mutteridlemonitor.hpp>
 
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#include <InterfaceDefs.h>
+#endif
+
 namespace base::Platform {
 namespace {
 
@@ -83,9 +88,23 @@ std::optional<crl::time> MutterDBusLastUserInputTime() {
 	return (crl::now() - static_cast<crl::time>(std::get<1>(*result)));
 }
 
+#ifdef Q_OS_HAIKU
+std::optional<crl::time> HaikuLastUserInputTime() {	
+	const auto idle = idle_time() / 1000;
+	return (crl::now() - static_cast<crl::time>(idle));
+}
+#endif
+
 } // namespace
 
 std::optional<crl::time> LastUserInputTime() {
+#ifdef Q_OS_HAIKU
+	const auto haikuResult = HaikuLastUserInputTime();
+	if (haikuResult.has_value()) {
+		return haikuResult;
+	}
+#endif
+
 #ifndef DESKTOP_APP_DISABLE_X11_INTEGRATION
 	const auto xcbResult = XCBLastUserInputTime();
 	if (xcbResult.has_value()) {
diff --git a/Telegram/lib_base/base/platform/linux/base_linux_xdp_utilities.cpp b/Telegram/lib_base/base/platform/linux/base_linux_xdp_utilities.cpp
index 8aca67c..df4dc86 100644
--- a/Telegram/lib_base/base/platform/linux/base_linux_xdp_utilities.cpp
+++ b/Telegram/lib_base/base/platform/linux/base_linux_xdp_utilities.cpp
@@ -10,6 +10,10 @@
 
 #include <xdpsettings/xdpsettings.hpp>
 
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#endif
+
 #include <QtGui/QGuiApplication>
 #include <QtGui/QWindow>
 
diff --git a/Telegram/lib_base/base/platform/linux/base_power_save_blocker_linux.cpp b/Telegram/lib_base/base/platform/linux/base_power_save_blocker_linux.cpp
index 8991260..5d4a40b 100644
--- a/Telegram/lib_base/base/platform/linux/base_power_save_blocker_linux.cpp
+++ b/Telegram/lib_base/base/platform/linux/base_power_save_blocker_linux.cpp
@@ -16,6 +16,10 @@
 #include "base/platform/linux/base_linux_xcb_utilities.h"
 #endif // !DESKTOP_APP_DISABLE_X11_INTEGRATION
 
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#endif
+
 #include <QtGui/QWindow>
 
 #include <xdpinhibit/xdpinhibit.hpp>
diff --git a/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp b/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp
index 8e0ec85..de188ac 100644
--- a/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp
+++ b/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp
@@ -9,6 +9,10 @@
 #include "base/integration.h"
 #include "base/debug_log.h"
 
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#endif
+
 #include <QtGui/QGuiApplication>
 
 #include <kshell.h>
diff --git a/Telegram/lib_spellcheck/spellcheck/third_party/language_cld3.cpp b/Telegram/lib_spellcheck/spellcheck/third_party/language_cld3.cpp
index efbfb72..9c82321 100644
--- a/Telegram/lib_spellcheck/spellcheck/third_party/language_cld3.cpp
+++ b/Telegram/lib_spellcheck/spellcheck/third_party/language_cld3.cpp
@@ -4,6 +4,10 @@
 // For license and copyright information please follow this link:
 // https://github.com/desktop-app/legal/blob/master/LEGAL
 //
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#endif
+
 #include "spellcheck/third_party/language_cld3.h"
 
 #include "nnet_language_identifier.h"
diff --git a/Telegram/lib_ui/ui/ui_utility.cpp b/Telegram/lib_ui/ui/ui_utility.cpp
index 3e15737..ea43678 100644
--- a/Telegram/lib_ui/ui/ui_utility.cpp
+++ b/Telegram/lib_ui/ui/ui_utility.cpp
@@ -11,6 +11,10 @@
 #include "ui/platform/ui_platform_utility.h"
 #include "ui/style/style_core.h"
 
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#endif
+
 #include <QtWidgets/QApplication>
 #include <QtGui/QWindow>
 #include <QtGui/QtEvents>
diff --git a/Telegram/lib_ui/ui/widgets/popup_menu.cpp b/Telegram/lib_ui/ui/widgets/popup_menu.cpp
index c4dd382..8820b10 100644
--- a/Telegram/lib_ui/ui/widgets/popup_menu.cpp
+++ b/Telegram/lib_ui/ui/widgets/popup_menu.cpp
@@ -19,6 +19,10 @@
 #include "base/invoke_queued.h"
 #include "base/platform/base_platform_info.h"
 
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#endif
+
 #include <QtGui/QtEvents>
 #include <QtGui/QPainter>
 #include <QtGui/QScreen>
diff --git a/Telegram/lib_webrtc/webrtc/details/webrtc_openal_adm.cpp b/Telegram/lib_webrtc/webrtc/details/webrtc_openal_adm.cpp
index e51bffa..733f6b5 100644
--- a/Telegram/lib_webrtc/webrtc/details/webrtc_openal_adm.cpp
+++ b/Telegram/lib_webrtc/webrtc/details/webrtc_openal_adm.cpp
@@ -4,6 +4,11 @@
 // For license and copyright information please follow this link:
 // https://github.com/desktop-app/legal/blob/master/LEGAL
 //
+
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#endif
+
 #include "webrtc/details/webrtc_openal_adm.h"
 
 #include "base/timer.h"
diff --git a/Telegram/lib_webrtc/webrtc/webrtc_audio_input_tester.cpp b/Telegram/lib_webrtc/webrtc/webrtc_audio_input_tester.cpp
index d4c3f30..22fb3d6 100644
--- a/Telegram/lib_webrtc/webrtc/webrtc_audio_input_tester.cpp
+++ b/Telegram/lib_webrtc/webrtc/webrtc_audio_input_tester.cpp
@@ -4,6 +4,11 @@
 // For license and copyright information please follow this link:
 // https://github.com/desktop-app/legal/blob/master/LEGAL
 //
+
+#ifdef Q_OS_HAIKU
+#include <base/haiku_types.h>
+#endif
+
 #include "webrtc/webrtc_audio_input_tester.h"
 
 #include "webrtc/webrtc_device_common.h"
diff --git a/Telegram/lib_webview/webview/platform/linux/webview_linux_webkitgtk_library.cpp b/Telegram/lib_webview/webview/platform/linux/webview_linux_webkitgtk_library.cpp
index 009c732..4752f25 100644
--- a/Telegram/lib_webview/webview/platform/linux/webview_linux_webkitgtk_library.cpp
+++ b/Telegram/lib_webview/webview/platform/linux/webview_linux_webkitgtk_library.cpp
@@ -8,6 +8,10 @@
 
 #include "base/platform/linux/base_linux_library.h"
 
+#ifdef __HAIKU__
+#define RTLD_NODELETE 0
+#endif
+
 namespace Webview::WebKitGTK::Library {
 
 ResolveResult Resolve(bool wayland) {
diff --git a/Telegram/lib_webview/webview/webview_data_stream_memory.cpp b/Telegram/lib_webview/webview/webview_data_stream_memory.cpp
index efe587e..b9d3509 100644
--- a/Telegram/lib_webview/webview/webview_data_stream_memory.cpp
+++ b/Telegram/lib_webview/webview/webview_data_stream_memory.cpp
@@ -6,7 +6,7 @@
 //
 #include "webview/webview_data_stream_memory.h"
 
-#if !defined Q_OS_WIN && !defined Q_OS_MAC
+#if !defined Q_OS_WIN && !defined Q_OS_MAC && !defined Q_OS_HAIKU
 #include <sys/mman.h>
 #endif // !Q_OS_WIN && !Q_OS_MAC
 
@@ -17,7 +17,7 @@ DataStreamFromMemory::DataStreamFromMemory(
 	std::string mime)
 : _data(data)
 , _mime(mime) {
-#if !defined Q_OS_WIN && !defined Q_OS_MAC
+#if !defined Q_OS_WIN && !defined Q_OS_MAC && !defined Q_OS_HAIKU
 	const auto handle = memfd_create("webview-data-stream", MFD_CLOEXEC);
 	if (handle == -1) {
 		return;
@@ -44,7 +44,7 @@ DataStreamFromMemory::DataStreamFromMemory(
 }
 
 DataStreamFromMemory::~DataStreamFromMemory() {
-#if !defined Q_OS_WIN && !defined Q_OS_MAC
+#if !defined Q_OS_WIN && !defined Q_OS_MAC && !defined Q_OS_HAIKU
 	if (_handle) {
 		munmap((void*)_data.constData(), _data.size());
 		close(_handle);
diff --git a/cmake/external/CMakeLists.txt b/cmake/external/CMakeLists.txt
index 58f2503..65dbe67 100644
--- a/cmake/external/CMakeLists.txt
+++ b/cmake/external/CMakeLists.txt
@@ -11,7 +11,7 @@ macro(add_checked_subdirectory name)
     endif()
 endmacro()
 
-add_checked_subdirectory(ada)
+#add_checked_subdirectory(ada)
 add_checked_subdirectory(angle)
 add_checked_subdirectory(auto_updates)
 add_checked_subdirectory(boost)
@@ -19,7 +19,7 @@ if (add_cld3_library)
     add_checked_subdirectory(cld3)
 endif()
 add_checked_subdirectory(crash_reports)
-if (LINUX)
+if (LINUX AND NOT HAIKU)
     add_checked_subdirectory(dispatch)
 endif()
 add_checked_subdirectory(expected)
-- 
2.48.1


From b08941e13b31bfdc1c95bb87264379964057b6fe Mon Sep 17 00:00:00 2001
From: Gerasim Troeglazov <3dEyes@gmail.com>
Date: Thu, 3 Apr 2025 13:26:00 +0000
Subject: Add PCH file


diff --git a/pch_disable.patchset b/pch_disable.patchset
new file mode 100644
index 0000000..54bdbd4
--- /dev/null
+++ b/pch_disable.patchset
@@ -0,0 +1,11461 @@
+diff --git a/Telegram/SourceFiles/api/api_attached_stickers.cpp b/Telegram/SourceFiles/api/api_attached_stickers.cpp
+index 0f18e76..f7147e2 100644
+--- a/Telegram/SourceFiles/api/api_attached_stickers.cpp
++++ b/Telegram/SourceFiles/api/api_attached_stickers.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_authorizations.cpp b/Telegram/SourceFiles/api/api_authorizations.cpp
+index 6cd2882..95352e0 100644
+--- a/Telegram/SourceFiles/api/api_authorizations.cpp
++++ b/Telegram/SourceFiles/api/api_authorizations.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_blocked_peers.cpp b/Telegram/SourceFiles/api/api_blocked_peers.cpp
+index 0a79eb7..cdab3cf 100644
+--- a/Telegram/SourceFiles/api/api_blocked_peers.cpp
++++ b/Telegram/SourceFiles/api/api_blocked_peers.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_bot.cpp b/Telegram/SourceFiles/api/api_bot.cpp
+index 5342cbd..21b250c 100644
+--- a/Telegram/SourceFiles/api/api_bot.cpp
++++ b/Telegram/SourceFiles/api/api_bot.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_chat_filters.cpp b/Telegram/SourceFiles/api/api_chat_filters.cpp
+index 55bbabb..a05d002 100644
+--- a/Telegram/SourceFiles/api/api_chat_filters.cpp
++++ b/Telegram/SourceFiles/api/api_chat_filters.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_chat_filters_remove_manager.cpp b/Telegram/SourceFiles/api/api_chat_filters_remove_manager.cpp
+index fe96acc..ae946d9 100644
+--- a/Telegram/SourceFiles/api/api_chat_filters_remove_manager.cpp
++++ b/Telegram/SourceFiles/api/api_chat_filters_remove_manager.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_chat_invite.cpp b/Telegram/SourceFiles/api/api_chat_invite.cpp
+index 18cab33..eb27db7 100644
+--- a/Telegram/SourceFiles/api/api_chat_invite.cpp
++++ b/Telegram/SourceFiles/api/api_chat_invite.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_chat_links.cpp b/Telegram/SourceFiles/api/api_chat_links.cpp
+index aa5be9f..b8c91c6 100644
+--- a/Telegram/SourceFiles/api/api_chat_links.cpp
++++ b/Telegram/SourceFiles/api/api_chat_links.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_chat_participants.cpp b/Telegram/SourceFiles/api/api_chat_participants.cpp
+index 4783907..b8097a0 100644
+--- a/Telegram/SourceFiles/api/api_chat_participants.cpp
++++ b/Telegram/SourceFiles/api/api_chat_participants.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_cloud_password.cpp b/Telegram/SourceFiles/api/api_cloud_password.cpp
+index e974154..1a22b49 100644
+--- a/Telegram/SourceFiles/api/api_cloud_password.cpp
++++ b/Telegram/SourceFiles/api/api_cloud_password.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_common.cpp b/Telegram/SourceFiles/api/api_common.cpp
+index cfb1e72..31aec69 100644
+--- a/Telegram/SourceFiles/api/api_common.cpp
++++ b/Telegram/SourceFiles/api/api_common.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_confirm_phone.cpp b/Telegram/SourceFiles/api/api_confirm_phone.cpp
+index a3b41fe..b686b72 100644
+--- a/Telegram/SourceFiles/api/api_confirm_phone.cpp
++++ b/Telegram/SourceFiles/api/api_confirm_phone.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_credits.cpp b/Telegram/SourceFiles/api/api_credits.cpp
+index 0dc21c6..04a9043 100644
+--- a/Telegram/SourceFiles/api/api_credits.cpp
++++ b/Telegram/SourceFiles/api/api_credits.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_earn.cpp b/Telegram/SourceFiles/api/api_earn.cpp
+index c446901..9b62ec1 100644
+--- a/Telegram/SourceFiles/api/api_earn.cpp
++++ b/Telegram/SourceFiles/api/api_earn.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_editing.cpp b/Telegram/SourceFiles/api/api_editing.cpp
+index 4f5073a..ac853c3 100644
+--- a/Telegram/SourceFiles/api/api_editing.cpp
++++ b/Telegram/SourceFiles/api/api_editing.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_global_privacy.cpp b/Telegram/SourceFiles/api/api_global_privacy.cpp
+index 2a2def3..e13e48e 100644
+--- a/Telegram/SourceFiles/api/api_global_privacy.cpp
++++ b/Telegram/SourceFiles/api/api_global_privacy.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_hash.cpp b/Telegram/SourceFiles/api/api_hash.cpp
+index 15aca8e..303a234 100644
+--- a/Telegram/SourceFiles/api/api_hash.cpp
++++ b/Telegram/SourceFiles/api/api_hash.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_invite_links.cpp b/Telegram/SourceFiles/api/api_invite_links.cpp
+index c896561..51d34f1 100644
+--- a/Telegram/SourceFiles/api/api_invite_links.cpp
++++ b/Telegram/SourceFiles/api/api_invite_links.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_media.cpp b/Telegram/SourceFiles/api/api_media.cpp
+index f733169..384b5a6 100644
+--- a/Telegram/SourceFiles/api/api_media.cpp
++++ b/Telegram/SourceFiles/api/api_media.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_messages_search.cpp b/Telegram/SourceFiles/api/api_messages_search.cpp
+index 8bc7a4e..8f22366 100644
+--- a/Telegram/SourceFiles/api/api_messages_search.cpp
++++ b/Telegram/SourceFiles/api/api_messages_search.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_messages_search_merged.cpp b/Telegram/SourceFiles/api/api_messages_search_merged.cpp
+index 5a26e43..a808ebf 100644
+--- a/Telegram/SourceFiles/api/api_messages_search_merged.cpp
++++ b/Telegram/SourceFiles/api/api_messages_search_merged.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_peer_colors.cpp b/Telegram/SourceFiles/api/api_peer_colors.cpp
+index 5f3fe12..a0b8ba5 100644
+--- a/Telegram/SourceFiles/api/api_peer_colors.cpp
++++ b/Telegram/SourceFiles/api/api_peer_colors.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_peer_photo.cpp b/Telegram/SourceFiles/api/api_peer_photo.cpp
+index 9c8a470..c64a7c8 100644
+--- a/Telegram/SourceFiles/api/api_peer_photo.cpp
++++ b/Telegram/SourceFiles/api/api_peer_photo.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_peer_search.cpp b/Telegram/SourceFiles/api/api_peer_search.cpp
+index 7893346..0885953 100644
+--- a/Telegram/SourceFiles/api/api_peer_search.cpp
++++ b/Telegram/SourceFiles/api/api_peer_search.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_polls.cpp b/Telegram/SourceFiles/api/api_polls.cpp
+index 398bd1a..73fc036 100644
+--- a/Telegram/SourceFiles/api/api_polls.cpp
++++ b/Telegram/SourceFiles/api/api_polls.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_premium.cpp b/Telegram/SourceFiles/api/api_premium.cpp
+index be3ead5..bca4d2c 100644
+--- a/Telegram/SourceFiles/api/api_premium.cpp
++++ b/Telegram/SourceFiles/api/api_premium.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_premium_option.cpp b/Telegram/SourceFiles/api/api_premium_option.cpp
+index d3c67e2..fe9b1cd 100644
+--- a/Telegram/SourceFiles/api/api_premium_option.cpp
++++ b/Telegram/SourceFiles/api/api_premium_option.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_report.cpp b/Telegram/SourceFiles/api/api_report.cpp
+index f3b0658..d2c9192 100644
+--- a/Telegram/SourceFiles/api/api_report.cpp
++++ b/Telegram/SourceFiles/api/api_report.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_ringtones.cpp b/Telegram/SourceFiles/api/api_ringtones.cpp
+index 307ba58..4c52d9c 100644
+--- a/Telegram/SourceFiles/api/api_ringtones.cpp
++++ b/Telegram/SourceFiles/api/api_ringtones.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_self_destruct.cpp b/Telegram/SourceFiles/api/api_self_destruct.cpp
+index 4bc32f8..9a2bee1 100644
+--- a/Telegram/SourceFiles/api/api_self_destruct.cpp
++++ b/Telegram/SourceFiles/api/api_self_destruct.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_send_progress.cpp b/Telegram/SourceFiles/api/api_send_progress.cpp
+index 93d2879..4110b65 100644
+--- a/Telegram/SourceFiles/api/api_send_progress.cpp
++++ b/Telegram/SourceFiles/api/api_send_progress.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_sending.cpp b/Telegram/SourceFiles/api/api_sending.cpp
+index 814b0a9..aeb5ef5 100644
+--- a/Telegram/SourceFiles/api/api_sending.cpp
++++ b/Telegram/SourceFiles/api/api_sending.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_sensitive_content.cpp b/Telegram/SourceFiles/api/api_sensitive_content.cpp
+index 31f83f5..3d89c82 100644
+--- a/Telegram/SourceFiles/api/api_sensitive_content.cpp
++++ b/Telegram/SourceFiles/api/api_sensitive_content.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_single_message_search.cpp b/Telegram/SourceFiles/api/api_single_message_search.cpp
+index 2597c2f..1ffaa4c 100644
+--- a/Telegram/SourceFiles/api/api_single_message_search.cpp
++++ b/Telegram/SourceFiles/api/api_single_message_search.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_statistics.cpp b/Telegram/SourceFiles/api/api_statistics.cpp
+index daed8f1..b7139be 100644
+--- a/Telegram/SourceFiles/api/api_statistics.cpp
++++ b/Telegram/SourceFiles/api/api_statistics.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_statistics_data_deserialize.cpp b/Telegram/SourceFiles/api/api_statistics_data_deserialize.cpp
+index 9ce75af..532edfc 100644
+--- a/Telegram/SourceFiles/api/api_statistics_data_deserialize.cpp
++++ b/Telegram/SourceFiles/api/api_statistics_data_deserialize.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_statistics_sender.cpp b/Telegram/SourceFiles/api/api_statistics_sender.cpp
+index 21d068e..4afef3e 100644
+--- a/Telegram/SourceFiles/api/api_statistics_sender.cpp
++++ b/Telegram/SourceFiles/api/api_statistics_sender.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_text_entities.cpp b/Telegram/SourceFiles/api/api_text_entities.cpp
+index cfafeb3..69b84cc 100644
+--- a/Telegram/SourceFiles/api/api_text_entities.cpp
++++ b/Telegram/SourceFiles/api/api_text_entities.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_toggling_media.cpp b/Telegram/SourceFiles/api/api_toggling_media.cpp
+index 65d2ce3..9118064 100644
+--- a/Telegram/SourceFiles/api/api_toggling_media.cpp
++++ b/Telegram/SourceFiles/api/api_toggling_media.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_transcribes.cpp b/Telegram/SourceFiles/api/api_transcribes.cpp
+index dd983dc..e5aafc3 100644
+--- a/Telegram/SourceFiles/api/api_transcribes.cpp
++++ b/Telegram/SourceFiles/api/api_transcribes.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_unread_things.cpp b/Telegram/SourceFiles/api/api_unread_things.cpp
+index dac998d..ac2a953 100644
+--- a/Telegram/SourceFiles/api/api_unread_things.cpp
++++ b/Telegram/SourceFiles/api/api_unread_things.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_updates.cpp b/Telegram/SourceFiles/api/api_updates.cpp
+index 31a4e73..fc18027 100644
+--- a/Telegram/SourceFiles/api/api_updates.cpp
++++ b/Telegram/SourceFiles/api/api_updates.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_user_names.cpp b/Telegram/SourceFiles/api/api_user_names.cpp
+index fa040f1..3965fb6 100644
+--- a/Telegram/SourceFiles/api/api_user_names.cpp
++++ b/Telegram/SourceFiles/api/api_user_names.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_user_privacy.cpp b/Telegram/SourceFiles/api/api_user_privacy.cpp
+index e07858d..dbd1505 100644
+--- a/Telegram/SourceFiles/api/api_user_privacy.cpp
++++ b/Telegram/SourceFiles/api/api_user_privacy.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_views.cpp b/Telegram/SourceFiles/api/api_views.cpp
+index e80f56e..3835a0e 100644
+--- a/Telegram/SourceFiles/api/api_views.cpp
++++ b/Telegram/SourceFiles/api/api_views.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_websites.cpp b/Telegram/SourceFiles/api/api_websites.cpp
+index 2ea6b2a..646b5d5 100644
+--- a/Telegram/SourceFiles/api/api_websites.cpp
++++ b/Telegram/SourceFiles/api/api_websites.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/api/api_who_reacted.cpp b/Telegram/SourceFiles/api/api_who_reacted.cpp
+index a5186fc..57fd55a 100644
+--- a/Telegram/SourceFiles/api/api_who_reacted.cpp
++++ b/Telegram/SourceFiles/api/api_who_reacted.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/apiwrap.cpp b/Telegram/SourceFiles/apiwrap.cpp
+index c5f4073..6f6e786 100644
+--- a/Telegram/SourceFiles/apiwrap.cpp
++++ b/Telegram/SourceFiles/apiwrap.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/about_box.cpp b/Telegram/SourceFiles/boxes/about_box.cpp
+index 7567429..429bd59 100644
+--- a/Telegram/SourceFiles/boxes/about_box.cpp
++++ b/Telegram/SourceFiles/boxes/about_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/about_sponsored_box.cpp b/Telegram/SourceFiles/boxes/about_sponsored_box.cpp
+index 8c932df..8f1363b 100644
+--- a/Telegram/SourceFiles/boxes/about_sponsored_box.cpp
++++ b/Telegram/SourceFiles/boxes/about_sponsored_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/abstract_box.cpp b/Telegram/SourceFiles/boxes/abstract_box.cpp
+index 5b9f1fd..17dc925 100644
+--- a/Telegram/SourceFiles/boxes/abstract_box.cpp
++++ b/Telegram/SourceFiles/boxes/abstract_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/add_contact_box.cpp b/Telegram/SourceFiles/boxes/add_contact_box.cpp
+index 0205507..78e2115 100644
+--- a/Telegram/SourceFiles/boxes/add_contact_box.cpp
++++ b/Telegram/SourceFiles/boxes/add_contact_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/auto_download_box.cpp b/Telegram/SourceFiles/boxes/auto_download_box.cpp
+index 3617a9e..1ab6516 100644
+--- a/Telegram/SourceFiles/boxes/auto_download_box.cpp
++++ b/Telegram/SourceFiles/boxes/auto_download_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/auto_lock_box.cpp b/Telegram/SourceFiles/boxes/auto_lock_box.cpp
+index cc7cdb4..e405681 100644
+--- a/Telegram/SourceFiles/boxes/auto_lock_box.cpp
++++ b/Telegram/SourceFiles/boxes/auto_lock_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/background_box.cpp b/Telegram/SourceFiles/boxes/background_box.cpp
+index 59729b7..4b172a0 100644
+--- a/Telegram/SourceFiles/boxes/background_box.cpp
++++ b/Telegram/SourceFiles/boxes/background_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/background_preview_box.cpp b/Telegram/SourceFiles/boxes/background_preview_box.cpp
+index 0faa677..a8ede45 100644
+--- a/Telegram/SourceFiles/boxes/background_preview_box.cpp
++++ b/Telegram/SourceFiles/boxes/background_preview_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/choose_filter_box.cpp b/Telegram/SourceFiles/boxes/choose_filter_box.cpp
+index 6630c04..0a1ebef 100644
+--- a/Telegram/SourceFiles/boxes/choose_filter_box.cpp
++++ b/Telegram/SourceFiles/boxes/choose_filter_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/connection_box.cpp b/Telegram/SourceFiles/boxes/connection_box.cpp
+index 621fd2c..e9047cb 100644
+--- a/Telegram/SourceFiles/boxes/connection_box.cpp
++++ b/Telegram/SourceFiles/boxes/connection_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/create_poll_box.cpp b/Telegram/SourceFiles/boxes/create_poll_box.cpp
+index fab9731..b660950 100644
+--- a/Telegram/SourceFiles/boxes/create_poll_box.cpp
++++ b/Telegram/SourceFiles/boxes/create_poll_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/delete_messages_box.cpp b/Telegram/SourceFiles/boxes/delete_messages_box.cpp
+index d880ab5..12fd963 100644
+--- a/Telegram/SourceFiles/boxes/delete_messages_box.cpp
++++ b/Telegram/SourceFiles/boxes/delete_messages_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/dictionaries_manager.cpp b/Telegram/SourceFiles/boxes/dictionaries_manager.cpp
+index 72cfd29..6d6169d 100644
+--- a/Telegram/SourceFiles/boxes/dictionaries_manager.cpp
++++ b/Telegram/SourceFiles/boxes/dictionaries_manager.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/download_path_box.cpp b/Telegram/SourceFiles/boxes/download_path_box.cpp
+index a5e15f3..537174b 100644
+--- a/Telegram/SourceFiles/boxes/download_path_box.cpp
++++ b/Telegram/SourceFiles/boxes/download_path_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/edit_caption_box.cpp b/Telegram/SourceFiles/boxes/edit_caption_box.cpp
+index 25501bd..fc12ea4 100644
+--- a/Telegram/SourceFiles/boxes/edit_caption_box.cpp
++++ b/Telegram/SourceFiles/boxes/edit_caption_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/edit_privacy_box.cpp b/Telegram/SourceFiles/boxes/edit_privacy_box.cpp
+index c3c9232..80d1caa 100644
+--- a/Telegram/SourceFiles/boxes/edit_privacy_box.cpp
++++ b/Telegram/SourceFiles/boxes/edit_privacy_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/filters/edit_filter_box.cpp b/Telegram/SourceFiles/boxes/filters/edit_filter_box.cpp
+index be4531a..2ddbc70 100644
+--- a/Telegram/SourceFiles/boxes/filters/edit_filter_box.cpp
++++ b/Telegram/SourceFiles/boxes/filters/edit_filter_box.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/filters/edit_filter_chats_list.cpp b/Telegram/SourceFiles/boxes/filters/edit_filter_chats_list.cpp
+index a200bce..1b70650 100644
+--- a/Telegram/SourceFiles/boxes/filters/edit_filter_chats_list.cpp
++++ b/Telegram/SourceFiles/boxes/filters/edit_filter_chats_list.cpp
+@@ -1,3 +1,6 @@
++#include "stdafx.h"
++#include "stdafx.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/filters/edit_filter_chats_preview.cpp b/Telegram/SourceFiles/boxes/filters/edit_filter_chats_preview.cpp
+index 1938665..a2f1a5e 100644
+--- a/Telegram/SourceFiles/boxes/filters/edit_filter_chats_preview.cpp
++++ b/Telegram/SourceFiles/boxes/filters/edit_filter_chats_preview.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/filters/edit_filter_links.cpp b/Telegram/SourceFiles/boxes/filters/edit_filter_links.cpp
+index 90dd083..0803124 100644
+--- a/Telegram/SourceFiles/boxes/filters/edit_filter_links.cpp
++++ b/Telegram/SourceFiles/boxes/filters/edit_filter_links.cpp
+@@ -1,3 +1,6 @@
++#include "stdafx.h"
++#include "stdafx.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/gift_credits_box.cpp b/Telegram/SourceFiles/boxes/gift_credits_box.cpp
+index 761b387..8f710dd 100644
+--- a/Telegram/SourceFiles/boxes/gift_credits_box.cpp
++++ b/Telegram/SourceFiles/boxes/gift_credits_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/gift_premium_box.cpp b/Telegram/SourceFiles/boxes/gift_premium_box.cpp
+index 691821c..2def350 100644
+--- a/Telegram/SourceFiles/boxes/gift_premium_box.cpp
++++ b/Telegram/SourceFiles/boxes/gift_premium_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/language_box.cpp b/Telegram/SourceFiles/boxes/language_box.cpp
+index b8a9173..0e21638 100644
+--- a/Telegram/SourceFiles/boxes/language_box.cpp
++++ b/Telegram/SourceFiles/boxes/language_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/local_storage_box.cpp b/Telegram/SourceFiles/boxes/local_storage_box.cpp
+index ade6a4e..6b49a61 100644
+--- a/Telegram/SourceFiles/boxes/local_storage_box.cpp
++++ b/Telegram/SourceFiles/boxes/local_storage_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/max_invite_box.cpp b/Telegram/SourceFiles/boxes/max_invite_box.cpp
+index 3159285..df79fbd 100644
+--- a/Telegram/SourceFiles/boxes/max_invite_box.cpp
++++ b/Telegram/SourceFiles/boxes/max_invite_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/moderate_messages_box.cpp b/Telegram/SourceFiles/boxes/moderate_messages_box.cpp
+index d278d26..f862a1a 100644
+--- a/Telegram/SourceFiles/boxes/moderate_messages_box.cpp
++++ b/Telegram/SourceFiles/boxes/moderate_messages_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/passcode_box.cpp b/Telegram/SourceFiles/boxes/passcode_box.cpp
+index 96d5f2d..d89d492 100644
+--- a/Telegram/SourceFiles/boxes/passcode_box.cpp
++++ b/Telegram/SourceFiles/boxes/passcode_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peer_list_box.cpp b/Telegram/SourceFiles/boxes/peer_list_box.cpp
+index 7a559fa..8525697 100644
+--- a/Telegram/SourceFiles/boxes/peer_list_box.cpp
++++ b/Telegram/SourceFiles/boxes/peer_list_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peer_list_controllers.cpp b/Telegram/SourceFiles/boxes/peer_list_controllers.cpp
+index 3b22147..eef1dfb 100644
+--- a/Telegram/SourceFiles/boxes/peer_list_controllers.cpp
++++ b/Telegram/SourceFiles/boxes/peer_list_controllers.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peer_list_widgets.cpp b/Telegram/SourceFiles/boxes/peer_list_widgets.cpp
+index dfa729e..ea5e5a4 100644
+--- a/Telegram/SourceFiles/boxes/peer_list_widgets.cpp
++++ b/Telegram/SourceFiles/boxes/peer_list_widgets.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peer_lists_box.cpp b/Telegram/SourceFiles/boxes/peer_lists_box.cpp
+index 9929840..b725431 100644
+--- a/Telegram/SourceFiles/boxes/peer_lists_box.cpp
++++ b/Telegram/SourceFiles/boxes/peer_lists_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/add_bot_to_chat_box.cpp b/Telegram/SourceFiles/boxes/peers/add_bot_to_chat_box.cpp
+index e3cf2a2..80dce9d 100644
+--- a/Telegram/SourceFiles/boxes/peers/add_bot_to_chat_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/add_bot_to_chat_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/add_participants_box.cpp b/Telegram/SourceFiles/boxes/peers/add_participants_box.cpp
+index 4701cac..05bab49 100644
+--- a/Telegram/SourceFiles/boxes/peers/add_participants_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/add_participants_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/choose_peer_box.cpp b/Telegram/SourceFiles/boxes/peers/choose_peer_box.cpp
+index 33ce09a..942163d 100644
+--- a/Telegram/SourceFiles/boxes/peers/choose_peer_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/choose_peer_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_contact_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_contact_box.cpp
+index 4bc2848..aef5e1e 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_contact_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_contact_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_forum_topic_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_forum_topic_box.cpp
+index fe67553..d879fba 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_forum_topic_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_forum_topic_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_linked_chat_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_linked_chat_box.cpp
+index bae3d8a..6caabfc 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_linked_chat_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_linked_chat_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_members_visible.cpp b/Telegram/SourceFiles/boxes/peers/edit_members_visible.cpp
+index 216a043..f1cae82 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_members_visible.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_members_visible.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_participant_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_participant_box.cpp
+index e4166a8..c130706 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_participant_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_participant_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_participants_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_participants_box.cpp
+index 1147922..89fcdde 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_participants_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_participants_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_peer_color_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_peer_color_box.cpp
+index c457ce5..27a61ba 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_peer_color_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_peer_color_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_peer_history_visibility_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_peer_history_visibility_box.cpp
+index 8883ad0..e41cb21 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_peer_history_visibility_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_peer_history_visibility_box.cpp
+@@ -1,3 +1,5 @@
++#include "base/base_pch.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_peer_info_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_peer_info_box.cpp
+index a457f08..cb9c32b 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_peer_info_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_peer_info_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_peer_invite_link.cpp b/Telegram/SourceFiles/boxes/peers/edit_peer_invite_link.cpp
+index 70ad41a..8b0d27d 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_peer_invite_link.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_peer_invite_link.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_peer_invite_links.cpp b/Telegram/SourceFiles/boxes/peers/edit_peer_invite_links.cpp
+index e3f3870..5369cf7 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_peer_invite_links.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_peer_invite_links.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_peer_permissions_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_peer_permissions_box.cpp
+index 5f562f5..d258686 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_peer_permissions_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_peer_permissions_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_peer_reactions.cpp b/Telegram/SourceFiles/boxes/peers/edit_peer_reactions.cpp
+index fdc3161..b822226 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_peer_reactions.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_peer_reactions.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_peer_requests_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_peer_requests_box.cpp
+index 26310db..21f93cb 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_peer_requests_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_peer_requests_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_peer_type_box.cpp b/Telegram/SourceFiles/boxes/peers/edit_peer_type_box.cpp
+index b77a9e1..e19d2c4 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_peer_type_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_peer_type_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/edit_peer_usernames_list.cpp b/Telegram/SourceFiles/boxes/peers/edit_peer_usernames_list.cpp
+index 7fcea45..09a83eb 100644
+--- a/Telegram/SourceFiles/boxes/peers/edit_peer_usernames_list.cpp
++++ b/Telegram/SourceFiles/boxes/peers/edit_peer_usernames_list.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/peer_short_info_box.cpp b/Telegram/SourceFiles/boxes/peers/peer_short_info_box.cpp
+index 12fab35..32315de 100644
+--- a/Telegram/SourceFiles/boxes/peers/peer_short_info_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/peer_short_info_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/prepare_short_info_box.cpp b/Telegram/SourceFiles/boxes/peers/prepare_short_info_box.cpp
+index 9341b70..a89416c 100644
+--- a/Telegram/SourceFiles/boxes/peers/prepare_short_info_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/prepare_short_info_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/replace_boost_box.cpp b/Telegram/SourceFiles/boxes/peers/replace_boost_box.cpp
+index 634e4a2..f9e7e3f 100644
+--- a/Telegram/SourceFiles/boxes/peers/replace_boost_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/replace_boost_box.cpp
+@@ -1,3 +1,6 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/peers/verify_peers_box.cpp b/Telegram/SourceFiles/boxes/peers/verify_peers_box.cpp
+index b368f5d..bb8ed8d 100644
+--- a/Telegram/SourceFiles/boxes/peers/verify_peers_box.cpp
++++ b/Telegram/SourceFiles/boxes/peers/verify_peers_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/phone_banned_box.cpp b/Telegram/SourceFiles/boxes/phone_banned_box.cpp
+index b29388e..7fe5e44 100644
+--- a/Telegram/SourceFiles/boxes/phone_banned_box.cpp
++++ b/Telegram/SourceFiles/boxes/phone_banned_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/pin_messages_box.cpp b/Telegram/SourceFiles/boxes/pin_messages_box.cpp
+index 163e9de..3a38144 100644
+--- a/Telegram/SourceFiles/boxes/pin_messages_box.cpp
++++ b/Telegram/SourceFiles/boxes/pin_messages_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/premium_limits_box.cpp b/Telegram/SourceFiles/boxes/premium_limits_box.cpp
+index 325e92c..ef4f9c6 100644
+--- a/Telegram/SourceFiles/boxes/premium_limits_box.cpp
++++ b/Telegram/SourceFiles/boxes/premium_limits_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/premium_preview_box.cpp b/Telegram/SourceFiles/boxes/premium_preview_box.cpp
+index 53c6a67..4aff7e3 100644
+--- a/Telegram/SourceFiles/boxes/premium_preview_box.cpp
++++ b/Telegram/SourceFiles/boxes/premium_preview_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/reactions_settings_box.cpp b/Telegram/SourceFiles/boxes/reactions_settings_box.cpp
+index 8a71e39..4f0d906 100644
+--- a/Telegram/SourceFiles/boxes/reactions_settings_box.cpp
++++ b/Telegram/SourceFiles/boxes/reactions_settings_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/report_messages_box.cpp b/Telegram/SourceFiles/boxes/report_messages_box.cpp
+index 25e548f..cc4bf88 100644
+--- a/Telegram/SourceFiles/boxes/report_messages_box.cpp
++++ b/Telegram/SourceFiles/boxes/report_messages_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/ringtones_box.cpp b/Telegram/SourceFiles/boxes/ringtones_box.cpp
+index 4c299c1..c3a0c14 100644
+--- a/Telegram/SourceFiles/boxes/ringtones_box.cpp
++++ b/Telegram/SourceFiles/boxes/ringtones_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/self_destruction_box.cpp b/Telegram/SourceFiles/boxes/self_destruction_box.cpp
+index c4a070c..fa4731d 100644
+--- a/Telegram/SourceFiles/boxes/self_destruction_box.cpp
++++ b/Telegram/SourceFiles/boxes/self_destruction_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/send_credits_box.cpp b/Telegram/SourceFiles/boxes/send_credits_box.cpp
+index 2a4e4f2..a51ae78 100644
+--- a/Telegram/SourceFiles/boxes/send_credits_box.cpp
++++ b/Telegram/SourceFiles/boxes/send_credits_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/send_files_box.cpp b/Telegram/SourceFiles/boxes/send_files_box.cpp
+index e9d0421..e52ab0c 100644
+--- a/Telegram/SourceFiles/boxes/send_files_box.cpp
++++ b/Telegram/SourceFiles/boxes/send_files_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/send_gif_with_caption_box.cpp b/Telegram/SourceFiles/boxes/send_gif_with_caption_box.cpp
+index b271028..d8539dd 100644
+--- a/Telegram/SourceFiles/boxes/send_gif_with_caption_box.cpp
++++ b/Telegram/SourceFiles/boxes/send_gif_with_caption_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/share_box.cpp b/Telegram/SourceFiles/boxes/share_box.cpp
+index c262435..22f8369 100644
+--- a/Telegram/SourceFiles/boxes/share_box.cpp
++++ b/Telegram/SourceFiles/boxes/share_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/star_gift_box.cpp b/Telegram/SourceFiles/boxes/star_gift_box.cpp
+index f02ea73..c166589 100644
+--- a/Telegram/SourceFiles/boxes/star_gift_box.cpp
++++ b/Telegram/SourceFiles/boxes/star_gift_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/sticker_set_box.cpp b/Telegram/SourceFiles/boxes/sticker_set_box.cpp
+index 8ddbb77..6caa18c 100644
+--- a/Telegram/SourceFiles/boxes/sticker_set_box.cpp
++++ b/Telegram/SourceFiles/boxes/sticker_set_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/stickers_box.cpp b/Telegram/SourceFiles/boxes/stickers_box.cpp
+index 778db60..9e3ae32 100644
+--- a/Telegram/SourceFiles/boxes/stickers_box.cpp
++++ b/Telegram/SourceFiles/boxes/stickers_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/transfer_gift_box.cpp b/Telegram/SourceFiles/boxes/transfer_gift_box.cpp
+index f0f52c1..a73e8c7 100644
+--- a/Telegram/SourceFiles/boxes/transfer_gift_box.cpp
++++ b/Telegram/SourceFiles/boxes/transfer_gift_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/translate_box.cpp b/Telegram/SourceFiles/boxes/translate_box.cpp
+index b79a417..487e12d 100644
+--- a/Telegram/SourceFiles/boxes/translate_box.cpp
++++ b/Telegram/SourceFiles/boxes/translate_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/url_auth_box.cpp b/Telegram/SourceFiles/boxes/url_auth_box.cpp
+index ef72584..bea5f5e 100644
+--- a/Telegram/SourceFiles/boxes/url_auth_box.cpp
++++ b/Telegram/SourceFiles/boxes/url_auth_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/boxes/username_box.cpp b/Telegram/SourceFiles/boxes/username_box.cpp
+index 7df856d..ad2fd79 100644
+--- a/Telegram/SourceFiles/boxes/username_box.cpp
++++ b/Telegram/SourceFiles/boxes/username_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_box_controller.cpp b/Telegram/SourceFiles/calls/calls_box_controller.cpp
+index a3d0d53..129f575 100644
+--- a/Telegram/SourceFiles/calls/calls_box_controller.cpp
++++ b/Telegram/SourceFiles/calls/calls_box_controller.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_call.cpp b/Telegram/SourceFiles/calls/calls_call.cpp
+index 7a55991..2440f3c 100644
+--- a/Telegram/SourceFiles/calls/calls_call.cpp
++++ b/Telegram/SourceFiles/calls/calls_call.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_controller.cpp b/Telegram/SourceFiles/calls/calls_controller.cpp
+index 9b82a8e..d488411 100644
+--- a/Telegram/SourceFiles/calls/calls_controller.cpp
++++ b/Telegram/SourceFiles/calls/calls_controller.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_controller_webrtc.cpp b/Telegram/SourceFiles/calls/calls_controller_webrtc.cpp
+index 6df83c2..648a25a 100644
+--- a/Telegram/SourceFiles/calls/calls_controller_webrtc.cpp
++++ b/Telegram/SourceFiles/calls/calls_controller_webrtc.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_emoji_fingerprint.cpp b/Telegram/SourceFiles/calls/calls_emoji_fingerprint.cpp
+index d6b6ca3..709dd49 100644
+--- a/Telegram/SourceFiles/calls/calls_emoji_fingerprint.cpp
++++ b/Telegram/SourceFiles/calls/calls_emoji_fingerprint.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_instance.cpp b/Telegram/SourceFiles/calls/calls_instance.cpp
+index 02c5fb1..edab213 100644
+--- a/Telegram/SourceFiles/calls/calls_instance.cpp
++++ b/Telegram/SourceFiles/calls/calls_instance.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_panel.cpp b/Telegram/SourceFiles/calls/calls_panel.cpp
+index e5af06c..57723b8 100644
+--- a/Telegram/SourceFiles/calls/calls_panel.cpp
++++ b/Telegram/SourceFiles/calls/calls_panel.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_signal_bars.cpp b/Telegram/SourceFiles/calls/calls_signal_bars.cpp
+index 9d2f3c8..9e5e518 100644
+--- a/Telegram/SourceFiles/calls/calls_signal_bars.cpp
++++ b/Telegram/SourceFiles/calls/calls_signal_bars.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_top_bar.cpp b/Telegram/SourceFiles/calls/calls_top_bar.cpp
+index dea58fd..a9ce333 100644
+--- a/Telegram/SourceFiles/calls/calls_top_bar.cpp
++++ b/Telegram/SourceFiles/calls/calls_top_bar.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_userpic.cpp b/Telegram/SourceFiles/calls/calls_userpic.cpp
+index a57b6ff..6f64d91 100644
+--- a/Telegram/SourceFiles/calls/calls_userpic.cpp
++++ b/Telegram/SourceFiles/calls/calls_userpic.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_video_bubble.cpp b/Telegram/SourceFiles/calls/calls_video_bubble.cpp
+index b6866e9..783a1e7 100644
+--- a/Telegram/SourceFiles/calls/calls_video_bubble.cpp
++++ b/Telegram/SourceFiles/calls/calls_video_bubble.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/calls_video_incoming.cpp b/Telegram/SourceFiles/calls/calls_video_incoming.cpp
+index e1a52eb..dabdfcb 100644
+--- a/Telegram/SourceFiles/calls/calls_video_incoming.cpp
++++ b/Telegram/SourceFiles/calls/calls_video_incoming.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_choose_join_as.cpp b/Telegram/SourceFiles/calls/group/calls_choose_join_as.cpp
+index a3f57de..2e7fbaa 100644
+--- a/Telegram/SourceFiles/calls/group/calls_choose_join_as.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_choose_join_as.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_cover_item.cpp b/Telegram/SourceFiles/calls/group/calls_cover_item.cpp
+index dc77bbe..5bbd797 100644
+--- a/Telegram/SourceFiles/calls/group/calls_cover_item.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_cover_item.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_call.cpp b/Telegram/SourceFiles/calls/group/calls_group_call.cpp
+index 8c1dbb4..9cbc928 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_call.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_call.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_common.cpp b/Telegram/SourceFiles/calls/group/calls_group_common.cpp
+index 4876298..7904263 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_common.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_common.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_invite_controller.cpp b/Telegram/SourceFiles/calls/group/calls_group_invite_controller.cpp
+index bb8c908..3048919 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_invite_controller.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_invite_controller.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_members.cpp b/Telegram/SourceFiles/calls/group/calls_group_members.cpp
+index 928c3b1..8fc4c0c 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_members.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_members.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_members_row.cpp b/Telegram/SourceFiles/calls/group/calls_group_members_row.cpp
+index 02ae9cd..68ace93 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_members_row.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_members_row.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_menu.cpp b/Telegram/SourceFiles/calls/group/calls_group_menu.cpp
+index b5296bc..60223e8 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_menu.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_menu.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_panel.cpp b/Telegram/SourceFiles/calls/group/calls_group_panel.cpp
+index 4ae84ff..923b32e 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_panel.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_panel.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_rtmp.cpp b/Telegram/SourceFiles/calls/group/calls_group_rtmp.cpp
+index db94f72..e2a721b 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_rtmp.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_rtmp.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_settings.cpp b/Telegram/SourceFiles/calls/group/calls_group_settings.cpp
+index 7c2bdfd..16518bd 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_settings.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_settings.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_toasts.cpp b/Telegram/SourceFiles/calls/group/calls_group_toasts.cpp
+index 55e67be..7ec2546 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_toasts.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_toasts.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_viewport.cpp b/Telegram/SourceFiles/calls/group/calls_group_viewport.cpp
+index dc89026..99f2ee5 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_viewport.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_viewport.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_viewport_opengl.cpp b/Telegram/SourceFiles/calls/group/calls_group_viewport_opengl.cpp
+index 9af2a36..9dcce0a 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_viewport_opengl.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_viewport_opengl.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_viewport_raster.cpp b/Telegram/SourceFiles/calls/group/calls_group_viewport_raster.cpp
+index e8aa42a..7cce98e 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_viewport_raster.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_viewport_raster.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_group_viewport_tile.cpp b/Telegram/SourceFiles/calls/group/calls_group_viewport_tile.cpp
+index 1b31a20..60e788a 100644
+--- a/Telegram/SourceFiles/calls/group/calls_group_viewport_tile.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_group_viewport_tile.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/calls_volume_item.cpp b/Telegram/SourceFiles/calls/group/calls_volume_item.cpp
+index 69529b9..410258c 100644
+--- a/Telegram/SourceFiles/calls/group/calls_volume_item.cpp
++++ b/Telegram/SourceFiles/calls/group/calls_volume_item.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/ui/calls_group_recording_box.cpp b/Telegram/SourceFiles/calls/group/ui/calls_group_recording_box.cpp
+index 513fa20..402c95f 100644
+--- a/Telegram/SourceFiles/calls/group/ui/calls_group_recording_box.cpp
++++ b/Telegram/SourceFiles/calls/group/ui/calls_group_recording_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/ui/calls_group_scheduled_labels.cpp b/Telegram/SourceFiles/calls/group/ui/calls_group_scheduled_labels.cpp
+index 708cf3c..e685f00 100644
+--- a/Telegram/SourceFiles/calls/group/ui/calls_group_scheduled_labels.cpp
++++ b/Telegram/SourceFiles/calls/group/ui/calls_group_scheduled_labels.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/group/ui/desktop_capture_choose_source.cpp b/Telegram/SourceFiles/calls/group/ui/desktop_capture_choose_source.cpp
+index a122f09..3cca125 100644
+--- a/Telegram/SourceFiles/calls/group/ui/desktop_capture_choose_source.cpp
++++ b/Telegram/SourceFiles/calls/group/ui/desktop_capture_choose_source.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/calls/ui/calls_device_menu.cpp b/Telegram/SourceFiles/calls/ui/calls_device_menu.cpp
+index 1db1941..20fc026 100644
+--- a/Telegram/SourceFiles/calls/ui/calls_device_menu.cpp
++++ b/Telegram/SourceFiles/calls/ui/calls_device_menu.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/bot_command.cpp b/Telegram/SourceFiles/chat_helpers/bot_command.cpp
+index e827426..eeea454 100644
+--- a/Telegram/SourceFiles/chat_helpers/bot_command.cpp
++++ b/Telegram/SourceFiles/chat_helpers/bot_command.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/bot_keyboard.cpp b/Telegram/SourceFiles/chat_helpers/bot_keyboard.cpp
+index f455a96..e567130 100644
+--- a/Telegram/SourceFiles/chat_helpers/bot_keyboard.cpp
++++ b/Telegram/SourceFiles/chat_helpers/bot_keyboard.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/compose/compose_show.cpp b/Telegram/SourceFiles/chat_helpers/compose/compose_show.cpp
+index 192937b..4e88143 100644
+--- a/Telegram/SourceFiles/chat_helpers/compose/compose_show.cpp
++++ b/Telegram/SourceFiles/chat_helpers/compose/compose_show.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/emoji_interactions.cpp b/Telegram/SourceFiles/chat_helpers/emoji_interactions.cpp
+index 9f7fe7b..e2b2563 100644
+--- a/Telegram/SourceFiles/chat_helpers/emoji_interactions.cpp
++++ b/Telegram/SourceFiles/chat_helpers/emoji_interactions.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/emoji_keywords.cpp b/Telegram/SourceFiles/chat_helpers/emoji_keywords.cpp
+index 500de20..843da83 100644
+--- a/Telegram/SourceFiles/chat_helpers/emoji_keywords.cpp
++++ b/Telegram/SourceFiles/chat_helpers/emoji_keywords.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/emoji_list_widget.cpp b/Telegram/SourceFiles/chat_helpers/emoji_list_widget.cpp
+index dde73d6..f0123f3 100644
+--- a/Telegram/SourceFiles/chat_helpers/emoji_list_widget.cpp
++++ b/Telegram/SourceFiles/chat_helpers/emoji_list_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/emoji_sets_manager.cpp b/Telegram/SourceFiles/chat_helpers/emoji_sets_manager.cpp
+index 2f88f82..bead615 100644
+--- a/Telegram/SourceFiles/chat_helpers/emoji_sets_manager.cpp
++++ b/Telegram/SourceFiles/chat_helpers/emoji_sets_manager.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/emoji_suggestions_widget.cpp b/Telegram/SourceFiles/chat_helpers/emoji_suggestions_widget.cpp
+index 87fd388..c17022c 100644
+--- a/Telegram/SourceFiles/chat_helpers/emoji_suggestions_widget.cpp
++++ b/Telegram/SourceFiles/chat_helpers/emoji_suggestions_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/field_autocomplete.cpp b/Telegram/SourceFiles/chat_helpers/field_autocomplete.cpp
+index 209dab9..7ffebfc 100644
+--- a/Telegram/SourceFiles/chat_helpers/field_autocomplete.cpp
++++ b/Telegram/SourceFiles/chat_helpers/field_autocomplete.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/field_characters_count_manager.cpp b/Telegram/SourceFiles/chat_helpers/field_characters_count_manager.cpp
+index 87d1f61..9f10459 100644
+--- a/Telegram/SourceFiles/chat_helpers/field_characters_count_manager.cpp
++++ b/Telegram/SourceFiles/chat_helpers/field_characters_count_manager.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/gifs_list_widget.cpp b/Telegram/SourceFiles/chat_helpers/gifs_list_widget.cpp
+index ba0a303..60cf0d8 100644
+--- a/Telegram/SourceFiles/chat_helpers/gifs_list_widget.cpp
++++ b/Telegram/SourceFiles/chat_helpers/gifs_list_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/message_field.cpp b/Telegram/SourceFiles/chat_helpers/message_field.cpp
+index b9e2641..f1474b8 100644
+--- a/Telegram/SourceFiles/chat_helpers/message_field.cpp
++++ b/Telegram/SourceFiles/chat_helpers/message_field.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/share_message_phrase_factory.cpp b/Telegram/SourceFiles/chat_helpers/share_message_phrase_factory.cpp
+index 3d08fb9..b06a250 100644
+--- a/Telegram/SourceFiles/chat_helpers/share_message_phrase_factory.cpp
++++ b/Telegram/SourceFiles/chat_helpers/share_message_phrase_factory.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/spellchecker_common.cpp b/Telegram/SourceFiles/chat_helpers/spellchecker_common.cpp
+index 42b980f..f7b2fa5 100644
+--- a/Telegram/SourceFiles/chat_helpers/spellchecker_common.cpp
++++ b/Telegram/SourceFiles/chat_helpers/spellchecker_common.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/stickers_dice_pack.cpp b/Telegram/SourceFiles/chat_helpers/stickers_dice_pack.cpp
+index 8941f35..bbf5fe7 100644
+--- a/Telegram/SourceFiles/chat_helpers/stickers_dice_pack.cpp
++++ b/Telegram/SourceFiles/chat_helpers/stickers_dice_pack.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/stickers_emoji_image_loader.cpp b/Telegram/SourceFiles/chat_helpers/stickers_emoji_image_loader.cpp
+index b5f0b20..01e7cc5 100644
+--- a/Telegram/SourceFiles/chat_helpers/stickers_emoji_image_loader.cpp
++++ b/Telegram/SourceFiles/chat_helpers/stickers_emoji_image_loader.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/stickers_emoji_pack.cpp b/Telegram/SourceFiles/chat_helpers/stickers_emoji_pack.cpp
+index af07736..b9ef19c 100644
+--- a/Telegram/SourceFiles/chat_helpers/stickers_emoji_pack.cpp
++++ b/Telegram/SourceFiles/chat_helpers/stickers_emoji_pack.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/stickers_gift_box_pack.cpp b/Telegram/SourceFiles/chat_helpers/stickers_gift_box_pack.cpp
+index a4c98c4..2f168d5 100644
+--- a/Telegram/SourceFiles/chat_helpers/stickers_gift_box_pack.cpp
++++ b/Telegram/SourceFiles/chat_helpers/stickers_gift_box_pack.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/stickers_list_footer.cpp b/Telegram/SourceFiles/chat_helpers/stickers_list_footer.cpp
+index 6ea61e0..4cee4b2 100644
+--- a/Telegram/SourceFiles/chat_helpers/stickers_list_footer.cpp
++++ b/Telegram/SourceFiles/chat_helpers/stickers_list_footer.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/stickers_list_widget.cpp b/Telegram/SourceFiles/chat_helpers/stickers_list_widget.cpp
+index fed2bbd..85f7fcf 100644
+--- a/Telegram/SourceFiles/chat_helpers/stickers_list_widget.cpp
++++ b/Telegram/SourceFiles/chat_helpers/stickers_list_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/stickers_lottie.cpp b/Telegram/SourceFiles/chat_helpers/stickers_lottie.cpp
+index 04ceda9..d2e72f0 100644
+--- a/Telegram/SourceFiles/chat_helpers/stickers_lottie.cpp
++++ b/Telegram/SourceFiles/chat_helpers/stickers_lottie.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/tabbed_panel.cpp b/Telegram/SourceFiles/chat_helpers/tabbed_panel.cpp
+index 5ff9b9a..bcf907c 100644
+--- a/Telegram/SourceFiles/chat_helpers/tabbed_panel.cpp
++++ b/Telegram/SourceFiles/chat_helpers/tabbed_panel.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/tabbed_section.cpp b/Telegram/SourceFiles/chat_helpers/tabbed_section.cpp
+index 7efa340..63c3bbc 100644
+--- a/Telegram/SourceFiles/chat_helpers/tabbed_section.cpp
++++ b/Telegram/SourceFiles/chat_helpers/tabbed_section.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/tabbed_selector.cpp b/Telegram/SourceFiles/chat_helpers/tabbed_selector.cpp
+index 04d4984..074bb96 100644
+--- a/Telegram/SourceFiles/chat_helpers/tabbed_selector.cpp
++++ b/Telegram/SourceFiles/chat_helpers/tabbed_selector.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/chat_helpers/ttl_media_layer_widget.cpp b/Telegram/SourceFiles/chat_helpers/ttl_media_layer_widget.cpp
+index 583fed2..e322bd7 100644
+--- a/Telegram/SourceFiles/chat_helpers/ttl_media_layer_widget.cpp
++++ b/Telegram/SourceFiles/chat_helpers/ttl_media_layer_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/application.cpp b/Telegram/SourceFiles/core/application.cpp
+index f44a792..8622d18 100644
+--- a/Telegram/SourceFiles/core/application.cpp
++++ b/Telegram/SourceFiles/core/application.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/base_integration.cpp b/Telegram/SourceFiles/core/base_integration.cpp
+index 4e794a1..b7fa545 100644
+--- a/Telegram/SourceFiles/core/base_integration.cpp
++++ b/Telegram/SourceFiles/core/base_integration.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/changelogs.cpp b/Telegram/SourceFiles/core/changelogs.cpp
+index ddb5b8a..adffd67 100644
+--- a/Telegram/SourceFiles/core/changelogs.cpp
++++ b/Telegram/SourceFiles/core/changelogs.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/click_handler_types.cpp b/Telegram/SourceFiles/core/click_handler_types.cpp
+index 9e29098..5561ae0 100644
+--- a/Telegram/SourceFiles/core/click_handler_types.cpp
++++ b/Telegram/SourceFiles/core/click_handler_types.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/core_cloud_password.cpp b/Telegram/SourceFiles/core/core_cloud_password.cpp
+index a835112..73a3a51 100644
+--- a/Telegram/SourceFiles/core/core_cloud_password.cpp
++++ b/Telegram/SourceFiles/core/core_cloud_password.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/core_settings.cpp b/Telegram/SourceFiles/core/core_settings.cpp
+index 26a88ce..3f79cee 100644
+--- a/Telegram/SourceFiles/core/core_settings.cpp
++++ b/Telegram/SourceFiles/core/core_settings.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/core_settings_proxy.cpp b/Telegram/SourceFiles/core/core_settings_proxy.cpp
+index 1807aa2..cbf9248 100644
+--- a/Telegram/SourceFiles/core/core_settings_proxy.cpp
++++ b/Telegram/SourceFiles/core/core_settings_proxy.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/crash_report_window.cpp b/Telegram/SourceFiles/core/crash_report_window.cpp
+index b73c12a..d7b33f0 100644
+--- a/Telegram/SourceFiles/core/crash_report_window.cpp
++++ b/Telegram/SourceFiles/core/crash_report_window.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/crash_reports.cpp b/Telegram/SourceFiles/core/crash_reports.cpp
+index 1e38d72..2d17546 100644
+--- a/Telegram/SourceFiles/core/crash_reports.cpp
++++ b/Telegram/SourceFiles/core/crash_reports.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/current_geo_location.cpp b/Telegram/SourceFiles/core/current_geo_location.cpp
+index 2ec4a9c..620026b 100644
+--- a/Telegram/SourceFiles/core/current_geo_location.cpp
++++ b/Telegram/SourceFiles/core/current_geo_location.cpp
+@@ -1,3 +1,5 @@
++#include "base/base_pch.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/file_location.cpp b/Telegram/SourceFiles/core/file_location.cpp
+index 8d2eef4..7be22a9 100644
+--- a/Telegram/SourceFiles/core/file_location.cpp
++++ b/Telegram/SourceFiles/core/file_location.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/file_utilities.cpp b/Telegram/SourceFiles/core/file_utilities.cpp
+index 21d912f..9a16de8 100644
+--- a/Telegram/SourceFiles/core/file_utilities.cpp
++++ b/Telegram/SourceFiles/core/file_utilities.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/launcher.cpp b/Telegram/SourceFiles/core/launcher.cpp
+index e844acf..79fbbf7 100644
+--- a/Telegram/SourceFiles/core/launcher.cpp
++++ b/Telegram/SourceFiles/core/launcher.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/local_url_handlers.cpp b/Telegram/SourceFiles/core/local_url_handlers.cpp
+index 76a4c1a..aba448b 100644
+--- a/Telegram/SourceFiles/core/local_url_handlers.cpp
++++ b/Telegram/SourceFiles/core/local_url_handlers.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/mime_type.cpp b/Telegram/SourceFiles/core/mime_type.cpp
+index 5e15fd4..a44b60d 100644
+--- a/Telegram/SourceFiles/core/mime_type.cpp
++++ b/Telegram/SourceFiles/core/mime_type.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/phone_click_handler.cpp b/Telegram/SourceFiles/core/phone_click_handler.cpp
+index ec34b8f..42f0ea4 100644
+--- a/Telegram/SourceFiles/core/phone_click_handler.cpp
++++ b/Telegram/SourceFiles/core/phone_click_handler.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/sandbox.cpp b/Telegram/SourceFiles/core/sandbox.cpp
+index 0e0b448..818526e 100644
+--- a/Telegram/SourceFiles/core/sandbox.cpp
++++ b/Telegram/SourceFiles/core/sandbox.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/shortcuts.cpp b/Telegram/SourceFiles/core/shortcuts.cpp
+index fe26109..b87e382 100644
+--- a/Telegram/SourceFiles/core/shortcuts.cpp
++++ b/Telegram/SourceFiles/core/shortcuts.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/ui_integration.cpp b/Telegram/SourceFiles/core/ui_integration.cpp
+index 83d287a..f2d6f31 100644
+--- a/Telegram/SourceFiles/core/ui_integration.cpp
++++ b/Telegram/SourceFiles/core/ui_integration.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/update_checker.cpp b/Telegram/SourceFiles/core/update_checker.cpp
+index 777dde8..c95e161 100644
+--- a/Telegram/SourceFiles/core/update_checker.cpp
++++ b/Telegram/SourceFiles/core/update_checker.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/core/utils.cpp b/Telegram/SourceFiles/core/utils.cpp
+index c4d0b76..565a7e3 100644
+--- a/Telegram/SourceFiles/core/utils.cpp
++++ b/Telegram/SourceFiles/core/utils.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/countries/countries_instance.cpp b/Telegram/SourceFiles/countries/countries_instance.cpp
+index d9ef7c3..a96ac4c 100644
+--- a/Telegram/SourceFiles/countries/countries_instance.cpp
++++ b/Telegram/SourceFiles/countries/countries_instance.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/countries/countries_manager.cpp b/Telegram/SourceFiles/countries/countries_manager.cpp
+index 5b8c30c..ec9fa95 100644
+--- a/Telegram/SourceFiles/countries/countries_manager.cpp
++++ b/Telegram/SourceFiles/countries/countries_manager.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/business/data_business_chatbots.cpp b/Telegram/SourceFiles/data/business/data_business_chatbots.cpp
+index 126b704..cd1086a 100644
+--- a/Telegram/SourceFiles/data/business/data_business_chatbots.cpp
++++ b/Telegram/SourceFiles/data/business/data_business_chatbots.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/business/data_business_common.cpp b/Telegram/SourceFiles/data/business/data_business_common.cpp
+index dc6619f..9876942 100644
+--- a/Telegram/SourceFiles/data/business/data_business_common.cpp
++++ b/Telegram/SourceFiles/data/business/data_business_common.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/business/data_business_info.cpp b/Telegram/SourceFiles/data/business/data_business_info.cpp
+index d9bb6ec..a75de79 100644
+--- a/Telegram/SourceFiles/data/business/data_business_info.cpp
++++ b/Telegram/SourceFiles/data/business/data_business_info.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/business/data_shortcut_messages.cpp b/Telegram/SourceFiles/data/business/data_shortcut_messages.cpp
+index ca6f362..190fcce 100644
+--- a/Telegram/SourceFiles/data/business/data_shortcut_messages.cpp
++++ b/Telegram/SourceFiles/data/business/data_shortcut_messages.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/components/credits.cpp b/Telegram/SourceFiles/data/components/credits.cpp
+index a3e57c0..b725a51 100644
+--- a/Telegram/SourceFiles/data/components/credits.cpp
++++ b/Telegram/SourceFiles/data/components/credits.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/components/factchecks.cpp b/Telegram/SourceFiles/data/components/factchecks.cpp
+index 7725192..92f2419 100644
+--- a/Telegram/SourceFiles/data/components/factchecks.cpp
++++ b/Telegram/SourceFiles/data/components/factchecks.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/components/location_pickers.cpp b/Telegram/SourceFiles/data/components/location_pickers.cpp
+index 4402e4c..342ff6b 100644
+--- a/Telegram/SourceFiles/data/components/location_pickers.cpp
++++ b/Telegram/SourceFiles/data/components/location_pickers.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+@@ -41,4 +43,4 @@ void LocationPickers::emplace(
+ 	_pickers.push_back({ action, picker });
+ }
+ 
+-} // namespace Data
+\ No newline at end of file
++} // namespace Data
+diff --git a/Telegram/SourceFiles/data/components/recent_peers.cpp b/Telegram/SourceFiles/data/components/recent_peers.cpp
+index 0997cc1..7c8e0b2 100644
+--- a/Telegram/SourceFiles/data/components/recent_peers.cpp
++++ b/Telegram/SourceFiles/data/components/recent_peers.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/components/scheduled_messages.cpp b/Telegram/SourceFiles/data/components/scheduled_messages.cpp
+index cecdf36..1539bd7 100644
+--- a/Telegram/SourceFiles/data/components/scheduled_messages.cpp
++++ b/Telegram/SourceFiles/data/components/scheduled_messages.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/components/sponsored_messages.cpp b/Telegram/SourceFiles/data/components/sponsored_messages.cpp
+index fa5dacf..2af2256 100644
+--- a/Telegram/SourceFiles/data/components/sponsored_messages.cpp
++++ b/Telegram/SourceFiles/data/components/sponsored_messages.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/components/top_peers.cpp b/Telegram/SourceFiles/data/components/top_peers.cpp
+index 4fac09a..051680e 100644
+--- a/Telegram/SourceFiles/data/components/top_peers.cpp
++++ b/Telegram/SourceFiles/data/components/top_peers.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_abstract_structure.cpp b/Telegram/SourceFiles/data/data_abstract_structure.cpp
+index aa02c91..cde7f74 100644
+--- a/Telegram/SourceFiles/data/data_abstract_structure.cpp
++++ b/Telegram/SourceFiles/data/data_abstract_structure.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_audio_msg_id.cpp b/Telegram/SourceFiles/data/data_audio_msg_id.cpp
+index d8365be..dc8a83b 100644
+--- a/Telegram/SourceFiles/data/data_audio_msg_id.cpp
++++ b/Telegram/SourceFiles/data/data_audio_msg_id.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_audio_msg_id.h b/Telegram/SourceFiles/data/data_audio_msg_id.h
+index 2951587..e67c37e 100644
+--- a/Telegram/SourceFiles/data/data_audio_msg_id.h
++++ b/Telegram/SourceFiles/data/data_audio_msg_id.h
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_auto_download.cpp b/Telegram/SourceFiles/data/data_auto_download.cpp
+index c0ea850..d14b545 100644
+--- a/Telegram/SourceFiles/data/data_auto_download.cpp
++++ b/Telegram/SourceFiles/data/data_auto_download.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_auto_download.h b/Telegram/SourceFiles/data/data_auto_download.h
+index a327545..722864f 100644
+--- a/Telegram/SourceFiles/data/data_auto_download.h
++++ b/Telegram/SourceFiles/data/data_auto_download.h
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_birthday.cpp b/Telegram/SourceFiles/data/data_birthday.cpp
+index 34a2b07..a36b0b1 100644
+--- a/Telegram/SourceFiles/data/data_birthday.cpp
++++ b/Telegram/SourceFiles/data/data_birthday.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_bot_app.cpp b/Telegram/SourceFiles/data/data_bot_app.cpp
+index ff9705c..ffdc956 100644
+--- a/Telegram/SourceFiles/data/data_bot_app.cpp
++++ b/Telegram/SourceFiles/data/data_bot_app.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_changes.cpp b/Telegram/SourceFiles/data/data_changes.cpp
+index 773c50d..8726cbc 100644
+--- a/Telegram/SourceFiles/data/data_changes.cpp
++++ b/Telegram/SourceFiles/data/data_changes.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_channel.cpp b/Telegram/SourceFiles/data/data_channel.cpp
+index f217693..7b39f7a 100644
+--- a/Telegram/SourceFiles/data/data_channel.cpp
++++ b/Telegram/SourceFiles/data/data_channel.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_channel_admins.cpp b/Telegram/SourceFiles/data/data_channel_admins.cpp
+index e7ac8ce..2270787 100644
+--- a/Telegram/SourceFiles/data/data_channel_admins.cpp
++++ b/Telegram/SourceFiles/data/data_channel_admins.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_chat.cpp b/Telegram/SourceFiles/data/data_chat.cpp
+index 6f285e8..b8a1a22 100644
+--- a/Telegram/SourceFiles/data/data_chat.cpp
++++ b/Telegram/SourceFiles/data/data_chat.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_chat_filters.cpp b/Telegram/SourceFiles/data/data_chat_filters.cpp
+index a53a8f5..ddcf2cb 100644
+--- a/Telegram/SourceFiles/data/data_chat_filters.cpp
++++ b/Telegram/SourceFiles/data/data_chat_filters.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_chat_participant_status.cpp b/Telegram/SourceFiles/data/data_chat_participant_status.cpp
+index 81b3330..5634d15 100644
+--- a/Telegram/SourceFiles/data/data_chat_participant_status.cpp
++++ b/Telegram/SourceFiles/data/data_chat_participant_status.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_cloud_file.cpp b/Telegram/SourceFiles/data/data_cloud_file.cpp
+index 7b3e738..fa91e98 100644
+--- a/Telegram/SourceFiles/data/data_cloud_file.cpp
++++ b/Telegram/SourceFiles/data/data_cloud_file.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_cloud_themes.cpp b/Telegram/SourceFiles/data/data_cloud_themes.cpp
+index 5ac1c20..efa5b1c 100644
+--- a/Telegram/SourceFiles/data/data_cloud_themes.cpp
++++ b/Telegram/SourceFiles/data/data_cloud_themes.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_document.cpp b/Telegram/SourceFiles/data/data_document.cpp
+index c6befff..f9c5512 100644
+--- a/Telegram/SourceFiles/data/data_document.cpp
++++ b/Telegram/SourceFiles/data/data_document.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_document.h b/Telegram/SourceFiles/data/data_document.h
+index f91f828..d75ec1a 100644
+--- a/Telegram/SourceFiles/data/data_document.h
++++ b/Telegram/SourceFiles/data/data_document.h
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_document_media.cpp b/Telegram/SourceFiles/data/data_document_media.cpp
+index e610303..5bd9434 100644
+--- a/Telegram/SourceFiles/data/data_document_media.cpp
++++ b/Telegram/SourceFiles/data/data_document_media.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_document_resolver.cpp b/Telegram/SourceFiles/data/data_document_resolver.cpp
+index 4c901da..2e1e00d 100644
+--- a/Telegram/SourceFiles/data/data_document_resolver.cpp
++++ b/Telegram/SourceFiles/data/data_document_resolver.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_download_manager.cpp b/Telegram/SourceFiles/data/data_download_manager.cpp
+index 79db0ac..e0cf5a8 100644
+--- a/Telegram/SourceFiles/data/data_download_manager.cpp
++++ b/Telegram/SourceFiles/data/data_download_manager.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_drafts.cpp b/Telegram/SourceFiles/data/data_drafts.cpp
+index 1bd7135..496275b 100644
+--- a/Telegram/SourceFiles/data/data_drafts.cpp
++++ b/Telegram/SourceFiles/data/data_drafts.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_emoji_statuses.cpp b/Telegram/SourceFiles/data/data_emoji_statuses.cpp
+index 73c1598..6a7cc87 100644
+--- a/Telegram/SourceFiles/data/data_emoji_statuses.cpp
++++ b/Telegram/SourceFiles/data/data_emoji_statuses.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_file_click_handler.cpp b/Telegram/SourceFiles/data/data_file_click_handler.cpp
+index e42397d..a9f931d 100644
+--- a/Telegram/SourceFiles/data/data_file_click_handler.cpp
++++ b/Telegram/SourceFiles/data/data_file_click_handler.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_file_origin.cpp b/Telegram/SourceFiles/data/data_file_origin.cpp
+index e928458..2a77591 100644
+--- a/Telegram/SourceFiles/data/data_file_origin.cpp
++++ b/Telegram/SourceFiles/data/data_file_origin.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_folder.cpp b/Telegram/SourceFiles/data/data_folder.cpp
+index e6599a5..bb1c7a6 100644
+--- a/Telegram/SourceFiles/data/data_folder.cpp
++++ b/Telegram/SourceFiles/data/data_folder.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_forum.cpp b/Telegram/SourceFiles/data/data_forum.cpp
+index 361135d..47f9222 100644
+--- a/Telegram/SourceFiles/data/data_forum.cpp
++++ b/Telegram/SourceFiles/data/data_forum.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_forum_icons.cpp b/Telegram/SourceFiles/data/data_forum_icons.cpp
+index c47c8e6..7a4a77e 100644
+--- a/Telegram/SourceFiles/data/data_forum_icons.cpp
++++ b/Telegram/SourceFiles/data/data_forum_icons.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_forum_topic.cpp b/Telegram/SourceFiles/data/data_forum_topic.cpp
+index 7e79988..26ac997 100644
+--- a/Telegram/SourceFiles/data/data_forum_topic.cpp
++++ b/Telegram/SourceFiles/data/data_forum_topic.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_game.cpp b/Telegram/SourceFiles/data/data_game.cpp
+index 6861e69..4fdf633 100644
+--- a/Telegram/SourceFiles/data/data_game.cpp
++++ b/Telegram/SourceFiles/data/data_game.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_group_call.cpp b/Telegram/SourceFiles/data/data_group_call.cpp
+index 0cc7129..37faa2f 100644
+--- a/Telegram/SourceFiles/data/data_group_call.cpp
++++ b/Telegram/SourceFiles/data/data_group_call.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_groups.cpp b/Telegram/SourceFiles/data/data_groups.cpp
+index 15bb0d8..0a13e8d 100644
+--- a/Telegram/SourceFiles/data/data_groups.cpp
++++ b/Telegram/SourceFiles/data/data_groups.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_histories.cpp b/Telegram/SourceFiles/data/data_histories.cpp
+index e9b0b02..98729a3 100644
+--- a/Telegram/SourceFiles/data/data_histories.cpp
++++ b/Telegram/SourceFiles/data/data_histories.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_history_messages.cpp b/Telegram/SourceFiles/data/data_history_messages.cpp
+index 5d5dffa..d51e9ee 100644
+--- a/Telegram/SourceFiles/data/data_history_messages.cpp
++++ b/Telegram/SourceFiles/data/data_history_messages.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+@@ -217,4 +219,4 @@ rpl::producer<MessagesSlice> HistoryMessagesViewer(
+ 	});
+ }
+ 
+-} // namespace Data
+\ No newline at end of file
++} // namespace Data
+diff --git a/Telegram/SourceFiles/data/data_location.cpp b/Telegram/SourceFiles/data/data_location.cpp
+index 457bb64..121fe1f 100644
+--- a/Telegram/SourceFiles/data/data_location.cpp
++++ b/Telegram/SourceFiles/data/data_location.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_media_preload.cpp b/Telegram/SourceFiles/data/data_media_preload.cpp
+index 8fb9380..b93a75d 100644
+--- a/Telegram/SourceFiles/data/data_media_preload.cpp
++++ b/Telegram/SourceFiles/data/data_media_preload.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_media_rotation.cpp b/Telegram/SourceFiles/data/data_media_rotation.cpp
+index eaa0a12..3ca4760 100644
+--- a/Telegram/SourceFiles/data/data_media_rotation.cpp
++++ b/Telegram/SourceFiles/data/data_media_rotation.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_media_types.cpp b/Telegram/SourceFiles/data/data_media_types.cpp
+index 97ef0e6..6aa837e 100644
+--- a/Telegram/SourceFiles/data/data_media_types.cpp
++++ b/Telegram/SourceFiles/data/data_media_types.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_message_reaction_id.cpp b/Telegram/SourceFiles/data/data_message_reaction_id.cpp
+index b4a34a7..b0a35f7 100644
+--- a/Telegram/SourceFiles/data/data_message_reaction_id.cpp
++++ b/Telegram/SourceFiles/data/data_message_reaction_id.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_message_reactions.cpp b/Telegram/SourceFiles/data/data_message_reactions.cpp
+index e5dd4cd..6457fd3 100644
+--- a/Telegram/SourceFiles/data/data_message_reactions.cpp
++++ b/Telegram/SourceFiles/data/data_message_reactions.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_messages.cpp b/Telegram/SourceFiles/data/data_messages.cpp
+index fabee6f..7395b01 100644
+--- a/Telegram/SourceFiles/data/data_messages.cpp
++++ b/Telegram/SourceFiles/data/data_messages.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_peer.cpp b/Telegram/SourceFiles/data/data_peer.cpp
+index 41d5d19..c91e1c5 100644
+--- a/Telegram/SourceFiles/data/data_peer.cpp
++++ b/Telegram/SourceFiles/data/data_peer.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_peer_bot_command.cpp b/Telegram/SourceFiles/data/data_peer_bot_command.cpp
+index 9aef254..064f161 100644
+--- a/Telegram/SourceFiles/data/data_peer_bot_command.cpp
++++ b/Telegram/SourceFiles/data/data_peer_bot_command.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_peer_bot_commands.cpp b/Telegram/SourceFiles/data/data_peer_bot_commands.cpp
+index 2487dc7..651cad5 100644
+--- a/Telegram/SourceFiles/data/data_peer_bot_commands.cpp
++++ b/Telegram/SourceFiles/data/data_peer_bot_commands.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_peer_id.cpp b/Telegram/SourceFiles/data/data_peer_id.cpp
+index b6a7723..3c5792d 100644
+--- a/Telegram/SourceFiles/data/data_peer_id.cpp
++++ b/Telegram/SourceFiles/data/data_peer_id.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_peer_values.cpp b/Telegram/SourceFiles/data/data_peer_values.cpp
+index b79b1db..a81ece0 100644
+--- a/Telegram/SourceFiles/data/data_peer_values.cpp
++++ b/Telegram/SourceFiles/data/data_peer_values.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_photo.cpp b/Telegram/SourceFiles/data/data_photo.cpp
+index 0a2d37f..be18b20 100644
+--- a/Telegram/SourceFiles/data/data_photo.cpp
++++ b/Telegram/SourceFiles/data/data_photo.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_photo_media.cpp b/Telegram/SourceFiles/data/data_photo_media.cpp
+index af01588..a706fc5 100644
+--- a/Telegram/SourceFiles/data/data_photo_media.cpp
++++ b/Telegram/SourceFiles/data/data_photo_media.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_poll.cpp b/Telegram/SourceFiles/data/data_poll.cpp
+index 64a3176..8bc3989 100644
+--- a/Telegram/SourceFiles/data/data_poll.cpp
++++ b/Telegram/SourceFiles/data/data_poll.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_premium_limits.cpp b/Telegram/SourceFiles/data/data_premium_limits.cpp
+index 6421f72..b1d19cc 100644
+--- a/Telegram/SourceFiles/data/data_premium_limits.cpp
++++ b/Telegram/SourceFiles/data/data_premium_limits.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_pts_waiter.cpp b/Telegram/SourceFiles/data/data_pts_waiter.cpp
+index 316ef0a..547ed9f 100644
+--- a/Telegram/SourceFiles/data/data_pts_waiter.cpp
++++ b/Telegram/SourceFiles/data/data_pts_waiter.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_replies_list.cpp b/Telegram/SourceFiles/data/data_replies_list.cpp
+index 2a962dc..ce2f3c5 100644
+--- a/Telegram/SourceFiles/data/data_replies_list.cpp
++++ b/Telegram/SourceFiles/data/data_replies_list.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_reply_preview.cpp b/Telegram/SourceFiles/data/data_reply_preview.cpp
+index e31f30f..fbd87a0 100644
+--- a/Telegram/SourceFiles/data/data_reply_preview.cpp
++++ b/Telegram/SourceFiles/data/data_reply_preview.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_saved_messages.cpp b/Telegram/SourceFiles/data/data_saved_messages.cpp
+index 9a4f444..9ef1506 100644
+--- a/Telegram/SourceFiles/data/data_saved_messages.cpp
++++ b/Telegram/SourceFiles/data/data_saved_messages.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_saved_sublist.cpp b/Telegram/SourceFiles/data/data_saved_sublist.cpp
+index 2d129a5..1fb5635 100644
+--- a/Telegram/SourceFiles/data/data_saved_sublist.cpp
++++ b/Telegram/SourceFiles/data/data_saved_sublist.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_search_controller.cpp b/Telegram/SourceFiles/data/data_search_controller.cpp
+index 4a2418e..3ef3761 100644
+--- a/Telegram/SourceFiles/data/data_search_controller.cpp
++++ b/Telegram/SourceFiles/data/data_search_controller.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_send_action.cpp b/Telegram/SourceFiles/data/data_send_action.cpp
+index ea8f92b..4a549a4 100644
+--- a/Telegram/SourceFiles/data/data_send_action.cpp
++++ b/Telegram/SourceFiles/data/data_send_action.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_session.cpp b/Telegram/SourceFiles/data/data_session.cpp
+index 1114873..77fe8b3 100644
+--- a/Telegram/SourceFiles/data/data_session.cpp
++++ b/Telegram/SourceFiles/data/data_session.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_shared_media.cpp b/Telegram/SourceFiles/data/data_shared_media.cpp
+index 6834190..65d4345 100644
+--- a/Telegram/SourceFiles/data/data_shared_media.cpp
++++ b/Telegram/SourceFiles/data/data_shared_media.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_sparse_ids.cpp b/Telegram/SourceFiles/data/data_sparse_ids.cpp
+index b48881c..0d11627 100644
+--- a/Telegram/SourceFiles/data/data_sparse_ids.cpp
++++ b/Telegram/SourceFiles/data/data_sparse_ids.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_statistics_chart.cpp b/Telegram/SourceFiles/data/data_statistics_chart.cpp
+index 5faf7bd..6173b8f 100644
+--- a/Telegram/SourceFiles/data/data_statistics_chart.cpp
++++ b/Telegram/SourceFiles/data/data_statistics_chart.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_stories.cpp b/Telegram/SourceFiles/data/data_stories.cpp
+index 1aac110..f811f10 100644
+--- a/Telegram/SourceFiles/data/data_stories.cpp
++++ b/Telegram/SourceFiles/data/data_stories.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_stories_ids.cpp b/Telegram/SourceFiles/data/data_stories_ids.cpp
+index d2ac334..1e4f4b6 100644
+--- a/Telegram/SourceFiles/data/data_stories_ids.cpp
++++ b/Telegram/SourceFiles/data/data_stories_ids.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_story.cpp b/Telegram/SourceFiles/data/data_story.cpp
+index d5a5fc5..bb2041f 100644
+--- a/Telegram/SourceFiles/data/data_story.cpp
++++ b/Telegram/SourceFiles/data/data_story.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_streaming.cpp b/Telegram/SourceFiles/data/data_streaming.cpp
+index 658c838..7b1a87c 100644
+--- a/Telegram/SourceFiles/data/data_streaming.cpp
++++ b/Telegram/SourceFiles/data/data_streaming.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_thread.cpp b/Telegram/SourceFiles/data/data_thread.cpp
+index 1934c34..daa3313 100644
+--- a/Telegram/SourceFiles/data/data_thread.cpp
++++ b/Telegram/SourceFiles/data/data_thread.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_types.cpp b/Telegram/SourceFiles/data/data_types.cpp
+index 8fed3ec..abe6e5b 100644
+--- a/Telegram/SourceFiles/data/data_types.cpp
++++ b/Telegram/SourceFiles/data/data_types.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_unread_value.cpp b/Telegram/SourceFiles/data/data_unread_value.cpp
+index c374dc0..4978dca 100644
+--- a/Telegram/SourceFiles/data/data_unread_value.cpp
++++ b/Telegram/SourceFiles/data/data_unread_value.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_user.cpp b/Telegram/SourceFiles/data/data_user.cpp
+index dcebbfc..95b7a67 100644
+--- a/Telegram/SourceFiles/data/data_user.cpp
++++ b/Telegram/SourceFiles/data/data_user.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_user_names.cpp b/Telegram/SourceFiles/data/data_user_names.cpp
+index c2edd6b..822a3eb 100644
+--- a/Telegram/SourceFiles/data/data_user_names.cpp
++++ b/Telegram/SourceFiles/data/data_user_names.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_user_photos.cpp b/Telegram/SourceFiles/data/data_user_photos.cpp
+index 6271f9b..ea064ae 100644
+--- a/Telegram/SourceFiles/data/data_user_photos.cpp
++++ b/Telegram/SourceFiles/data/data_user_photos.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_wall_paper.cpp b/Telegram/SourceFiles/data/data_wall_paper.cpp
+index 0234bdb..900f91a 100644
+--- a/Telegram/SourceFiles/data/data_wall_paper.cpp
++++ b/Telegram/SourceFiles/data/data_wall_paper.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/data_web_page.cpp b/Telegram/SourceFiles/data/data_web_page.cpp
+index bd14735..23c3990 100644
+--- a/Telegram/SourceFiles/data/data_web_page.cpp
++++ b/Telegram/SourceFiles/data/data_web_page.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/notify/data_notify_settings.cpp b/Telegram/SourceFiles/data/notify/data_notify_settings.cpp
+index beb4769..bfc91ef 100644
+--- a/Telegram/SourceFiles/data/notify/data_notify_settings.cpp
++++ b/Telegram/SourceFiles/data/notify/data_notify_settings.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/notify/data_peer_notify_settings.cpp b/Telegram/SourceFiles/data/notify/data_peer_notify_settings.cpp
+index 48d198d..1ce8565 100644
+--- a/Telegram/SourceFiles/data/notify/data_peer_notify_settings.cpp
++++ b/Telegram/SourceFiles/data/notify/data_peer_notify_settings.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/raw/raw_countries_bounds.cpp b/Telegram/SourceFiles/data/raw/raw_countries_bounds.cpp
+index d4e3831..c167a5b 100644
+--- a/Telegram/SourceFiles/data/raw/raw_countries_bounds.cpp
++++ b/Telegram/SourceFiles/data/raw/raw_countries_bounds.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/stickers/data_custom_emoji.cpp b/Telegram/SourceFiles/data/stickers/data_custom_emoji.cpp
+index eb34f30..c2a169f 100644
+--- a/Telegram/SourceFiles/data/stickers/data_custom_emoji.cpp
++++ b/Telegram/SourceFiles/data/stickers/data_custom_emoji.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/stickers/data_stickers.cpp b/Telegram/SourceFiles/data/stickers/data_stickers.cpp
+index 97e0014..236dbaf 100644
+--- a/Telegram/SourceFiles/data/stickers/data_stickers.cpp
++++ b/Telegram/SourceFiles/data/stickers/data_stickers.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/data/stickers/data_stickers_set.cpp b/Telegram/SourceFiles/data/stickers/data_stickers_set.cpp
+index 75d9840..807e1de 100644
+--- a/Telegram/SourceFiles/data/stickers/data_stickers_set.cpp
++++ b/Telegram/SourceFiles/data/stickers/data_stickers_set.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_entry.cpp b/Telegram/SourceFiles/dialogs/dialogs_entry.cpp
+index 501883a..d45c129 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_entry.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_entry.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_indexed_list.cpp b/Telegram/SourceFiles/dialogs/dialogs_indexed_list.cpp
+index 2254346..8d96bed 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_indexed_list.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_indexed_list.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_inner_widget.cpp b/Telegram/SourceFiles/dialogs/dialogs_inner_widget.cpp
+index 7f30ceb..df1db0a 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_inner_widget.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_key.cpp b/Telegram/SourceFiles/dialogs/dialogs_key.cpp
+index db5df96..adedf11 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_key.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_key.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_list.cpp b/Telegram/SourceFiles/dialogs/dialogs_list.cpp
+index e3c8044..367d090 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_list.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_list.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_main_list.cpp b/Telegram/SourceFiles/dialogs/dialogs_main_list.cpp
+index 9c9ad67..899e7e3 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_main_list.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_main_list.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_pinned_list.cpp b/Telegram/SourceFiles/dialogs/dialogs_pinned_list.cpp
+index cac85b3..a4e10da 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_pinned_list.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_pinned_list.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_quick_action.cpp b/Telegram/SourceFiles/dialogs/dialogs_quick_action.cpp
+index 340a9f3..24892d2 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_quick_action.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_quick_action.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_row.cpp b/Telegram/SourceFiles/dialogs/dialogs_row.cpp
+index c39133e..d0f5305 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_row.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_row.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_search_from_controllers.cpp b/Telegram/SourceFiles/dialogs/dialogs_search_from_controllers.cpp
+index b81e79f..989d6f6 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_search_from_controllers.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_search_from_controllers.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_search_tags.cpp b/Telegram/SourceFiles/dialogs/dialogs_search_tags.cpp
+index 6b105f0..8f4fe3f 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_search_tags.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_search_tags.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/dialogs_widget.cpp b/Telegram/SourceFiles/dialogs/dialogs_widget.cpp
+index 14cef4d..9375886 100644
+--- a/Telegram/SourceFiles/dialogs/dialogs_widget.cpp
++++ b/Telegram/SourceFiles/dialogs/dialogs_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/ui/chat_search_empty.cpp b/Telegram/SourceFiles/dialogs/ui/chat_search_empty.cpp
+index 028452e..1b09946 100644
+--- a/Telegram/SourceFiles/dialogs/ui/chat_search_empty.cpp
++++ b/Telegram/SourceFiles/dialogs/ui/chat_search_empty.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/ui/chat_search_in.cpp b/Telegram/SourceFiles/dialogs/ui/chat_search_in.cpp
+index 42e8c33..8b1a5ee 100644
+--- a/Telegram/SourceFiles/dialogs/ui/chat_search_in.cpp
++++ b/Telegram/SourceFiles/dialogs/ui/chat_search_in.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/ui/dialogs_layout.cpp b/Telegram/SourceFiles/dialogs/ui/dialogs_layout.cpp
+index 9d312d4..0be7bc1 100644
+--- a/Telegram/SourceFiles/dialogs/ui/dialogs_layout.cpp
++++ b/Telegram/SourceFiles/dialogs/ui/dialogs_layout.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/ui/dialogs_message_view.cpp b/Telegram/SourceFiles/dialogs/ui/dialogs_message_view.cpp
+index b45708b..d3df130 100644
+--- a/Telegram/SourceFiles/dialogs/ui/dialogs_message_view.cpp
++++ b/Telegram/SourceFiles/dialogs/ui/dialogs_message_view.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/ui/dialogs_stories_content.cpp b/Telegram/SourceFiles/dialogs/ui/dialogs_stories_content.cpp
+index bea4a1b..36da9d7 100644
+--- a/Telegram/SourceFiles/dialogs/ui/dialogs_stories_content.cpp
++++ b/Telegram/SourceFiles/dialogs/ui/dialogs_stories_content.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/ui/dialogs_stories_list.cpp b/Telegram/SourceFiles/dialogs/ui/dialogs_stories_list.cpp
+index bfe6325..7b72ee2 100644
+--- a/Telegram/SourceFiles/dialogs/ui/dialogs_stories_list.cpp
++++ b/Telegram/SourceFiles/dialogs/ui/dialogs_stories_list.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/ui/dialogs_suggestions.cpp b/Telegram/SourceFiles/dialogs/ui/dialogs_suggestions.cpp
+index 4ae07e5..eaa9c0a 100644
+--- a/Telegram/SourceFiles/dialogs/ui/dialogs_suggestions.cpp
++++ b/Telegram/SourceFiles/dialogs/ui/dialogs_suggestions.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/ui/dialogs_topics_view.cpp b/Telegram/SourceFiles/dialogs/ui/dialogs_topics_view.cpp
+index 82fc64a..503fa48 100644
+--- a/Telegram/SourceFiles/dialogs/ui/dialogs_topics_view.cpp
++++ b/Telegram/SourceFiles/dialogs/ui/dialogs_topics_view.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/ui/dialogs_video_userpic.cpp b/Telegram/SourceFiles/dialogs/ui/dialogs_video_userpic.cpp
+index 9f970a3..10db1d9 100644
+--- a/Telegram/SourceFiles/dialogs/ui/dialogs_video_userpic.cpp
++++ b/Telegram/SourceFiles/dialogs/ui/dialogs_video_userpic.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/dialogs/ui/top_peers_strip.cpp b/Telegram/SourceFiles/dialogs/ui/top_peers_strip.cpp
+index 67cafb9..227bcd3 100644
+--- a/Telegram/SourceFiles/dialogs/ui/top_peers_strip.cpp
++++ b/Telegram/SourceFiles/dialogs/ui/top_peers_strip.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/color_picker.cpp b/Telegram/SourceFiles/editor/color_picker.cpp
+index a07e021..1f7440f 100644
+--- a/Telegram/SourceFiles/editor/color_picker.cpp
++++ b/Telegram/SourceFiles/editor/color_picker.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/controllers/stickers_panel_controller.cpp b/Telegram/SourceFiles/editor/controllers/stickers_panel_controller.cpp
+index 2c0482c..fd4ba24 100644
+--- a/Telegram/SourceFiles/editor/controllers/stickers_panel_controller.cpp
++++ b/Telegram/SourceFiles/editor/controllers/stickers_panel_controller.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/controllers/undo_controller.cpp b/Telegram/SourceFiles/editor/controllers/undo_controller.cpp
+index 0d65794..7f2375a 100644
+--- a/Telegram/SourceFiles/editor/controllers/undo_controller.cpp
++++ b/Telegram/SourceFiles/editor/controllers/undo_controller.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/editor_crop.cpp b/Telegram/SourceFiles/editor/editor_crop.cpp
+index b528881..1cef1ac 100644
+--- a/Telegram/SourceFiles/editor/editor_crop.cpp
++++ b/Telegram/SourceFiles/editor/editor_crop.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/editor_layer_widget.cpp b/Telegram/SourceFiles/editor/editor_layer_widget.cpp
+index baa149d..7f39e1a 100644
+--- a/Telegram/SourceFiles/editor/editor_layer_widget.cpp
++++ b/Telegram/SourceFiles/editor/editor_layer_widget.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/editor_paint.cpp b/Telegram/SourceFiles/editor/editor_paint.cpp
+index 5f858ae..b3a70b7 100644
+--- a/Telegram/SourceFiles/editor/editor_paint.cpp
++++ b/Telegram/SourceFiles/editor/editor_paint.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/photo_editor.cpp b/Telegram/SourceFiles/editor/photo_editor.cpp
+index 801e122..9efe2ad 100644
+--- a/Telegram/SourceFiles/editor/photo_editor.cpp
++++ b/Telegram/SourceFiles/editor/photo_editor.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/photo_editor_common.cpp b/Telegram/SourceFiles/editor/photo_editor_common.cpp
+index 4fd72ac..b679f94 100644
+--- a/Telegram/SourceFiles/editor/photo_editor_common.cpp
++++ b/Telegram/SourceFiles/editor/photo_editor_common.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/photo_editor_content.cpp b/Telegram/SourceFiles/editor/photo_editor_content.cpp
+index 1a379b9..f1d702d 100644
+--- a/Telegram/SourceFiles/editor/photo_editor_content.cpp
++++ b/Telegram/SourceFiles/editor/photo_editor_content.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/photo_editor_controls.cpp b/Telegram/SourceFiles/editor/photo_editor_controls.cpp
+index 72a4338..43e1ff6 100644
+--- a/Telegram/SourceFiles/editor/photo_editor_controls.cpp
++++ b/Telegram/SourceFiles/editor/photo_editor_controls.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/photo_editor_layer_widget.cpp b/Telegram/SourceFiles/editor/photo_editor_layer_widget.cpp
+index 257e47e..34711d7 100644
+--- a/Telegram/SourceFiles/editor/photo_editor_layer_widget.cpp
++++ b/Telegram/SourceFiles/editor/photo_editor_layer_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/scene/scene.cpp b/Telegram/SourceFiles/editor/scene/scene.cpp
+index 0ebb29c..4643403 100644
+--- a/Telegram/SourceFiles/editor/scene/scene.cpp
++++ b/Telegram/SourceFiles/editor/scene/scene.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/scene/scene_item_base.cpp b/Telegram/SourceFiles/editor/scene/scene_item_base.cpp
+index 8c69702..0b0c8c4 100644
+--- a/Telegram/SourceFiles/editor/scene/scene_item_base.cpp
++++ b/Telegram/SourceFiles/editor/scene/scene_item_base.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/scene/scene_item_canvas.cpp b/Telegram/SourceFiles/editor/scene/scene_item_canvas.cpp
+index 21b7266..3ce60f8 100644
+--- a/Telegram/SourceFiles/editor/scene/scene_item_canvas.cpp
++++ b/Telegram/SourceFiles/editor/scene/scene_item_canvas.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/scene/scene_item_image.cpp b/Telegram/SourceFiles/editor/scene/scene_item_image.cpp
+index b3cc544..4dfcf65 100644
+--- a/Telegram/SourceFiles/editor/scene/scene_item_image.cpp
++++ b/Telegram/SourceFiles/editor/scene/scene_item_image.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/scene/scene_item_line.cpp b/Telegram/SourceFiles/editor/scene/scene_item_line.cpp
+index 0d40e24..5585d71 100644
+--- a/Telegram/SourceFiles/editor/scene/scene_item_line.cpp
++++ b/Telegram/SourceFiles/editor/scene/scene_item_line.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/editor/scene/scene_item_sticker.cpp b/Telegram/SourceFiles/editor/scene/scene_item_sticker.cpp
+index 2cf42d1..c021627 100644
+--- a/Telegram/SourceFiles/editor/scene/scene_item_sticker.cpp
++++ b/Telegram/SourceFiles/editor/scene/scene_item_sticker.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/data/export_data_types.cpp b/Telegram/SourceFiles/export/data/export_data_types.cpp
+index f4c0c78..d6c2659 100644
+--- a/Telegram/SourceFiles/export/data/export_data_types.cpp
++++ b/Telegram/SourceFiles/export/data/export_data_types.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/export_api_wrap.cpp b/Telegram/SourceFiles/export/export_api_wrap.cpp
+index fe2cd8b..524130b 100644
+--- a/Telegram/SourceFiles/export/export_api_wrap.cpp
++++ b/Telegram/SourceFiles/export/export_api_wrap.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/export_controller.cpp b/Telegram/SourceFiles/export/export_controller.cpp
+index a6e12d2..c2ea550 100644
+--- a/Telegram/SourceFiles/export/export_controller.cpp
++++ b/Telegram/SourceFiles/export/export_controller.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/export_manager.cpp b/Telegram/SourceFiles/export/export_manager.cpp
+index 7277ade..740ce29 100644
+--- a/Telegram/SourceFiles/export/export_manager.cpp
++++ b/Telegram/SourceFiles/export/export_manager.cpp
+@@ -1,3 +1,5 @@
++#include "export/export_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/export_settings.cpp b/Telegram/SourceFiles/export/export_settings.cpp
+index 58f2ab5..1059430 100644
+--- a/Telegram/SourceFiles/export/export_settings.cpp
++++ b/Telegram/SourceFiles/export/export_settings.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/output/export_output_abstract.cpp b/Telegram/SourceFiles/export/output/export_output_abstract.cpp
+index dbdb1bf..2d24639 100644
+--- a/Telegram/SourceFiles/export/output/export_output_abstract.cpp
++++ b/Telegram/SourceFiles/export/output/export_output_abstract.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/output/export_output_file.cpp b/Telegram/SourceFiles/export/output/export_output_file.cpp
+index 8b33039..78269c7 100644
+--- a/Telegram/SourceFiles/export/output/export_output_file.cpp
++++ b/Telegram/SourceFiles/export/output/export_output_file.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/output/export_output_html.cpp b/Telegram/SourceFiles/export/output/export_output_html.cpp
+index 7aada39..506a11a 100644
+--- a/Telegram/SourceFiles/export/output/export_output_html.cpp
++++ b/Telegram/SourceFiles/export/output/export_output_html.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/output/export_output_html_and_json.cpp b/Telegram/SourceFiles/export/output/export_output_html_and_json.cpp
+index 9220147..dc7e681 100644
+--- a/Telegram/SourceFiles/export/output/export_output_html_and_json.cpp
++++ b/Telegram/SourceFiles/export/output/export_output_html_and_json.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/output/export_output_json.cpp b/Telegram/SourceFiles/export/output/export_output_json.cpp
+index 1f482db..4437196 100644
+--- a/Telegram/SourceFiles/export/output/export_output_json.cpp
++++ b/Telegram/SourceFiles/export/output/export_output_json.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/output/export_output_stats.cpp b/Telegram/SourceFiles/export/output/export_output_stats.cpp
+index 30275ac..fedb250 100644
+--- a/Telegram/SourceFiles/export/output/export_output_stats.cpp
++++ b/Telegram/SourceFiles/export/output/export_output_stats.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/view/export_view_content.cpp b/Telegram/SourceFiles/export/view/export_view_content.cpp
+index 9813321..a37217d 100644
+--- a/Telegram/SourceFiles/export/view/export_view_content.cpp
++++ b/Telegram/SourceFiles/export/view/export_view_content.cpp
+@@ -1,3 +1,4 @@
++#include "export/export_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/view/export_view_panel_controller.cpp b/Telegram/SourceFiles/export/view/export_view_panel_controller.cpp
+index 4aef9c3..305701f 100644
+--- a/Telegram/SourceFiles/export/view/export_view_panel_controller.cpp
++++ b/Telegram/SourceFiles/export/view/export_view_panel_controller.cpp
+@@ -1,3 +1,5 @@
++#include "export/export_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/view/export_view_progress.cpp b/Telegram/SourceFiles/export/view/export_view_progress.cpp
+index dabda82..8060ae1 100644
+--- a/Telegram/SourceFiles/export/view/export_view_progress.cpp
++++ b/Telegram/SourceFiles/export/view/export_view_progress.cpp
+@@ -1,3 +1,5 @@
++#include "export/export_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/view/export_view_settings.cpp b/Telegram/SourceFiles/export/view/export_view_settings.cpp
+index bc25b60..01e50b4 100644
+--- a/Telegram/SourceFiles/export/view/export_view_settings.cpp
++++ b/Telegram/SourceFiles/export/view/export_view_settings.cpp
+@@ -1,3 +1,5 @@
++#include "export/export_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/export/view/export_view_top_bar.cpp b/Telegram/SourceFiles/export/view/export_view_top_bar.cpp
+index add2539..75cdf54 100644
+--- a/Telegram/SourceFiles/export/view/export_view_top_bar.cpp
++++ b/Telegram/SourceFiles/export/view/export_view_top_bar.cpp
+@@ -1,3 +1,5 @@
++#include "export/export_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/admin_log/history_admin_log_filter.cpp b/Telegram/SourceFiles/history/admin_log/history_admin_log_filter.cpp
+index f158f8b..06aeda2 100644
+--- a/Telegram/SourceFiles/history/admin_log/history_admin_log_filter.cpp
++++ b/Telegram/SourceFiles/history/admin_log/history_admin_log_filter.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/admin_log/history_admin_log_inner.cpp b/Telegram/SourceFiles/history/admin_log/history_admin_log_inner.cpp
+index 61a599c..8f23341 100644
+--- a/Telegram/SourceFiles/history/admin_log/history_admin_log_inner.cpp
++++ b/Telegram/SourceFiles/history/admin_log/history_admin_log_inner.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/admin_log/history_admin_log_item.cpp b/Telegram/SourceFiles/history/admin_log/history_admin_log_item.cpp
+index abf5bfb..fc27a0c 100644
+--- a/Telegram/SourceFiles/history/admin_log/history_admin_log_item.cpp
++++ b/Telegram/SourceFiles/history/admin_log/history_admin_log_item.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/admin_log/history_admin_log_section.cpp b/Telegram/SourceFiles/history/admin_log/history_admin_log_section.cpp
+index 56fce9d..e571b69 100644
+--- a/Telegram/SourceFiles/history/admin_log/history_admin_log_section.cpp
++++ b/Telegram/SourceFiles/history/admin_log/history_admin_log_section.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history.cpp b/Telegram/SourceFiles/history/history.cpp
+index 1eb7d91..28638b0 100644
+--- a/Telegram/SourceFiles/history/history.cpp
++++ b/Telegram/SourceFiles/history/history.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_drag_area.cpp b/Telegram/SourceFiles/history/history_drag_area.cpp
+index 4f99ec7..b8cae5e 100644
+--- a/Telegram/SourceFiles/history/history_drag_area.cpp
++++ b/Telegram/SourceFiles/history/history_drag_area.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_inner_widget.cpp b/Telegram/SourceFiles/history/history_inner_widget.cpp
+index 227c1a5..f1bdb2d 100644
+--- a/Telegram/SourceFiles/history/history_inner_widget.cpp
++++ b/Telegram/SourceFiles/history/history_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_item.cpp b/Telegram/SourceFiles/history/history_item.cpp
+index 927ea90..25280c3 100644
+--- a/Telegram/SourceFiles/history/history_item.cpp
++++ b/Telegram/SourceFiles/history/history_item.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_item_components.cpp b/Telegram/SourceFiles/history/history_item_components.cpp
+index 9b3f23f..59d09d9 100644
+--- a/Telegram/SourceFiles/history/history_item_components.cpp
++++ b/Telegram/SourceFiles/history/history_item_components.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_item_edition.cpp b/Telegram/SourceFiles/history/history_item_edition.cpp
+index d66d0cf..ab641e7 100644
+--- a/Telegram/SourceFiles/history/history_item_edition.cpp
++++ b/Telegram/SourceFiles/history/history_item_edition.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_item_helpers.cpp b/Telegram/SourceFiles/history/history_item_helpers.cpp
+index c035848..6abc8b3 100644
+--- a/Telegram/SourceFiles/history/history_item_helpers.cpp
++++ b/Telegram/SourceFiles/history/history_item_helpers.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_item_reply_markup.cpp b/Telegram/SourceFiles/history/history_item_reply_markup.cpp
+index 319a772..8f10bd2 100644
+--- a/Telegram/SourceFiles/history/history_item_reply_markup.cpp
++++ b/Telegram/SourceFiles/history/history_item_reply_markup.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_item_text.cpp b/Telegram/SourceFiles/history/history_item_text.cpp
+index ba35168..ffbde0a 100644
+--- a/Telegram/SourceFiles/history/history_item_text.cpp
++++ b/Telegram/SourceFiles/history/history_item_text.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_location_manager.cpp b/Telegram/SourceFiles/history/history_location_manager.cpp
+index 7810460..c7f4431 100644
+--- a/Telegram/SourceFiles/history/history_location_manager.cpp
++++ b/Telegram/SourceFiles/history/history_location_manager.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_translation.cpp b/Telegram/SourceFiles/history/history_translation.cpp
+index be4febe..13e1bc2 100644
+--- a/Telegram/SourceFiles/history/history_translation.cpp
++++ b/Telegram/SourceFiles/history/history_translation.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_unread_things.cpp b/Telegram/SourceFiles/history/history_unread_things.cpp
+index 4cca974..8048b07 100644
+--- a/Telegram/SourceFiles/history/history_unread_things.cpp
++++ b/Telegram/SourceFiles/history/history_unread_things.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_view_highlight_manager.cpp b/Telegram/SourceFiles/history/history_view_highlight_manager.cpp
+index ee07a15..0a6c0e9 100644
+--- a/Telegram/SourceFiles/history/history_view_highlight_manager.cpp
++++ b/Telegram/SourceFiles/history/history_view_highlight_manager.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_view_swipe_back_session.cpp b/Telegram/SourceFiles/history/history_view_swipe_back_session.cpp
+index b757a0a..edfed32 100644
+--- a/Telegram/SourceFiles/history/history_view_swipe_back_session.cpp
++++ b/Telegram/SourceFiles/history/history_view_swipe_back_session.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_view_top_toast.cpp b/Telegram/SourceFiles/history/history_view_top_toast.cpp
+index a68061b..81ca5a6 100644
+--- a/Telegram/SourceFiles/history/history_view_top_toast.cpp
++++ b/Telegram/SourceFiles/history/history_view_top_toast.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/history_widget.cpp b/Telegram/SourceFiles/history/history_widget.cpp
+index 1e2be03..253f179 100644
+--- a/Telegram/SourceFiles/history/history_widget.cpp
++++ b/Telegram/SourceFiles/history/history_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/controls/history_view_characters_limit.cpp b/Telegram/SourceFiles/history/view/controls/history_view_characters_limit.cpp
+index c3f2736..b1b720e 100644
+--- a/Telegram/SourceFiles/history/view/controls/history_view_characters_limit.cpp
++++ b/Telegram/SourceFiles/history/view/controls/history_view_characters_limit.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/controls/history_view_compose_controls.cpp b/Telegram/SourceFiles/history/view/controls/history_view_compose_controls.cpp
+index 4046912..7aed6cc 100644
+--- a/Telegram/SourceFiles/history/view/controls/history_view_compose_controls.cpp
++++ b/Telegram/SourceFiles/history/view/controls/history_view_compose_controls.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/controls/history_view_compose_media_edit_manager.cpp b/Telegram/SourceFiles/history/view/controls/history_view_compose_media_edit_manager.cpp
+index 45ababe..53e5d28 100644
+--- a/Telegram/SourceFiles/history/view/controls/history_view_compose_media_edit_manager.cpp
++++ b/Telegram/SourceFiles/history/view/controls/history_view_compose_media_edit_manager.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/controls/history_view_compose_search.cpp b/Telegram/SourceFiles/history/view/controls/history_view_compose_search.cpp
+index 98064d0..0f489e3 100644
+--- a/Telegram/SourceFiles/history/view/controls/history_view_compose_search.cpp
++++ b/Telegram/SourceFiles/history/view/controls/history_view_compose_search.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/controls/history_view_draft_options.cpp b/Telegram/SourceFiles/history/view/controls/history_view_draft_options.cpp
+index 549d252..85757fc 100644
+--- a/Telegram/SourceFiles/history/view/controls/history_view_draft_options.cpp
++++ b/Telegram/SourceFiles/history/view/controls/history_view_draft_options.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/controls/history_view_forward_panel.cpp b/Telegram/SourceFiles/history/view/controls/history_view_forward_panel.cpp
+index 7502a93..c67848f 100644
+--- a/Telegram/SourceFiles/history/view/controls/history_view_forward_panel.cpp
++++ b/Telegram/SourceFiles/history/view/controls/history_view_forward_panel.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/controls/history_view_ttl_button.cpp b/Telegram/SourceFiles/history/view/controls/history_view_ttl_button.cpp
+index f7e15f5..e306656 100644
+--- a/Telegram/SourceFiles/history/view/controls/history_view_ttl_button.cpp
++++ b/Telegram/SourceFiles/history/view/controls/history_view_ttl_button.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/controls/history_view_voice_record_bar.cpp b/Telegram/SourceFiles/history/view/controls/history_view_voice_record_bar.cpp
+index 2f4cc71..a267933 100644
+--- a/Telegram/SourceFiles/history/view/controls/history_view_voice_record_bar.cpp
++++ b/Telegram/SourceFiles/history/view/controls/history_view_voice_record_bar.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/controls/history_view_voice_record_button.cpp b/Telegram/SourceFiles/history/view/controls/history_view_voice_record_button.cpp
+index b32fa2d..57b7e55 100644
+--- a/Telegram/SourceFiles/history/view/controls/history_view_voice_record_button.cpp
++++ b/Telegram/SourceFiles/history/view/controls/history_view_voice_record_button.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/controls/history_view_webpage_processor.cpp b/Telegram/SourceFiles/history/view/controls/history_view_webpage_processor.cpp
+index 379ffb9..10f4dc9 100644
+--- a/Telegram/SourceFiles/history/view/controls/history_view_webpage_processor.cpp
++++ b/Telegram/SourceFiles/history/view/controls/history_view_webpage_processor.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_about_view.cpp b/Telegram/SourceFiles/history/view/history_view_about_view.cpp
+index 486bcd9..e0979e5 100644
+--- a/Telegram/SourceFiles/history/view/history_view_about_view.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_about_view.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_bottom_info.cpp b/Telegram/SourceFiles/history/view/history_view_bottom_info.cpp
+index e93a5c6..32c09d9 100644
+--- a/Telegram/SourceFiles/history/view/history_view_bottom_info.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_bottom_info.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_chat_preview.cpp b/Telegram/SourceFiles/history/view/history_view_chat_preview.cpp
+index 6b62e06..186c353 100644
+--- a/Telegram/SourceFiles/history/view/history_view_chat_preview.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_chat_preview.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_contact_status.cpp b/Telegram/SourceFiles/history/view/history_view_contact_status.cpp
+index 13e5ce6..d730aed 100644
+--- a/Telegram/SourceFiles/history/view/history_view_contact_status.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_contact_status.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_context_menu.cpp b/Telegram/SourceFiles/history/view/history_view_context_menu.cpp
+index d1cead7..e7221bf 100644
+--- a/Telegram/SourceFiles/history/view/history_view_context_menu.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_context_menu.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_corner_buttons.cpp b/Telegram/SourceFiles/history/view/history_view_corner_buttons.cpp
+index 37885d8..5e2ed89 100644
+--- a/Telegram/SourceFiles/history/view/history_view_corner_buttons.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_corner_buttons.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_cursor_state.cpp b/Telegram/SourceFiles/history/view/history_view_cursor_state.cpp
+index 56ca495..24d3581 100644
+--- a/Telegram/SourceFiles/history/view/history_view_cursor_state.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_cursor_state.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_element.cpp b/Telegram/SourceFiles/history/view/history_view_element.cpp
+index e830ee5..6d6b890 100644
+--- a/Telegram/SourceFiles/history/view/history_view_element.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_element.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_emoji_interactions.cpp b/Telegram/SourceFiles/history/view/history_view_emoji_interactions.cpp
+index fed0bdd..8469b60 100644
+--- a/Telegram/SourceFiles/history/view/history_view_emoji_interactions.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_emoji_interactions.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_empty_list_bubble.cpp b/Telegram/SourceFiles/history/view/history_view_empty_list_bubble.cpp
+index 0b47a01..4050c44 100644
+--- a/Telegram/SourceFiles/history/view/history_view_empty_list_bubble.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_empty_list_bubble.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_fake_items.cpp b/Telegram/SourceFiles/history/view/history_view_fake_items.cpp
+index 49a310a..ccebf82 100644
+--- a/Telegram/SourceFiles/history/view/history_view_fake_items.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_fake_items.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_group_call_bar.cpp b/Telegram/SourceFiles/history/view/history_view_group_call_bar.cpp
+index 68d952d..624b813 100644
+--- a/Telegram/SourceFiles/history/view/history_view_group_call_bar.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_group_call_bar.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_list_widget.cpp b/Telegram/SourceFiles/history/view/history_view_list_widget.cpp
+index 1daf0a1..5808404 100644
+--- a/Telegram/SourceFiles/history/view/history_view_list_widget.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_list_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_message.cpp b/Telegram/SourceFiles/history/view/history_view_message.cpp
+index 591e8b3..73eb06e 100644
+--- a/Telegram/SourceFiles/history/view/history_view_message.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_message.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_paid_reaction_toast.cpp b/Telegram/SourceFiles/history/view/history_view_paid_reaction_toast.cpp
+index 2fd7945..1cf3fe2 100644
+--- a/Telegram/SourceFiles/history/view/history_view_paid_reaction_toast.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_paid_reaction_toast.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_pinned_bar.cpp b/Telegram/SourceFiles/history/view/history_view_pinned_bar.cpp
+index 9564b94..0fefc50 100644
+--- a/Telegram/SourceFiles/history/view/history_view_pinned_bar.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_pinned_bar.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_pinned_section.cpp b/Telegram/SourceFiles/history/view/history_view_pinned_section.cpp
+index b8c380c..1b0f339 100644
+--- a/Telegram/SourceFiles/history/view/history_view_pinned_section.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_pinned_section.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_pinned_tracker.cpp b/Telegram/SourceFiles/history/view/history_view_pinned_tracker.cpp
+index 24abaa0..7908252 100644
+--- a/Telegram/SourceFiles/history/view/history_view_pinned_tracker.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_pinned_tracker.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_quick_action.cpp b/Telegram/SourceFiles/history/view/history_view_quick_action.cpp
+index 40222da..df2ed17 100644
+--- a/Telegram/SourceFiles/history/view/history_view_quick_action.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_quick_action.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_replies_section.cpp b/Telegram/SourceFiles/history/view/history_view_replies_section.cpp
+index dd6895d..11083c5 100644
+--- a/Telegram/SourceFiles/history/view/history_view_replies_section.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_replies_section.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_reply.cpp b/Telegram/SourceFiles/history/view/history_view_reply.cpp
+index 3d29c80..c577001 100644
+--- a/Telegram/SourceFiles/history/view/history_view_reply.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_reply.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_requests_bar.cpp b/Telegram/SourceFiles/history/view/history_view_requests_bar.cpp
+index e10a50b..68578e8 100644
+--- a/Telegram/SourceFiles/history/view/history_view_requests_bar.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_requests_bar.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_schedule_box.cpp b/Telegram/SourceFiles/history/view/history_view_schedule_box.cpp
+index 1dc8a8b..dcc4178 100644
+--- a/Telegram/SourceFiles/history/view/history_view_schedule_box.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_schedule_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_scheduled_section.cpp b/Telegram/SourceFiles/history/view/history_view_scheduled_section.cpp
+index 812893b..831a422 100644
+--- a/Telegram/SourceFiles/history/view/history_view_scheduled_section.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_scheduled_section.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_send_action.cpp b/Telegram/SourceFiles/history/view/history_view_send_action.cpp
+index 460941e..b9a074a 100644
+--- a/Telegram/SourceFiles/history/view/history_view_send_action.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_send_action.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_service_message.cpp b/Telegram/SourceFiles/history/view/history_view_service_message.cpp
+index 02a4aed..68f7dd9 100644
+--- a/Telegram/SourceFiles/history/view/history_view_service_message.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_service_message.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_sponsored_click_handler.cpp b/Telegram/SourceFiles/history/view/history_view_sponsored_click_handler.cpp
+index 6fe3414..e47bb88 100644
+--- a/Telegram/SourceFiles/history/view/history_view_sponsored_click_handler.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_sponsored_click_handler.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_sticker_toast.cpp b/Telegram/SourceFiles/history/view/history_view_sticker_toast.cpp
+index b352398..08d1537 100644
+--- a/Telegram/SourceFiles/history/view/history_view_sticker_toast.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_sticker_toast.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_sublist_section.cpp b/Telegram/SourceFiles/history/view/history_view_sublist_section.cpp
+index 793133b..c8cbbc2 100644
+--- a/Telegram/SourceFiles/history/view/history_view_sublist_section.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_sublist_section.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_text_helper.cpp b/Telegram/SourceFiles/history/view/history_view_text_helper.cpp
+index fbe97ed..5a68290 100644
+--- a/Telegram/SourceFiles/history/view/history_view_text_helper.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_text_helper.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_top_bar_widget.cpp b/Telegram/SourceFiles/history/view/history_view_top_bar_widget.cpp
+index 62d5d43..f000577 100644
+--- a/Telegram/SourceFiles/history/view/history_view_top_bar_widget.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_top_bar_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_transcribe_button.cpp b/Telegram/SourceFiles/history/view/history_view_transcribe_button.cpp
+index 1688b8f..2a57adb 100644
+--- a/Telegram/SourceFiles/history/view/history_view_transcribe_button.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_transcribe_button.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_translate_bar.cpp b/Telegram/SourceFiles/history/view/history_view_translate_bar.cpp
+index 88db9ee..20bbf33 100644
+--- a/Telegram/SourceFiles/history/view/history_view_translate_bar.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_translate_bar.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_translate_tracker.cpp b/Telegram/SourceFiles/history/view/history_view_translate_tracker.cpp
+index cc7652f..a36aa6d 100644
+--- a/Telegram/SourceFiles/history/view/history_view_translate_tracker.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_translate_tracker.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_view_button.cpp b/Telegram/SourceFiles/history/view/history_view_view_button.cpp
+index 5f981bd..a7cfd2b 100644
+--- a/Telegram/SourceFiles/history/view/history_view_view_button.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_view_button.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/history_view_webpage_preview.cpp b/Telegram/SourceFiles/history/view/history_view_webpage_preview.cpp
+index 0d71e75..2e2e4df 100644
+--- a/Telegram/SourceFiles/history/view/history_view_webpage_preview.cpp
++++ b/Telegram/SourceFiles/history/view/history_view_webpage_preview.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_call.cpp b/Telegram/SourceFiles/history/view/media/history_view_call.cpp
+index 954ce57..27d252e 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_call.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_call.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_contact.cpp b/Telegram/SourceFiles/history/view/media/history_view_contact.cpp
+index fa01e99..288e695 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_contact.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_contact.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_custom_emoji.cpp b/Telegram/SourceFiles/history/view/media/history_view_custom_emoji.cpp
+index 94de0a3..c6005c9 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_custom_emoji.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_custom_emoji.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_dice.cpp b/Telegram/SourceFiles/history/view/media/history_view_dice.cpp
+index 0ce2500..93a7384 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_dice.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_dice.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_document.cpp b/Telegram/SourceFiles/history/view/media/history_view_document.cpp
+index 84f0668..9dc4d5b 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_document.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_document.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_file.cpp b/Telegram/SourceFiles/history/view/media/history_view_file.cpp
+index 00f3c5e..9e3c75b 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_file.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_file.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_game.cpp b/Telegram/SourceFiles/history/view/media/history_view_game.cpp
+index cd3950b..4db994e 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_game.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_game.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_gif.cpp b/Telegram/SourceFiles/history/view/media/history_view_gif.cpp
+index 8f76983..7c7edb1 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_gif.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_gif.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_giveaway.cpp b/Telegram/SourceFiles/history/view/media/history_view_giveaway.cpp
+index 7f3e132..2e461d1 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_giveaway.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_giveaway.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_invoice.cpp b/Telegram/SourceFiles/history/view/media/history_view_invoice.cpp
+index eba510c..117de5a 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_invoice.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_invoice.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_large_emoji.cpp b/Telegram/SourceFiles/history/view/media/history_view_large_emoji.cpp
+index 0f77af1..36f675f 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_large_emoji.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_large_emoji.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_location.cpp b/Telegram/SourceFiles/history/view/media/history_view_location.cpp
+index 5b8b18e..ae01a5e 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_location.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_location.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_media.cpp b/Telegram/SourceFiles/history/view/media/history_view_media.cpp
+index 1d35549..8f6ade5 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_media.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_media.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_media_common.cpp b/Telegram/SourceFiles/history/view/media/history_view_media_common.cpp
+index b899d9f..130e4f3 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_media_common.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_media_common.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_media_generic.cpp b/Telegram/SourceFiles/history/view/media/history_view_media_generic.cpp
+index d27ef88..c6b466f 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_media_generic.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_media_generic.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_media_grouped.cpp b/Telegram/SourceFiles/history/view/media/history_view_media_grouped.cpp
+index 60c1420..090aeff 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_media_grouped.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_media_grouped.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_media_spoiler.cpp b/Telegram/SourceFiles/history/view/media/history_view_media_spoiler.cpp
+index cdf0ff3..202ab3c 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_media_spoiler.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_media_spoiler.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_media_unwrapped.cpp b/Telegram/SourceFiles/history/view/media/history_view_media_unwrapped.cpp
+index 8f8b15e..77017de 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_media_unwrapped.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_media_unwrapped.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_photo.cpp b/Telegram/SourceFiles/history/view/media/history_view_photo.cpp
+index 3e56d77..d21d0be 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_photo.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_photo.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_poll.cpp b/Telegram/SourceFiles/history/view/media/history_view_poll.cpp
+index bc9386a..7c3307a 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_poll.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_poll.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_premium_gift.cpp b/Telegram/SourceFiles/history/view/media/history_view_premium_gift.cpp
+index f9a9b03..7c53371 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_premium_gift.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_premium_gift.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_service_box.cpp b/Telegram/SourceFiles/history/view/media/history_view_service_box.cpp
+index 3cf6d7b..ad26f24 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_service_box.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_service_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_similar_channels.cpp b/Telegram/SourceFiles/history/view/media/history_view_similar_channels.cpp
+index 93b99c4..9b300e8 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_similar_channels.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_similar_channels.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_slot_machine.cpp b/Telegram/SourceFiles/history/view/media/history_view_slot_machine.cpp
+index 307a18c..d4e67eb 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_slot_machine.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_slot_machine.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_sticker.cpp b/Telegram/SourceFiles/history/view/media/history_view_sticker.cpp
+index a63541e..615b181 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_sticker.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_sticker.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_sticker_player.cpp b/Telegram/SourceFiles/history/view/media/history_view_sticker_player.cpp
+index da95870..0379cd9 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_sticker_player.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_sticker_player.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_story_mention.cpp b/Telegram/SourceFiles/history/view/media/history_view_story_mention.cpp
+index 7356e7b..69cf32c 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_story_mention.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_story_mention.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_theme_document.cpp b/Telegram/SourceFiles/history/view/media/history_view_theme_document.cpp
+index 16ca490..79efcaa 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_theme_document.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_theme_document.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_unique_gift.cpp b/Telegram/SourceFiles/history/view/media/history_view_unique_gift.cpp
+index abda42b..d4b7168 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_unique_gift.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_unique_gift.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_userpic_suggestion.cpp b/Telegram/SourceFiles/history/view/media/history_view_userpic_suggestion.cpp
+index 6e5252a..98fcef4 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_userpic_suggestion.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_userpic_suggestion.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/media/history_view_web_page.cpp b/Telegram/SourceFiles/history/view/media/history_view_web_page.cpp
+index 160962e..71713bd 100644
+--- a/Telegram/SourceFiles/history/view/media/history_view_web_page.cpp
++++ b/Telegram/SourceFiles/history/view/media/history_view_web_page.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/reactions/history_view_reactions.cpp b/Telegram/SourceFiles/history/view/reactions/history_view_reactions.cpp
+index 8a18852..5683b3e 100644
+--- a/Telegram/SourceFiles/history/view/reactions/history_view_reactions.cpp
++++ b/Telegram/SourceFiles/history/view/reactions/history_view_reactions.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/reactions/history_view_reactions_button.cpp b/Telegram/SourceFiles/history/view/reactions/history_view_reactions_button.cpp
+index 9f2759f..f35df95 100644
+--- a/Telegram/SourceFiles/history/view/reactions/history_view_reactions_button.cpp
++++ b/Telegram/SourceFiles/history/view/reactions/history_view_reactions_button.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/reactions/history_view_reactions_list.cpp b/Telegram/SourceFiles/history/view/reactions/history_view_reactions_list.cpp
+index 90c6d52..272fd67 100644
+--- a/Telegram/SourceFiles/history/view/reactions/history_view_reactions_list.cpp
++++ b/Telegram/SourceFiles/history/view/reactions/history_view_reactions_list.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/reactions/history_view_reactions_selector.cpp b/Telegram/SourceFiles/history/view/reactions/history_view_reactions_selector.cpp
+index 38970fb..9bdd87a 100644
+--- a/Telegram/SourceFiles/history/view/reactions/history_view_reactions_selector.cpp
++++ b/Telegram/SourceFiles/history/view/reactions/history_view_reactions_selector.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/reactions/history_view_reactions_strip.cpp b/Telegram/SourceFiles/history/view/reactions/history_view_reactions_strip.cpp
+index 08524c1..bd4d11d 100644
+--- a/Telegram/SourceFiles/history/view/reactions/history_view_reactions_strip.cpp
++++ b/Telegram/SourceFiles/history/view/reactions/history_view_reactions_strip.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/history/view/reactions/history_view_reactions_tabs.cpp b/Telegram/SourceFiles/history/view/reactions/history_view_reactions_tabs.cpp
+index df06ba4..b443351 100644
+--- a/Telegram/SourceFiles/history/view/reactions/history_view_reactions_tabs.cpp
++++ b/Telegram/SourceFiles/history/view/reactions/history_view_reactions_tabs.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/bot/earn/info_bot_earn_list.cpp b/Telegram/SourceFiles/info/bot/earn/info_bot_earn_list.cpp
+index a444026..5a7fd79 100644
+--- a/Telegram/SourceFiles/info/bot/earn/info_bot_earn_list.cpp
++++ b/Telegram/SourceFiles/info/bot/earn/info_bot_earn_list.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/bot/earn/info_bot_earn_widget.cpp b/Telegram/SourceFiles/info/bot/earn/info_bot_earn_widget.cpp
+index 123c8e3..cb68bfe 100644
+--- a/Telegram/SourceFiles/info/bot/earn/info_bot_earn_widget.cpp
++++ b/Telegram/SourceFiles/info/bot/earn/info_bot_earn_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/bot/starref/info_bot_starref_common.cpp b/Telegram/SourceFiles/info/bot/starref/info_bot_starref_common.cpp
+index a088bc9..a6f3730 100644
+--- a/Telegram/SourceFiles/info/bot/starref/info_bot_starref_common.cpp
++++ b/Telegram/SourceFiles/info/bot/starref/info_bot_starref_common.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+@@ -1058,4 +1060,4 @@ ConnectedBots Parse(
+ 	return result;
+ }
+ 
+-} // namespace Info::BotStarRef
+\ No newline at end of file
++} // namespace Info::BotStarRef
+diff --git a/Telegram/SourceFiles/info/bot/starref/info_bot_starref_join_widget.cpp b/Telegram/SourceFiles/info/bot/starref/info_bot_starref_join_widget.cpp
+index 515b275..898e5e3 100644
+--- a/Telegram/SourceFiles/info/bot/starref/info_bot_starref_join_widget.cpp
++++ b/Telegram/SourceFiles/info/bot/starref/info_bot_starref_join_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/bot/starref/info_bot_starref_setup_widget.cpp b/Telegram/SourceFiles/info/bot/starref/info_bot_starref_setup_widget.cpp
+index 4093737..b7a4386 100644
+--- a/Telegram/SourceFiles/info/bot/starref/info_bot_starref_setup_widget.cpp
++++ b/Telegram/SourceFiles/info/bot/starref/info_bot_starref_setup_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/boosts/create_giveaway_box.cpp b/Telegram/SourceFiles/info/channel_statistics/boosts/create_giveaway_box.cpp
+index a5a7361..cd2b381 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/boosts/create_giveaway_box.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/boosts/create_giveaway_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/boost_badge.cpp b/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/boost_badge.cpp
+index aea01c5..831c3fc 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/boost_badge.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/boost_badge.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/giveaway_list_controllers.cpp b/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/giveaway_list_controllers.cpp
+index 22c3680..009f46e 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/giveaway_list_controllers.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/giveaway_list_controllers.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/giveaway_type_row.cpp b/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/giveaway_type_row.cpp
+index 60c1814..7f82ca2 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/giveaway_type_row.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/giveaway_type_row.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/select_countries_box.cpp b/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/select_countries_box.cpp
+index 1faa928..2edc7d0 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/select_countries_box.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/boosts/giveaway/select_countries_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/boosts/info_boosts_inner_widget.cpp b/Telegram/SourceFiles/info/channel_statistics/boosts/info_boosts_inner_widget.cpp
+index 0f35e31..374bb2a 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/boosts/info_boosts_inner_widget.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/boosts/info_boosts_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/boosts/info_boosts_widget.cpp b/Telegram/SourceFiles/info/channel_statistics/boosts/info_boosts_widget.cpp
+index 447897d..f9f8e75 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/boosts/info_boosts_widget.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/boosts/info_boosts_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/earn/earn_format.cpp b/Telegram/SourceFiles/info/channel_statistics/earn/earn_format.cpp
+index 70e54d9..f7384a8 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/earn/earn_format.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/earn/earn_format.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/earn/earn_icons.cpp b/Telegram/SourceFiles/info/channel_statistics/earn/earn_icons.cpp
+index 0455610..6b06f85 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/earn/earn_icons.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/earn/earn_icons.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/earn/info_channel_earn_list.cpp b/Telegram/SourceFiles/info/channel_statistics/earn/info_channel_earn_list.cpp
+index 4b319c3..8ff0790 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/earn/info_channel_earn_list.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/earn/info_channel_earn_list.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/channel_statistics/earn/info_channel_earn_widget.cpp b/Telegram/SourceFiles/info/channel_statistics/earn/info_channel_earn_widget.cpp
+index 99424a1..db28a77 100644
+--- a/Telegram/SourceFiles/info/channel_statistics/earn/info_channel_earn_widget.cpp
++++ b/Telegram/SourceFiles/info/channel_statistics/earn/info_channel_earn_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/common_groups/info_common_groups_inner_widget.cpp b/Telegram/SourceFiles/info/common_groups/info_common_groups_inner_widget.cpp
+index cd5fe0b..b168d88 100644
+--- a/Telegram/SourceFiles/info/common_groups/info_common_groups_inner_widget.cpp
++++ b/Telegram/SourceFiles/info/common_groups/info_common_groups_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/common_groups/info_common_groups_widget.cpp b/Telegram/SourceFiles/info/common_groups/info_common_groups_widget.cpp
+index f81019b..0bbe23a 100644
+--- a/Telegram/SourceFiles/info/common_groups/info_common_groups_widget.cpp
++++ b/Telegram/SourceFiles/info/common_groups/info_common_groups_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/downloads/info_downloads_inner_widget.cpp b/Telegram/SourceFiles/info/downloads/info_downloads_inner_widget.cpp
+index 411dfaf..47e09af 100644
+--- a/Telegram/SourceFiles/info/downloads/info_downloads_inner_widget.cpp
++++ b/Telegram/SourceFiles/info/downloads/info_downloads_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/downloads/info_downloads_provider.cpp b/Telegram/SourceFiles/info/downloads/info_downloads_provider.cpp
+index ae781cc..06315dd 100644
+--- a/Telegram/SourceFiles/info/downloads/info_downloads_provider.cpp
++++ b/Telegram/SourceFiles/info/downloads/info_downloads_provider.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/downloads/info_downloads_widget.cpp b/Telegram/SourceFiles/info/downloads/info_downloads_widget.cpp
+index 92f7e19..3619aea 100644
+--- a/Telegram/SourceFiles/info/downloads/info_downloads_widget.cpp
++++ b/Telegram/SourceFiles/info/downloads/info_downloads_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/global_media/info_global_media_inner_widget.cpp b/Telegram/SourceFiles/info/global_media/info_global_media_inner_widget.cpp
+index f3e0cad..01e36bd 100644
+--- a/Telegram/SourceFiles/info/global_media/info_global_media_inner_widget.cpp
++++ b/Telegram/SourceFiles/info/global_media/info_global_media_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+@@ -148,4 +150,4 @@ rpl::producer<Ui::ScrollToRequest> InnerWidget::scrollToRequests() const {
+ 	return _scrollToRequests.events();
+ }
+ 
+-} // namespace Info::GlobalMedia
+\ No newline at end of file
++} // namespace Info::GlobalMedia
+diff --git a/Telegram/SourceFiles/info/global_media/info_global_media_provider.cpp b/Telegram/SourceFiles/info/global_media/info_global_media_provider.cpp
+index 9f73f58..74bf625 100644
+--- a/Telegram/SourceFiles/info/global_media/info_global_media_provider.cpp
++++ b/Telegram/SourceFiles/info/global_media/info_global_media_provider.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/global_media/info_global_media_widget.cpp b/Telegram/SourceFiles/info/global_media/info_global_media_widget.cpp
+index 69787fb..9f14eb1 100644
+--- a/Telegram/SourceFiles/info/global_media/info_global_media_widget.cpp
++++ b/Telegram/SourceFiles/info/global_media/info_global_media_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+@@ -141,4 +143,4 @@ std::shared_ptr<Info::Memento> Make(
+ 			std::make_shared<Memento>(self, type)));
+ }
+ 
+-} // namespace Info::GlobalMedia
+\ No newline at end of file
++} // namespace Info::GlobalMedia
+diff --git a/Telegram/SourceFiles/info/info_content_widget.cpp b/Telegram/SourceFiles/info/info_content_widget.cpp
+index f392e13..69e1dcc 100644
+--- a/Telegram/SourceFiles/info/info_content_widget.cpp
++++ b/Telegram/SourceFiles/info/info_content_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/info_controller.cpp b/Telegram/SourceFiles/info/info_controller.cpp
+index b1ec130..c73d8b6 100644
+--- a/Telegram/SourceFiles/info/info_controller.cpp
++++ b/Telegram/SourceFiles/info/info_controller.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/info_layer_widget.cpp b/Telegram/SourceFiles/info/info_layer_widget.cpp
+index 3404cf9..3780f60 100644
+--- a/Telegram/SourceFiles/info/info_layer_widget.cpp
++++ b/Telegram/SourceFiles/info/info_layer_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/info_memento.cpp b/Telegram/SourceFiles/info/info_memento.cpp
+index 40f7733..e8eba9d 100644
+--- a/Telegram/SourceFiles/info/info_memento.cpp
++++ b/Telegram/SourceFiles/info/info_memento.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/info_section_widget.cpp b/Telegram/SourceFiles/info/info_section_widget.cpp
+index 0a7b7da..5701c2c 100644
+--- a/Telegram/SourceFiles/info/info_section_widget.cpp
++++ b/Telegram/SourceFiles/info/info_section_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/info_top_bar.cpp b/Telegram/SourceFiles/info/info_top_bar.cpp
+index a6dd089..65a8a42 100644
+--- a/Telegram/SourceFiles/info/info_top_bar.cpp
++++ b/Telegram/SourceFiles/info/info_top_bar.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/info_wrap_widget.cpp b/Telegram/SourceFiles/info/info_wrap_widget.cpp
+index 56bc9bf..0efcccc 100644
+--- a/Telegram/SourceFiles/info/info_wrap_widget.cpp
++++ b/Telegram/SourceFiles/info/info_wrap_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/media/info_media_buttons.cpp b/Telegram/SourceFiles/info/media/info_media_buttons.cpp
+index 1531602..17ca55c 100644
+--- a/Telegram/SourceFiles/info/media/info_media_buttons.cpp
++++ b/Telegram/SourceFiles/info/media/info_media_buttons.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/media/info_media_common.cpp b/Telegram/SourceFiles/info/media/info_media_common.cpp
+index 6791b13..dc900af 100644
+--- a/Telegram/SourceFiles/info/media/info_media_common.cpp
++++ b/Telegram/SourceFiles/info/media/info_media_common.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/media/info_media_empty_widget.cpp b/Telegram/SourceFiles/info/media/info_media_empty_widget.cpp
+index 07f07af..4b1ac61 100644
+--- a/Telegram/SourceFiles/info/media/info_media_empty_widget.cpp
++++ b/Telegram/SourceFiles/info/media/info_media_empty_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/media/info_media_inner_widget.cpp b/Telegram/SourceFiles/info/media/info_media_inner_widget.cpp
+index 6f2beda..b365ef8 100644
+--- a/Telegram/SourceFiles/info/media/info_media_inner_widget.cpp
++++ b/Telegram/SourceFiles/info/media/info_media_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/media/info_media_list_section.cpp b/Telegram/SourceFiles/info/media/info_media_list_section.cpp
+index ba207ff..a493129 100644
+--- a/Telegram/SourceFiles/info/media/info_media_list_section.cpp
++++ b/Telegram/SourceFiles/info/media/info_media_list_section.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/media/info_media_list_widget.cpp b/Telegram/SourceFiles/info/media/info_media_list_widget.cpp
+index 6814059..a6d0893 100644
+--- a/Telegram/SourceFiles/info/media/info_media_list_widget.cpp
++++ b/Telegram/SourceFiles/info/media/info_media_list_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/media/info_media_provider.cpp b/Telegram/SourceFiles/info/media/info_media_provider.cpp
+index 62f7fdf..30db96c 100644
+--- a/Telegram/SourceFiles/info/media/info_media_provider.cpp
++++ b/Telegram/SourceFiles/info/media/info_media_provider.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/media/info_media_widget.cpp b/Telegram/SourceFiles/info/media/info_media_widget.cpp
+index 5d2af53..a368964 100644
+--- a/Telegram/SourceFiles/info/media/info_media_widget.cpp
++++ b/Telegram/SourceFiles/info/media/info_media_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/members/info_members_widget.cpp b/Telegram/SourceFiles/info/members/info_members_widget.cpp
+index 0a00a73..f92bb3d 100644
+--- a/Telegram/SourceFiles/info/members/info_members_widget.cpp
++++ b/Telegram/SourceFiles/info/members/info_members_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/peer_gifts/info_peer_gifts_common.cpp b/Telegram/SourceFiles/info/peer_gifts/info_peer_gifts_common.cpp
+index fb014da..4e67d21 100644
+--- a/Telegram/SourceFiles/info/peer_gifts/info_peer_gifts_common.cpp
++++ b/Telegram/SourceFiles/info/peer_gifts/info_peer_gifts_common.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/peer_gifts/info_peer_gifts_widget.cpp b/Telegram/SourceFiles/info/peer_gifts/info_peer_gifts_widget.cpp
+index 88745c6..4c4abbf 100644
+--- a/Telegram/SourceFiles/info/peer_gifts/info_peer_gifts_widget.cpp
++++ b/Telegram/SourceFiles/info/peer_gifts/info_peer_gifts_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/polls/info_polls_results_inner_widget.cpp b/Telegram/SourceFiles/info/polls/info_polls_results_inner_widget.cpp
+index 24afb84..a52c58d 100644
+--- a/Telegram/SourceFiles/info/polls/info_polls_results_inner_widget.cpp
++++ b/Telegram/SourceFiles/info/polls/info_polls_results_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/polls/info_polls_results_widget.cpp b/Telegram/SourceFiles/info/polls/info_polls_results_widget.cpp
+index 056eb35..11a8d67 100644
+--- a/Telegram/SourceFiles/info/polls/info_polls_results_widget.cpp
++++ b/Telegram/SourceFiles/info/polls/info_polls_results_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_actions.cpp b/Telegram/SourceFiles/info/profile/info_profile_actions.cpp
+index a9f12e7..e5da7dd 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_actions.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_actions.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_badge.cpp b/Telegram/SourceFiles/info/profile/info_profile_badge.cpp
+index b87931b..ad17ac3 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_badge.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_badge.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_cover.cpp b/Telegram/SourceFiles/info/profile/info_profile_cover.cpp
+index aaf8a82..d35868c 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_cover.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_cover.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_emoji_status_panel.cpp b/Telegram/SourceFiles/info/profile/info_profile_emoji_status_panel.cpp
+index ecf24b2..66cd5f5 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_emoji_status_panel.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_emoji_status_panel.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_icon.cpp b/Telegram/SourceFiles/info/profile/info_profile_icon.cpp
+index 9f8dee9..93bee71 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_icon.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_icon.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_inner_widget.cpp b/Telegram/SourceFiles/info/profile/info_profile_inner_widget.cpp
+index 42594dd..be4fd40 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_inner_widget.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_members.cpp b/Telegram/SourceFiles/info/profile/info_profile_members.cpp
+index 0574dd6..3593902 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_members.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_members.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_members_controllers.cpp b/Telegram/SourceFiles/info/profile/info_profile_members_controllers.cpp
+index 1987be5..5e41709 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_members_controllers.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_members_controllers.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_phone_menu.cpp b/Telegram/SourceFiles/info/profile/info_profile_phone_menu.cpp
+index 85fde82..69fafaf 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_phone_menu.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_phone_menu.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_text.cpp b/Telegram/SourceFiles/info/profile/info_profile_text.cpp
+index bfca3d0..fb68340 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_text.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_text.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_values.cpp b/Telegram/SourceFiles/info/profile/info_profile_values.cpp
+index 8caddbf..3b4f44c 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_values.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_values.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/profile/info_profile_widget.cpp b/Telegram/SourceFiles/info/profile/info_profile_widget.cpp
+index 48b0107..a490c1a 100644
+--- a/Telegram/SourceFiles/info/profile/info_profile_widget.cpp
++++ b/Telegram/SourceFiles/info/profile/info_profile_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/reactions_list/info_reactions_list_widget.cpp b/Telegram/SourceFiles/info/reactions_list/info_reactions_list_widget.cpp
+index 9b0f4ad..5e03f0a 100644
+--- a/Telegram/SourceFiles/info/reactions_list/info_reactions_list_widget.cpp
++++ b/Telegram/SourceFiles/info/reactions_list/info_reactions_list_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/requests_list/info_requests_list_widget.cpp b/Telegram/SourceFiles/info/requests_list/info_requests_list_widget.cpp
+index 2fae27d..2511504 100644
+--- a/Telegram/SourceFiles/info/requests_list/info_requests_list_widget.cpp
++++ b/Telegram/SourceFiles/info/requests_list/info_requests_list_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/saved/info_saved_sublists_widget.cpp b/Telegram/SourceFiles/info/saved/info_saved_sublists_widget.cpp
+index 9a07088..e86b11d 100644
+--- a/Telegram/SourceFiles/info/saved/info_saved_sublists_widget.cpp
++++ b/Telegram/SourceFiles/info/saved/info_saved_sublists_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/settings/info_settings_widget.cpp b/Telegram/SourceFiles/info/settings/info_settings_widget.cpp
+index 90b4523..b3398cc 100644
+--- a/Telegram/SourceFiles/info/settings/info_settings_widget.cpp
++++ b/Telegram/SourceFiles/info/settings/info_settings_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/similar_peers/info_similar_peers_widget.cpp b/Telegram/SourceFiles/info/similar_peers/info_similar_peers_widget.cpp
+index 3646b5b..83a8e64 100644
+--- a/Telegram/SourceFiles/info/similar_peers/info_similar_peers_widget.cpp
++++ b/Telegram/SourceFiles/info/similar_peers/info_similar_peers_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/statistics/info_statistics_inner_widget.cpp b/Telegram/SourceFiles/info/statistics/info_statistics_inner_widget.cpp
+index 5412b58..17a80bd 100644
+--- a/Telegram/SourceFiles/info/statistics/info_statistics_inner_widget.cpp
++++ b/Telegram/SourceFiles/info/statistics/info_statistics_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/statistics/info_statistics_list_controllers.cpp b/Telegram/SourceFiles/info/statistics/info_statistics_list_controllers.cpp
+index 6a5e27c..8f5a530 100644
+--- a/Telegram/SourceFiles/info/statistics/info_statistics_list_controllers.cpp
++++ b/Telegram/SourceFiles/info/statistics/info_statistics_list_controllers.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/statistics/info_statistics_recent_message.cpp b/Telegram/SourceFiles/info/statistics/info_statistics_recent_message.cpp
+index 1a5da3a..42815c2 100644
+--- a/Telegram/SourceFiles/info/statistics/info_statistics_recent_message.cpp
++++ b/Telegram/SourceFiles/info/statistics/info_statistics_recent_message.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/statistics/info_statistics_widget.cpp b/Telegram/SourceFiles/info/statistics/info_statistics_widget.cpp
+index 087d3dd..7f3684f 100644
+--- a/Telegram/SourceFiles/info/statistics/info_statistics_widget.cpp
++++ b/Telegram/SourceFiles/info/statistics/info_statistics_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/stories/info_stories_inner_widget.cpp b/Telegram/SourceFiles/info/stories/info_stories_inner_widget.cpp
+index d0ab12c..72c2a83 100644
+--- a/Telegram/SourceFiles/info/stories/info_stories_inner_widget.cpp
++++ b/Telegram/SourceFiles/info/stories/info_stories_inner_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/stories/info_stories_provider.cpp b/Telegram/SourceFiles/info/stories/info_stories_provider.cpp
+index f6863be..1964fb9 100644
+--- a/Telegram/SourceFiles/info/stories/info_stories_provider.cpp
++++ b/Telegram/SourceFiles/info/stories/info_stories_provider.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/stories/info_stories_widget.cpp b/Telegram/SourceFiles/info/stories/info_stories_widget.cpp
+index 30052bc..63f5f5b 100644
+--- a/Telegram/SourceFiles/info/stories/info_stories_widget.cpp
++++ b/Telegram/SourceFiles/info/stories/info_stories_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/userpic/info_userpic_bubble_wrap.cpp b/Telegram/SourceFiles/info/userpic/info_userpic_bubble_wrap.cpp
+index ffb0204..83d814c 100644
+--- a/Telegram/SourceFiles/info/userpic/info_userpic_bubble_wrap.cpp
++++ b/Telegram/SourceFiles/info/userpic/info_userpic_bubble_wrap.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/userpic/info_userpic_color_circle_button.cpp b/Telegram/SourceFiles/info/userpic/info_userpic_color_circle_button.cpp
+index 97ce58a..2b0147a 100644
+--- a/Telegram/SourceFiles/info/userpic/info_userpic_color_circle_button.cpp
++++ b/Telegram/SourceFiles/info/userpic/info_userpic_color_circle_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/userpic/info_userpic_colors_editor.cpp b/Telegram/SourceFiles/info/userpic/info_userpic_colors_editor.cpp
+index fbfa8fb..264fe7a 100644
+--- a/Telegram/SourceFiles/info/userpic/info_userpic_colors_editor.cpp
++++ b/Telegram/SourceFiles/info/userpic/info_userpic_colors_editor.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder.cpp b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder.cpp
+index 24fc13e..7d0b810 100644
+--- a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder.cpp
++++ b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_common.cpp b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_common.cpp
+index a440f59..13c7b0d 100644
+--- a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_common.cpp
++++ b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_common.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_layer.cpp b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_layer.cpp
+index c251c7b..3a6594e 100644
+--- a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_layer.cpp
++++ b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_layer.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_menu_item.cpp b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_menu_item.cpp
+index 64be531..d9a3bc8 100644
+--- a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_menu_item.cpp
++++ b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_menu_item.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_preview.cpp b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_preview.cpp
+index 5728091..c23f242 100644
+--- a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_preview.cpp
++++ b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_preview.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_widget.cpp b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_widget.cpp
+index 5f77c55..64269ed 100644
+--- a/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_widget.cpp
++++ b/Telegram/SourceFiles/info/userpic/info_userpic_emoji_builder_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/inline_bots/bot_attach_web_view.cpp b/Telegram/SourceFiles/inline_bots/bot_attach_web_view.cpp
+index d7fad92..520e13f 100644
+--- a/Telegram/SourceFiles/inline_bots/bot_attach_web_view.cpp
++++ b/Telegram/SourceFiles/inline_bots/bot_attach_web_view.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/inline_bots/inline_bot_confirm_prepared.cpp b/Telegram/SourceFiles/inline_bots/inline_bot_confirm_prepared.cpp
+index 4b4b434..c49fcaf 100644
+--- a/Telegram/SourceFiles/inline_bots/inline_bot_confirm_prepared.cpp
++++ b/Telegram/SourceFiles/inline_bots/inline_bot_confirm_prepared.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/inline_bots/inline_bot_downloads.cpp b/Telegram/SourceFiles/inline_bots/inline_bot_downloads.cpp
+index d1c82d5..3502830 100644
+--- a/Telegram/SourceFiles/inline_bots/inline_bot_downloads.cpp
++++ b/Telegram/SourceFiles/inline_bots/inline_bot_downloads.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/inline_bots/inline_bot_layout_internal.cpp b/Telegram/SourceFiles/inline_bots/inline_bot_layout_internal.cpp
+index 7f6f415..f1d045f 100644
+--- a/Telegram/SourceFiles/inline_bots/inline_bot_layout_internal.cpp
++++ b/Telegram/SourceFiles/inline_bots/inline_bot_layout_internal.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/inline_bots/inline_bot_layout_item.cpp b/Telegram/SourceFiles/inline_bots/inline_bot_layout_item.cpp
+index 89b0e41..2e1f727 100644
+--- a/Telegram/SourceFiles/inline_bots/inline_bot_layout_item.cpp
++++ b/Telegram/SourceFiles/inline_bots/inline_bot_layout_item.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/inline_bots/inline_bot_result.cpp b/Telegram/SourceFiles/inline_bots/inline_bot_result.cpp
+index 0b5c01c..f27366b 100644
+--- a/Telegram/SourceFiles/inline_bots/inline_bot_result.cpp
++++ b/Telegram/SourceFiles/inline_bots/inline_bot_result.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/inline_bots/inline_bot_send_data.cpp b/Telegram/SourceFiles/inline_bots/inline_bot_send_data.cpp
+index e4ac798..9748ea1 100644
+--- a/Telegram/SourceFiles/inline_bots/inline_bot_send_data.cpp
++++ b/Telegram/SourceFiles/inline_bots/inline_bot_send_data.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/inline_bots/inline_results_inner.cpp b/Telegram/SourceFiles/inline_bots/inline_results_inner.cpp
+index 41ee7f4..09e6ce6 100644
+--- a/Telegram/SourceFiles/inline_bots/inline_results_inner.cpp
++++ b/Telegram/SourceFiles/inline_bots/inline_results_inner.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/inline_bots/inline_results_widget.cpp b/Telegram/SourceFiles/inline_bots/inline_results_widget.cpp
+index b0dd0e5..de49be0 100644
+--- a/Telegram/SourceFiles/inline_bots/inline_results_widget.cpp
++++ b/Telegram/SourceFiles/inline_bots/inline_results_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/intro/intro_code.cpp b/Telegram/SourceFiles/intro/intro_code.cpp
+index d26625a..14e9831 100644
+--- a/Telegram/SourceFiles/intro/intro_code.cpp
++++ b/Telegram/SourceFiles/intro/intro_code.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/intro/intro_code_input.cpp b/Telegram/SourceFiles/intro/intro_code_input.cpp
+index a3964d3..c120759 100644
+--- a/Telegram/SourceFiles/intro/intro_code_input.cpp
++++ b/Telegram/SourceFiles/intro/intro_code_input.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/intro/intro_password_check.cpp b/Telegram/SourceFiles/intro/intro_password_check.cpp
+index 3555c95..c77ce09 100644
+--- a/Telegram/SourceFiles/intro/intro_password_check.cpp
++++ b/Telegram/SourceFiles/intro/intro_password_check.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/intro/intro_phone.cpp b/Telegram/SourceFiles/intro/intro_phone.cpp
+index ae74136..c5eb0c6 100644
+--- a/Telegram/SourceFiles/intro/intro_phone.cpp
++++ b/Telegram/SourceFiles/intro/intro_phone.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/intro/intro_qr.cpp b/Telegram/SourceFiles/intro/intro_qr.cpp
+index a76f753..11d5029 100644
+--- a/Telegram/SourceFiles/intro/intro_qr.cpp
++++ b/Telegram/SourceFiles/intro/intro_qr.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/intro/intro_signup.cpp b/Telegram/SourceFiles/intro/intro_signup.cpp
+index 32831ea..ae036c5 100644
+--- a/Telegram/SourceFiles/intro/intro_signup.cpp
++++ b/Telegram/SourceFiles/intro/intro_signup.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/intro/intro_start.cpp b/Telegram/SourceFiles/intro/intro_start.cpp
+index d4ebdec..93f501e 100644
+--- a/Telegram/SourceFiles/intro/intro_start.cpp
++++ b/Telegram/SourceFiles/intro/intro_start.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/intro/intro_step.cpp b/Telegram/SourceFiles/intro/intro_step.cpp
+index 969aecb..c0ca9fb 100644
+--- a/Telegram/SourceFiles/intro/intro_step.cpp
++++ b/Telegram/SourceFiles/intro/intro_step.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/intro/intro_widget.cpp b/Telegram/SourceFiles/intro/intro_widget.cpp
+index 831641d..83ada8d 100644
+--- a/Telegram/SourceFiles/intro/intro_widget.cpp
++++ b/Telegram/SourceFiles/intro/intro_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/iv/iv_controller.cpp b/Telegram/SourceFiles/iv/iv_controller.cpp
+index d35cd84..61755e9 100644
+--- a/Telegram/SourceFiles/iv/iv_controller.cpp
++++ b/Telegram/SourceFiles/iv/iv_controller.cpp
+@@ -1,3 +1,5 @@
++#include "mtproto/mtproto_pch.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/iv/iv_data.cpp b/Telegram/SourceFiles/iv/iv_data.cpp
+index 8d424c9..354670f 100644
+--- a/Telegram/SourceFiles/iv/iv_data.cpp
++++ b/Telegram/SourceFiles/iv/iv_data.cpp
+@@ -1,3 +1,5 @@
++#include "mtproto/mtproto_pch.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/iv/iv_delegate_impl.cpp b/Telegram/SourceFiles/iv/iv_delegate_impl.cpp
+index e97de87..dc0e7b6 100644
+--- a/Telegram/SourceFiles/iv/iv_delegate_impl.cpp
++++ b/Telegram/SourceFiles/iv/iv_delegate_impl.cpp
+@@ -1,3 +1,6 @@
++#include "mtproto/mtproto_pch.h"
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/iv/iv_instance.cpp b/Telegram/SourceFiles/iv/iv_instance.cpp
+index b4fbc4e..e23fd53 100644
+--- a/Telegram/SourceFiles/iv/iv_instance.cpp
++++ b/Telegram/SourceFiles/iv/iv_instance.cpp
+@@ -1,3 +1,6 @@
++#include "mtproto/mtproto_pch.h"
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/iv/iv_prepare.cpp b/Telegram/SourceFiles/iv/iv_prepare.cpp
+index 6fc891a..597a2dd 100644
+--- a/Telegram/SourceFiles/iv/iv_prepare.cpp
++++ b/Telegram/SourceFiles/iv/iv_prepare.cpp
+@@ -1,3 +1,5 @@
++#include "mtproto/mtproto_pch.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/lang/lang_cloud_manager.cpp b/Telegram/SourceFiles/lang/lang_cloud_manager.cpp
+index 5bbe85c..e57245f 100644
+--- a/Telegram/SourceFiles/lang/lang_cloud_manager.cpp
++++ b/Telegram/SourceFiles/lang/lang_cloud_manager.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "lang/lang_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/lang/lang_file_parser.cpp b/Telegram/SourceFiles/lang/lang_file_parser.cpp
+index 5dac61a..b343331 100644
+--- a/Telegram/SourceFiles/lang/lang_file_parser.cpp
++++ b/Telegram/SourceFiles/lang/lang_file_parser.cpp
+@@ -1,3 +1,4 @@
++#include "lang/lang_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/lang/lang_instance.cpp b/Telegram/SourceFiles/lang/lang_instance.cpp
+index eadb265..7b8ce8b 100644
+--- a/Telegram/SourceFiles/lang/lang_instance.cpp
++++ b/Telegram/SourceFiles/lang/lang_instance.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "lang/lang_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/lang/lang_keys.cpp b/Telegram/SourceFiles/lang/lang_keys.cpp
+index aa65ed8..a08fa46 100644
+--- a/Telegram/SourceFiles/lang/lang_keys.cpp
++++ b/Telegram/SourceFiles/lang/lang_keys.cpp
+@@ -1,3 +1,4 @@
++#include "lang/lang_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/lang/lang_numbers_animation.cpp b/Telegram/SourceFiles/lang/lang_numbers_animation.cpp
+index fdeb96a..f1e948c 100644
+--- a/Telegram/SourceFiles/lang/lang_numbers_animation.cpp
++++ b/Telegram/SourceFiles/lang/lang_numbers_animation.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "lang/lang_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/lang/lang_tag.cpp b/Telegram/SourceFiles/lang/lang_tag.cpp
+index d11cb10..b0cd49a 100644
+--- a/Telegram/SourceFiles/lang/lang_tag.cpp
++++ b/Telegram/SourceFiles/lang/lang_tag.cpp
+@@ -1,3 +1,4 @@
++#include "lang/lang_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/lang/lang_tag.h b/Telegram/SourceFiles/lang/lang_tag.h
+index 1012d27..26166f6 100644
+--- a/Telegram/SourceFiles/lang/lang_tag.h
++++ b/Telegram/SourceFiles/lang/lang_tag.h
+@@ -1,3 +1,4 @@
++#include "lang/lang_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/lang/lang_text_entity.cpp b/Telegram/SourceFiles/lang/lang_text_entity.cpp
+index 5bdc1bd..a584a39 100644
+--- a/Telegram/SourceFiles/lang/lang_text_entity.cpp
++++ b/Telegram/SourceFiles/lang/lang_text_entity.cpp
+@@ -1,3 +1,4 @@
++#include "lang/lang_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/lang/lang_translator.cpp b/Telegram/SourceFiles/lang/lang_translator.cpp
+index eeb1251..d1747f8 100644
+--- a/Telegram/SourceFiles/lang/lang_translator.cpp
++++ b/Telegram/SourceFiles/lang/lang_translator.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "lang/lang_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/layout/abstract_layout_item.cpp b/Telegram/SourceFiles/layout/abstract_layout_item.cpp
+index d83f0a7..1691cad 100644
+--- a/Telegram/SourceFiles/layout/abstract_layout_item.cpp
++++ b/Telegram/SourceFiles/layout/abstract_layout_item.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/layout/layout_document_generic_preview.cpp b/Telegram/SourceFiles/layout/layout_document_generic_preview.cpp
+index a0a9285..6fb5843 100644
+--- a/Telegram/SourceFiles/layout/layout_document_generic_preview.cpp
++++ b/Telegram/SourceFiles/layout/layout_document_generic_preview.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/layout/layout_item_base.cpp b/Telegram/SourceFiles/layout/layout_item_base.cpp
+index 77f2d8e..88576e3 100644
+--- a/Telegram/SourceFiles/layout/layout_item_base.cpp
++++ b/Telegram/SourceFiles/layout/layout_item_base.cpp
+@@ -1,3 +1,5 @@
++#include "stdafx.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/layout/layout_mosaic.cpp b/Telegram/SourceFiles/layout/layout_mosaic.cpp
+index 645f290..f832a21 100644
+--- a/Telegram/SourceFiles/layout/layout_mosaic.cpp
++++ b/Telegram/SourceFiles/layout/layout_mosaic.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/layout/layout_position.cpp b/Telegram/SourceFiles/layout/layout_position.cpp
+index 2631e2c..7cb95cb 100644
+--- a/Telegram/SourceFiles/layout/layout_position.cpp
++++ b/Telegram/SourceFiles/layout/layout_position.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/layout/layout_selection.cpp b/Telegram/SourceFiles/layout/layout_selection.cpp
+index 32f48b2..bd0e2d0 100644
+--- a/Telegram/SourceFiles/layout/layout_selection.cpp
++++ b/Telegram/SourceFiles/layout/layout_selection.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/logs.cpp b/Telegram/SourceFiles/logs.cpp
+index 382d65a..2fa47df 100644
+--- a/Telegram/SourceFiles/logs.cpp
++++ b/Telegram/SourceFiles/logs.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/main.cpp b/Telegram/SourceFiles/main.cpp
+index d3d938c..53e90d3 100644
+--- a/Telegram/SourceFiles/main.cpp
++++ b/Telegram/SourceFiles/main.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/main/main_account.cpp b/Telegram/SourceFiles/main/main_account.cpp
+index 5a2f894..a164c64 100644
+--- a/Telegram/SourceFiles/main/main_account.cpp
++++ b/Telegram/SourceFiles/main/main_account.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/main/main_app_config.cpp b/Telegram/SourceFiles/main/main_app_config.cpp
+index 594bad1..f1d493b 100644
+--- a/Telegram/SourceFiles/main/main_app_config.cpp
++++ b/Telegram/SourceFiles/main/main_app_config.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/main/main_app_config_values.cpp b/Telegram/SourceFiles/main/main_app_config_values.cpp
+index bd2b1f0..41e7fcd 100644
+--- a/Telegram/SourceFiles/main/main_app_config_values.cpp
++++ b/Telegram/SourceFiles/main/main_app_config_values.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/main/main_domain.cpp b/Telegram/SourceFiles/main/main_domain.cpp
+index 714f7e2..649cc0c 100644
+--- a/Telegram/SourceFiles/main/main_domain.cpp
++++ b/Telegram/SourceFiles/main/main_domain.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/main/main_session.cpp b/Telegram/SourceFiles/main/main_session.cpp
+index 77609c6..703b954 100644
+--- a/Telegram/SourceFiles/main/main_session.cpp
++++ b/Telegram/SourceFiles/main/main_session.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/main/main_session_settings.cpp b/Telegram/SourceFiles/main/main_session_settings.cpp
+index 7d13cde..d3a4388 100644
+--- a/Telegram/SourceFiles/main/main_session_settings.cpp
++++ b/Telegram/SourceFiles/main/main_session_settings.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/main/session/send_as_peers.cpp b/Telegram/SourceFiles/main/session/send_as_peers.cpp
+index e8bdaf0..61b4ee2 100644
+--- a/Telegram/SourceFiles/main/session/send_as_peers.cpp
++++ b/Telegram/SourceFiles/main/session/send_as_peers.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/main/session/session_show.cpp b/Telegram/SourceFiles/main/session/session_show.cpp
+index 1f740d4..cf944e6 100644
+--- a/Telegram/SourceFiles/main/session/session_show.cpp
++++ b/Telegram/SourceFiles/main/session/session_show.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mainwidget.cpp b/Telegram/SourceFiles/mainwidget.cpp
+index f4ba698..3d03f6d 100644
+--- a/Telegram/SourceFiles/mainwidget.cpp
++++ b/Telegram/SourceFiles/mainwidget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mainwindow.cpp b/Telegram/SourceFiles/mainwindow.cpp
+index e7ed0c6..b338b33 100644
+--- a/Telegram/SourceFiles/mainwindow.cpp
++++ b/Telegram/SourceFiles/mainwindow.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/audio/media_audio.cpp b/Telegram/SourceFiles/media/audio/media_audio.cpp
+index 86fe5ce..cfaffc8 100644
+--- a/Telegram/SourceFiles/media/audio/media_audio.cpp
++++ b/Telegram/SourceFiles/media/audio/media_audio.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/audio/media_audio.h b/Telegram/SourceFiles/media/audio/media_audio.h
+index dd1f43f..fa3deea 100644
+--- a/Telegram/SourceFiles/media/audio/media_audio.h
++++ b/Telegram/SourceFiles/media/audio/media_audio.h
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/audio/media_audio_capture.cpp b/Telegram/SourceFiles/media/audio/media_audio_capture.cpp
+index d46f878..2889b4a 100644
+--- a/Telegram/SourceFiles/media/audio/media_audio_capture.cpp
++++ b/Telegram/SourceFiles/media/audio/media_audio_capture.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/audio/media_audio_ffmpeg_loader.cpp b/Telegram/SourceFiles/media/audio/media_audio_ffmpeg_loader.cpp
+index bdfe863..df8c634 100644
+--- a/Telegram/SourceFiles/media/audio/media_audio_ffmpeg_loader.cpp
++++ b/Telegram/SourceFiles/media/audio/media_audio_ffmpeg_loader.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/audio/media_audio_loader.cpp b/Telegram/SourceFiles/media/audio/media_audio_loader.cpp
+index 7451de9..0b72fda 100644
+--- a/Telegram/SourceFiles/media/audio/media_audio_loader.cpp
++++ b/Telegram/SourceFiles/media/audio/media_audio_loader.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/audio/media_audio_loaders.cpp b/Telegram/SourceFiles/media/audio/media_audio_loaders.cpp
+index 5cff816..015ce34 100644
+--- a/Telegram/SourceFiles/media/audio/media_audio_loaders.cpp
++++ b/Telegram/SourceFiles/media/audio/media_audio_loaders.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/audio/media_audio_local_cache.cpp b/Telegram/SourceFiles/media/audio/media_audio_local_cache.cpp
+index 7d9f994..47561e6 100644
+--- a/Telegram/SourceFiles/media/audio/media_audio_local_cache.cpp
++++ b/Telegram/SourceFiles/media/audio/media_audio_local_cache.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/audio/media_audio_track.cpp b/Telegram/SourceFiles/media/audio/media_audio_track.cpp
+index bbf2ea5..1b85a9c 100644
+--- a/Telegram/SourceFiles/media/audio/media_audio_track.cpp
++++ b/Telegram/SourceFiles/media/audio/media_audio_track.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/audio/media_child_ffmpeg_loader.cpp b/Telegram/SourceFiles/media/audio/media_child_ffmpeg_loader.cpp
+index 96efc7c..30d5e59 100644
+--- a/Telegram/SourceFiles/media/audio/media_child_ffmpeg_loader.cpp
++++ b/Telegram/SourceFiles/media/audio/media_child_ffmpeg_loader.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/clip/media_clip_check_streaming.cpp b/Telegram/SourceFiles/media/clip/media_clip_check_streaming.cpp
+index e60eed1..c134118 100644
+--- a/Telegram/SourceFiles/media/clip/media_clip_check_streaming.cpp
++++ b/Telegram/SourceFiles/media/clip/media_clip_check_streaming.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/clip/media_clip_ffmpeg.cpp b/Telegram/SourceFiles/media/clip/media_clip_ffmpeg.cpp
+index 1188f02..dd03351 100644
+--- a/Telegram/SourceFiles/media/clip/media_clip_ffmpeg.cpp
++++ b/Telegram/SourceFiles/media/clip/media_clip_ffmpeg.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/clip/media_clip_implementation.cpp b/Telegram/SourceFiles/media/clip/media_clip_implementation.cpp
+index e9b1f25..e5a412d 100644
+--- a/Telegram/SourceFiles/media/clip/media_clip_implementation.cpp
++++ b/Telegram/SourceFiles/media/clip/media_clip_implementation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/clip/media_clip_reader.cpp b/Telegram/SourceFiles/media/clip/media_clip_reader.cpp
+index ee74872..7e5f689 100644
+--- a/Telegram/SourceFiles/media/clip/media_clip_reader.cpp
++++ b/Telegram/SourceFiles/media/clip/media_clip_reader.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/player/media_player_button.cpp b/Telegram/SourceFiles/media/player/media_player_button.cpp
+index 2fc6b88..01b5339 100644
+--- a/Telegram/SourceFiles/media/player/media_player_button.cpp
++++ b/Telegram/SourceFiles/media/player/media_player_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/player/media_player_dropdown.cpp b/Telegram/SourceFiles/media/player/media_player_dropdown.cpp
+index 27a29d7..7e9fc51 100644
+--- a/Telegram/SourceFiles/media/player/media_player_dropdown.cpp
++++ b/Telegram/SourceFiles/media/player/media_player_dropdown.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/player/media_player_float.cpp b/Telegram/SourceFiles/media/player/media_player_float.cpp
+index 755eef4..e50fc7e 100644
+--- a/Telegram/SourceFiles/media/player/media_player_float.cpp
++++ b/Telegram/SourceFiles/media/player/media_player_float.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/player/media_player_instance.cpp b/Telegram/SourceFiles/media/player/media_player_instance.cpp
+index de1932b..2de32b2 100644
+--- a/Telegram/SourceFiles/media/player/media_player_instance.cpp
++++ b/Telegram/SourceFiles/media/player/media_player_instance.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/player/media_player_panel.cpp b/Telegram/SourceFiles/media/player/media_player_panel.cpp
+index 2b7ab6d..033ef98 100644
+--- a/Telegram/SourceFiles/media/player/media_player_panel.cpp
++++ b/Telegram/SourceFiles/media/player/media_player_panel.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/player/media_player_volume_controller.cpp b/Telegram/SourceFiles/media/player/media_player_volume_controller.cpp
+index c8e4af7..6cbe56d 100644
+--- a/Telegram/SourceFiles/media/player/media_player_volume_controller.cpp
++++ b/Telegram/SourceFiles/media/player/media_player_volume_controller.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/player/media_player_widget.cpp b/Telegram/SourceFiles/media/player/media_player_widget.cpp
+index 6425b79..e48d377 100644
+--- a/Telegram/SourceFiles/media/player/media_player_widget.cpp
++++ b/Telegram/SourceFiles/media/player/media_player_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_caption_full_view.cpp b/Telegram/SourceFiles/media/stories/media_stories_caption_full_view.cpp
+index 218add3..f635ba9 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_caption_full_view.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_caption_full_view.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_controller.cpp b/Telegram/SourceFiles/media/stories/media_stories_controller.cpp
+index 3f13687..77216f9 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_controller.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_controller.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_delegate.cpp b/Telegram/SourceFiles/media/stories/media_stories_delegate.cpp
+index 721d980..6b258b4 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_delegate.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_delegate.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_header.cpp b/Telegram/SourceFiles/media/stories/media_stories_header.cpp
+index a77c700..f705859 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_header.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_header.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_reactions.cpp b/Telegram/SourceFiles/media/stories/media_stories_reactions.cpp
+index e65443b..84f5a4a 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_reactions.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_reactions.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_recent_views.cpp b/Telegram/SourceFiles/media/stories/media_stories_recent_views.cpp
+index 6645637..72c43b1 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_recent_views.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_recent_views.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_reply.cpp b/Telegram/SourceFiles/media/stories/media_stories_reply.cpp
+index 4587335..50ade57 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_reply.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_reply.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_repost_view.cpp b/Telegram/SourceFiles/media/stories/media_stories_repost_view.cpp
+index 0b8065b..db1f9d1 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_repost_view.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_repost_view.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_share.cpp b/Telegram/SourceFiles/media/stories/media_stories_share.cpp
+index 80ec8e7..9a3ef51 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_share.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_share.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_sibling.cpp b/Telegram/SourceFiles/media/stories/media_stories_sibling.cpp
+index 6e4947e..dcac017 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_sibling.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_sibling.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_slider.cpp b/Telegram/SourceFiles/media/stories/media_stories_slider.cpp
+index 53f39c1..0b52788 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_slider.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_slider.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_stealth.cpp b/Telegram/SourceFiles/media/stories/media_stories_stealth.cpp
+index b64de9e..f8ac81c 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_stealth.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_stealth.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/stories/media_stories_view.cpp b/Telegram/SourceFiles/media/stories/media_stories_view.cpp
+index 73bd57e..d6fbfbf 100644
+--- a/Telegram/SourceFiles/media/stories/media_stories_view.cpp
++++ b/Telegram/SourceFiles/media/stories/media_stories_view.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_audio_track.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_audio_track.cpp
+index ff18b67..2e34571 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_audio_track.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_audio_track.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_document.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_document.cpp
+index 5ba5ff5..42dfcce 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_document.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_document.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_file.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_file.cpp
+index 9e5ee84..d7039fd 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_file.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_file.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_instance.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_instance.cpp
+index 4d4149c..a8b3630 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_instance.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_instance.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_loader.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_loader.cpp
+index e507efe..bcfa45d 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_loader.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_loader.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_loader_local.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_loader_local.cpp
+index 868296d..81dcafb 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_loader_local.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_loader_local.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_loader_mtproto.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_loader_mtproto.cpp
+index d6f869c..49988bb 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_loader_mtproto.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_loader_mtproto.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_player.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_player.cpp
+index 0005d17..17fbee4 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_player.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_player.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_reader.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_reader.cpp
+index 807492b..4a91355 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_reader.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_reader.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_round_preview.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_round_preview.cpp
+index 56beb61..a0079fa 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_round_preview.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_round_preview.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_utility.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_utility.cpp
+index fdfbe20..3c23652 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_utility.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_utility.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/streaming/media_streaming_video_track.cpp b/Telegram/SourceFiles/media/streaming/media_streaming_video_track.cpp
+index b951812..8e9d02c 100644
+--- a/Telegram/SourceFiles/media/streaming/media_streaming_video_track.cpp
++++ b/Telegram/SourceFiles/media/streaming/media_streaming_video_track.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/system_media_controls_manager.cpp b/Telegram/SourceFiles/media/system_media_controls_manager.cpp
+index 91f016a..f97a6f7 100644
+--- a/Telegram/SourceFiles/media/system_media_controls_manager.cpp
++++ b/Telegram/SourceFiles/media/system_media_controls_manager.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/view/media_view_group_thumbs.cpp b/Telegram/SourceFiles/media/view/media_view_group_thumbs.cpp
+index c03c20c..85e4110 100644
+--- a/Telegram/SourceFiles/media/view/media_view_group_thumbs.cpp
++++ b/Telegram/SourceFiles/media/view/media_view_group_thumbs.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/view/media_view_open_common.cpp b/Telegram/SourceFiles/media/view/media_view_open_common.cpp
+index 346a87e..777f252 100644
+--- a/Telegram/SourceFiles/media/view/media_view_open_common.cpp
++++ b/Telegram/SourceFiles/media/view/media_view_open_common.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/view/media_view_overlay_opengl.cpp b/Telegram/SourceFiles/media/view/media_view_overlay_opengl.cpp
+index 99be555..773d650 100644
+--- a/Telegram/SourceFiles/media/view/media_view_overlay_opengl.cpp
++++ b/Telegram/SourceFiles/media/view/media_view_overlay_opengl.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/view/media_view_overlay_raster.cpp b/Telegram/SourceFiles/media/view/media_view_overlay_raster.cpp
+index 2867a36..679f8bf 100644
+--- a/Telegram/SourceFiles/media/view/media_view_overlay_raster.cpp
++++ b/Telegram/SourceFiles/media/view/media_view_overlay_raster.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/view/media_view_overlay_widget.cpp b/Telegram/SourceFiles/media/view/media_view_overlay_widget.cpp
+index f5cf304..c6d2291 100644
+--- a/Telegram/SourceFiles/media/view/media_view_overlay_widget.cpp
++++ b/Telegram/SourceFiles/media/view/media_view_overlay_widget.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/view/media_view_pip.cpp b/Telegram/SourceFiles/media/view/media_view_pip.cpp
+index 4e1d7c1..c960224 100644
+--- a/Telegram/SourceFiles/media/view/media_view_pip.cpp
++++ b/Telegram/SourceFiles/media/view/media_view_pip.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/view/media_view_pip_opengl.cpp b/Telegram/SourceFiles/media/view/media_view_pip_opengl.cpp
+index f4be398..a804ce5 100644
+--- a/Telegram/SourceFiles/media/view/media_view_pip_opengl.cpp
++++ b/Telegram/SourceFiles/media/view/media_view_pip_opengl.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/view/media_view_pip_raster.cpp b/Telegram/SourceFiles/media/view/media_view_pip_raster.cpp
+index 4698309..000f5d4 100644
+--- a/Telegram/SourceFiles/media/view/media_view_pip_raster.cpp
++++ b/Telegram/SourceFiles/media/view/media_view_pip_raster.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/view/media_view_playback_controls.cpp b/Telegram/SourceFiles/media/view/media_view_playback_controls.cpp
+index 5ecb20d..efff4ab 100644
+--- a/Telegram/SourceFiles/media/view/media_view_playback_controls.cpp
++++ b/Telegram/SourceFiles/media/view/media_view_playback_controls.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/media/view/media_view_playback_progress.cpp b/Telegram/SourceFiles/media/view/media_view_playback_progress.cpp
+index 745c437..0a6a57e 100644
+--- a/Telegram/SourceFiles/media/view/media_view_playback_progress.cpp
++++ b/Telegram/SourceFiles/media/view/media_view_playback_progress.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/menu/menu_antispam_validator.cpp b/Telegram/SourceFiles/menu/menu_antispam_validator.cpp
+index 16c183a..bd0082c 100644
+--- a/Telegram/SourceFiles/menu/menu_antispam_validator.cpp
++++ b/Telegram/SourceFiles/menu/menu_antispam_validator.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/menu/menu_check_item.cpp b/Telegram/SourceFiles/menu/menu_check_item.cpp
+index f76e5d3..e69c606 100644
+--- a/Telegram/SourceFiles/menu/menu_check_item.cpp
++++ b/Telegram/SourceFiles/menu/menu_check_item.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/menu/menu_item_download_files.cpp b/Telegram/SourceFiles/menu/menu_item_download_files.cpp
+index dd510b5..d5b794c 100644
+--- a/Telegram/SourceFiles/menu/menu_item_download_files.cpp
++++ b/Telegram/SourceFiles/menu/menu_item_download_files.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/menu/menu_mute.cpp b/Telegram/SourceFiles/menu/menu_mute.cpp
+index 661ef06..e6f3ea9 100644
+--- a/Telegram/SourceFiles/menu/menu_mute.cpp
++++ b/Telegram/SourceFiles/menu/menu_mute.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/menu/menu_send.cpp b/Telegram/SourceFiles/menu/menu_send.cpp
+index 118bcee..0e483bd 100644
+--- a/Telegram/SourceFiles/menu/menu_send.cpp
++++ b/Telegram/SourceFiles/menu/menu_send.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/menu/menu_sponsored.cpp b/Telegram/SourceFiles/menu/menu_sponsored.cpp
+index 0f431f5..b39494d 100644
+--- a/Telegram/SourceFiles/menu/menu_sponsored.cpp
++++ b/Telegram/SourceFiles/menu/menu_sponsored.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/menu/menu_ttl.cpp b/Telegram/SourceFiles/menu/menu_ttl.cpp
+index f77294a..ae52494 100644
+--- a/Telegram/SourceFiles/menu/menu_ttl.cpp
++++ b/Telegram/SourceFiles/menu/menu_ttl.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/menu/menu_ttl_validator.cpp b/Telegram/SourceFiles/menu/menu_ttl_validator.cpp
+index 4c1031a..75234ed 100644
+--- a/Telegram/SourceFiles/menu/menu_ttl_validator.cpp
++++ b/Telegram/SourceFiles/menu/menu_ttl_validator.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/config_loader.cpp b/Telegram/SourceFiles/mtproto/config_loader.cpp
+index 5d07404..4fe180d 100644
+--- a/Telegram/SourceFiles/mtproto/config_loader.cpp
++++ b/Telegram/SourceFiles/mtproto/config_loader.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/connection_abstract.cpp b/Telegram/SourceFiles/mtproto/connection_abstract.cpp
+index a932363..135af6c 100644
+--- a/Telegram/SourceFiles/mtproto/connection_abstract.cpp
++++ b/Telegram/SourceFiles/mtproto/connection_abstract.cpp
+@@ -1,3 +1,5 @@
++#include "mtproto/mtproto_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/connection_http.cpp b/Telegram/SourceFiles/mtproto/connection_http.cpp
+index baaad90..3272c44 100644
+--- a/Telegram/SourceFiles/mtproto/connection_http.cpp
++++ b/Telegram/SourceFiles/mtproto/connection_http.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/connection_resolving.cpp b/Telegram/SourceFiles/mtproto/connection_resolving.cpp
+index 571e14e..6d55be0 100644
+--- a/Telegram/SourceFiles/mtproto/connection_resolving.cpp
++++ b/Telegram/SourceFiles/mtproto/connection_resolving.cpp
+@@ -1,3 +1,5 @@
++#include "mtproto/mtproto_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/connection_tcp.cpp b/Telegram/SourceFiles/mtproto/connection_tcp.cpp
+index 26dff1d..5723c5e 100644
+--- a/Telegram/SourceFiles/mtproto/connection_tcp.cpp
++++ b/Telegram/SourceFiles/mtproto/connection_tcp.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/dedicated_file_loader.cpp b/Telegram/SourceFiles/mtproto/dedicated_file_loader.cpp
+index 72e69e4..a18f7b2 100644
+--- a/Telegram/SourceFiles/mtproto/dedicated_file_loader.cpp
++++ b/Telegram/SourceFiles/mtproto/dedicated_file_loader.cpp
+@@ -1,3 +1,5 @@
++#include "mtproto/mtproto_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_abstract_socket.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_abstract_socket.cpp
+index 6530333..33a70e9 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_abstract_socket.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_abstract_socket.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_bound_key_creator.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_bound_key_creator.cpp
+index 7938c7a..c2a1432 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_bound_key_creator.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_bound_key_creator.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_dc_key_binder.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_dc_key_binder.cpp
+index 740ca28..949d2f1 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_dc_key_binder.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_dc_key_binder.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_dc_key_creator.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_dc_key_creator.cpp
+index badec9e..516fc84 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_dc_key_creator.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_dc_key_creator.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_dcenter.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_dcenter.cpp
+index a98e24b..0a35b71 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_dcenter.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_dcenter.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_domain_resolver.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_domain_resolver.cpp
+index c48f0f2..04615ce 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_domain_resolver.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_domain_resolver.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_dump_to_text.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_dump_to_text.cpp
+index a6250bb..6bcdf97 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_dump_to_text.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_dump_to_text.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_received_ids_manager.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_received_ids_manager.cpp
+index 20bade0..da26c28 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_received_ids_manager.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_received_ids_manager.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_rsa_public_key.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_rsa_public_key.cpp
+index 312c8b1..4e91cf9 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_rsa_public_key.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_rsa_public_key.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_serialized_request.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_serialized_request.cpp
+index f4ff131..3b32e9e 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_serialized_request.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_serialized_request.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_tcp_socket.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_tcp_socket.cpp
+index 76a59c1..72ecd44 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_tcp_socket.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_tcp_socket.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/details/mtproto_tls_socket.cpp b/Telegram/SourceFiles/mtproto/details/mtproto_tls_socket.cpp
+index 36aa875..ff18eb2 100644
+--- a/Telegram/SourceFiles/mtproto/details/mtproto_tls_socket.cpp
++++ b/Telegram/SourceFiles/mtproto/details/mtproto_tls_socket.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/facade.cpp b/Telegram/SourceFiles/mtproto/facade.cpp
+index 2ff96d0..57737c0 100644
+--- a/Telegram/SourceFiles/mtproto/facade.cpp
++++ b/Telegram/SourceFiles/mtproto/facade.cpp
+@@ -1,3 +1,5 @@
++#include "mtproto/mtproto_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/mtp_instance.cpp b/Telegram/SourceFiles/mtproto/mtp_instance.cpp
+index 1890c44..19e6948 100644
+--- a/Telegram/SourceFiles/mtproto/mtp_instance.cpp
++++ b/Telegram/SourceFiles/mtproto/mtp_instance.cpp
+@@ -1,3 +1,5 @@
++#include "mtproto/mtproto_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/mtproto_auth_key.cpp b/Telegram/SourceFiles/mtproto/mtproto_auth_key.cpp
+index c84d19a..e5bc010 100644
+--- a/Telegram/SourceFiles/mtproto/mtproto_auth_key.cpp
++++ b/Telegram/SourceFiles/mtproto/mtproto_auth_key.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/mtproto_concurrent_sender.cpp b/Telegram/SourceFiles/mtproto/mtproto_concurrent_sender.cpp
+index 5bb4d5d..7395605 100644
+--- a/Telegram/SourceFiles/mtproto/mtproto_concurrent_sender.cpp
++++ b/Telegram/SourceFiles/mtproto/mtproto_concurrent_sender.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/mtproto_config.cpp b/Telegram/SourceFiles/mtproto/mtproto_config.cpp
+index e8fc605..6771481 100644
+--- a/Telegram/SourceFiles/mtproto/mtproto_config.cpp
++++ b/Telegram/SourceFiles/mtproto/mtproto_config.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/mtproto_dc_options.cpp b/Telegram/SourceFiles/mtproto/mtproto_dc_options.cpp
+index 048845a..df5038d 100644
+--- a/Telegram/SourceFiles/mtproto/mtproto_dc_options.cpp
++++ b/Telegram/SourceFiles/mtproto/mtproto_dc_options.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/mtproto_dh_utils.cpp b/Telegram/SourceFiles/mtproto/mtproto_dh_utils.cpp
+index db9c054..c9ac9bf 100644
+--- a/Telegram/SourceFiles/mtproto/mtproto_dh_utils.cpp
++++ b/Telegram/SourceFiles/mtproto/mtproto_dh_utils.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/mtproto_proxy_data.cpp b/Telegram/SourceFiles/mtproto/mtproto_proxy_data.cpp
+index 8ed2675..5028f9d 100644
+--- a/Telegram/SourceFiles/mtproto/mtproto_proxy_data.cpp
++++ b/Telegram/SourceFiles/mtproto/mtproto_proxy_data.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/mtproto_response.cpp b/Telegram/SourceFiles/mtproto/mtproto_response.cpp
+index 7729044..33e583f 100644
+--- a/Telegram/SourceFiles/mtproto/mtproto_response.cpp
++++ b/Telegram/SourceFiles/mtproto/mtproto_response.cpp
+@@ -1,3 +1,4 @@
++#include "mtproto/mtproto_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/session.cpp b/Telegram/SourceFiles/mtproto/session.cpp
+index 842541e..aafd711 100644
+--- a/Telegram/SourceFiles/mtproto/session.cpp
++++ b/Telegram/SourceFiles/mtproto/session.cpp
+@@ -1,8 +1,10 @@
++#include "mtproto/mtproto_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+ 
+-For license and copyright information please follow this link:
++For license and copyright information please follow this loink:
+ https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
+ */
+ #include "mtproto/session.h"
+diff --git a/Telegram/SourceFiles/mtproto/session_private.cpp b/Telegram/SourceFiles/mtproto/session_private.cpp
+index 0786eb6..8acb194 100644
+--- a/Telegram/SourceFiles/mtproto/session_private.cpp
++++ b/Telegram/SourceFiles/mtproto/session_private.cpp
+@@ -1,3 +1,5 @@
++#include "mtproto/mtproto_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/mtproto/special_config_request.cpp b/Telegram/SourceFiles/mtproto/special_config_request.cpp
+index 9736518..de1be4e 100644
+--- a/Telegram/SourceFiles/mtproto/special_config_request.cpp
++++ b/Telegram/SourceFiles/mtproto/special_config_request.cpp
+@@ -1,3 +1,5 @@
++#include "mtproto/mtproto_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/overview/overview_layout.cpp b/Telegram/SourceFiles/overview/overview_layout.cpp
+index 05e1c0a..f5d743d 100644
+--- a/Telegram/SourceFiles/overview/overview_layout.cpp
++++ b/Telegram/SourceFiles/overview/overview_layout.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_edit_identity_box.cpp b/Telegram/SourceFiles/passport/passport_edit_identity_box.cpp
+index 68285b9..9e7d075 100644
+--- a/Telegram/SourceFiles/passport/passport_edit_identity_box.cpp
++++ b/Telegram/SourceFiles/passport/passport_edit_identity_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_encryption.cpp b/Telegram/SourceFiles/passport/passport_encryption.cpp
+index c5c6e2a..f2c40c2 100644
+--- a/Telegram/SourceFiles/passport/passport_encryption.cpp
++++ b/Telegram/SourceFiles/passport/passport_encryption.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_form_controller.cpp b/Telegram/SourceFiles/passport/passport_form_controller.cpp
+index a82cecf..7958f8b 100644
+--- a/Telegram/SourceFiles/passport/passport_form_controller.cpp
++++ b/Telegram/SourceFiles/passport/passport_form_controller.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_form_row.cpp b/Telegram/SourceFiles/passport/passport_form_row.cpp
+index e07e2ae..e50c9ec 100644
+--- a/Telegram/SourceFiles/passport/passport_form_row.cpp
++++ b/Telegram/SourceFiles/passport/passport_form_row.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_form_view_controller.cpp b/Telegram/SourceFiles/passport/passport_form_view_controller.cpp
+index cd038ac..2d66420 100644
+--- a/Telegram/SourceFiles/passport/passport_form_view_controller.cpp
++++ b/Telegram/SourceFiles/passport/passport_form_view_controller.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_panel.cpp b/Telegram/SourceFiles/passport/passport_panel.cpp
+index 8db7c18..1765b9e 100644
+--- a/Telegram/SourceFiles/passport/passport_panel.cpp
++++ b/Telegram/SourceFiles/passport/passport_panel.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_panel_controller.cpp b/Telegram/SourceFiles/passport/passport_panel_controller.cpp
+index e4979bf..d29d8f3 100644
+--- a/Telegram/SourceFiles/passport/passport_panel_controller.cpp
++++ b/Telegram/SourceFiles/passport/passport_panel_controller.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_panel_edit_contact.cpp b/Telegram/SourceFiles/passport/passport_panel_edit_contact.cpp
+index 9e1d108..8886d0e 100644
+--- a/Telegram/SourceFiles/passport/passport_panel_edit_contact.cpp
++++ b/Telegram/SourceFiles/passport/passport_panel_edit_contact.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_panel_edit_document.cpp b/Telegram/SourceFiles/passport/passport_panel_edit_document.cpp
+index bac92c2..0ee3420 100644
+--- a/Telegram/SourceFiles/passport/passport_panel_edit_document.cpp
++++ b/Telegram/SourceFiles/passport/passport_panel_edit_document.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_panel_edit_scans.cpp b/Telegram/SourceFiles/passport/passport_panel_edit_scans.cpp
+index 35d5bd8..aa41106 100644
+--- a/Telegram/SourceFiles/passport/passport_panel_edit_scans.cpp
++++ b/Telegram/SourceFiles/passport/passport_panel_edit_scans.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_panel_form.cpp b/Telegram/SourceFiles/passport/passport_panel_form.cpp
+index 3c3d725..cec8a91 100644
+--- a/Telegram/SourceFiles/passport/passport_panel_form.cpp
++++ b/Telegram/SourceFiles/passport/passport_panel_form.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/passport_panel_password.cpp b/Telegram/SourceFiles/passport/passport_panel_password.cpp
+index 7046f14..890c5b6 100644
+--- a/Telegram/SourceFiles/passport/passport_panel_password.cpp
++++ b/Telegram/SourceFiles/passport/passport_panel_password.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/ui/passport_details_row.cpp b/Telegram/SourceFiles/passport/ui/passport_details_row.cpp
+index 55739b7..a26e374 100644
+--- a/Telegram/SourceFiles/passport/ui/passport_details_row.cpp
++++ b/Telegram/SourceFiles/passport/ui/passport_details_row.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/passport/ui/passport_form_row.cpp b/Telegram/SourceFiles/passport/ui/passport_form_row.cpp
+index ca76b40..3ed97f5 100644
+--- a/Telegram/SourceFiles/passport/ui/passport_form_row.cpp
++++ b/Telegram/SourceFiles/passport/ui/passport_form_row.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/payments_checkout_process.cpp b/Telegram/SourceFiles/payments/payments_checkout_process.cpp
+index 379036e..af498e7 100644
+--- a/Telegram/SourceFiles/payments/payments_checkout_process.cpp
++++ b/Telegram/SourceFiles/payments/payments_checkout_process.cpp
+@@ -1,3 +1,5 @@
++#include "stripe/stripe_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/payments_form.cpp b/Telegram/SourceFiles/payments/payments_form.cpp
+index a17b2dc..bf306d6 100644
+--- a/Telegram/SourceFiles/payments/payments_form.cpp
++++ b/Telegram/SourceFiles/payments/payments_form.cpp
+@@ -1,3 +1,5 @@
++#include "stripe/stripe_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/payments_non_panel_process.cpp b/Telegram/SourceFiles/payments/payments_non_panel_process.cpp
+index d63b505..4f9cf92 100644
+--- a/Telegram/SourceFiles/payments/payments_non_panel_process.cpp
++++ b/Telegram/SourceFiles/payments/payments_non_panel_process.cpp
+@@ -1,3 +1,5 @@
++#include "stripe/stripe_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/payments_reaction_process.cpp b/Telegram/SourceFiles/payments/payments_reaction_process.cpp
+index b585bab..29cfdbd 100644
+--- a/Telegram/SourceFiles/payments/payments_reaction_process.cpp
++++ b/Telegram/SourceFiles/payments/payments_reaction_process.cpp
+@@ -1,3 +1,5 @@
++#include "stripe/stripe_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/smartglocal/smartglocal_api_client.cpp b/Telegram/SourceFiles/payments/smartglocal/smartglocal_api_client.cpp
+index 690438c..f554e8b 100644
+--- a/Telegram/SourceFiles/payments/smartglocal/smartglocal_api_client.cpp
++++ b/Telegram/SourceFiles/payments/smartglocal/smartglocal_api_client.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/smartglocal/smartglocal_card.cpp b/Telegram/SourceFiles/payments/smartglocal/smartglocal_card.cpp
+index a08b098..38afa21 100644
+--- a/Telegram/SourceFiles/payments/smartglocal/smartglocal_card.cpp
++++ b/Telegram/SourceFiles/payments/smartglocal/smartglocal_card.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/smartglocal/smartglocal_error.cpp b/Telegram/SourceFiles/payments/smartglocal/smartglocal_error.cpp
+index cc764a0..dc25f6f 100644
+--- a/Telegram/SourceFiles/payments/smartglocal/smartglocal_error.cpp
++++ b/Telegram/SourceFiles/payments/smartglocal/smartglocal_error.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/smartglocal/smartglocal_token.cpp b/Telegram/SourceFiles/payments/smartglocal/smartglocal_token.cpp
+index ee8725c..bfe000b 100644
+--- a/Telegram/SourceFiles/payments/smartglocal/smartglocal_token.cpp
++++ b/Telegram/SourceFiles/payments/smartglocal/smartglocal_token.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/stripe/stripe_api_client.cpp b/Telegram/SourceFiles/payments/stripe/stripe_api_client.cpp
+index 853dc14..d983b87 100644
+--- a/Telegram/SourceFiles/payments/stripe/stripe_api_client.cpp
++++ b/Telegram/SourceFiles/payments/stripe/stripe_api_client.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/stripe/stripe_card.cpp b/Telegram/SourceFiles/payments/stripe/stripe_card.cpp
+index ca2c864..bb0c509 100644
+--- a/Telegram/SourceFiles/payments/stripe/stripe_card.cpp
++++ b/Telegram/SourceFiles/payments/stripe/stripe_card.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/stripe/stripe_card_params.cpp b/Telegram/SourceFiles/payments/stripe/stripe_card_params.cpp
+index 81b72c4..203a806 100644
+--- a/Telegram/SourceFiles/payments/stripe/stripe_card_params.cpp
++++ b/Telegram/SourceFiles/payments/stripe/stripe_card_params.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/stripe/stripe_card_validator.cpp b/Telegram/SourceFiles/payments/stripe/stripe_card_validator.cpp
+index 599a392..4cd2d77 100644
+--- a/Telegram/SourceFiles/payments/stripe/stripe_card_validator.cpp
++++ b/Telegram/SourceFiles/payments/stripe/stripe_card_validator.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/stripe/stripe_decode.cpp b/Telegram/SourceFiles/payments/stripe/stripe_decode.cpp
+index acd2dac..2fb8be0 100644
+--- a/Telegram/SourceFiles/payments/stripe/stripe_decode.cpp
++++ b/Telegram/SourceFiles/payments/stripe/stripe_decode.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/stripe/stripe_error.cpp b/Telegram/SourceFiles/payments/stripe/stripe_error.cpp
+index c5be7e0..68d9e5c 100644
+--- a/Telegram/SourceFiles/payments/stripe/stripe_error.cpp
++++ b/Telegram/SourceFiles/payments/stripe/stripe_error.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/stripe/stripe_form_encoder.cpp b/Telegram/SourceFiles/payments/stripe/stripe_form_encoder.cpp
+index 2f8f61f..6bde930 100644
+--- a/Telegram/SourceFiles/payments/stripe/stripe_form_encoder.cpp
++++ b/Telegram/SourceFiles/payments/stripe/stripe_form_encoder.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/stripe/stripe_token.cpp b/Telegram/SourceFiles/payments/stripe/stripe_token.cpp
+index d91e48b..d4ebabf 100644
+--- a/Telegram/SourceFiles/payments/stripe/stripe_token.cpp
++++ b/Telegram/SourceFiles/payments/stripe/stripe_token.cpp
+@@ -1,3 +1,4 @@
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/ui/payments_edit_card.cpp b/Telegram/SourceFiles/payments/ui/payments_edit_card.cpp
+index ec18ef6..16eb19d 100644
+--- a/Telegram/SourceFiles/payments/ui/payments_edit_card.cpp
++++ b/Telegram/SourceFiles/payments/ui/payments_edit_card.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/ui/payments_edit_information.cpp b/Telegram/SourceFiles/payments/ui/payments_edit_information.cpp
+index ab96a8a..f307746 100644
+--- a/Telegram/SourceFiles/payments/ui/payments_edit_information.cpp
++++ b/Telegram/SourceFiles/payments/ui/payments_edit_information.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/ui/payments_field.cpp b/Telegram/SourceFiles/payments/ui/payments_field.cpp
+index e5fbcb3..ed5a21e 100644
+--- a/Telegram/SourceFiles/payments/ui/payments_field.cpp
++++ b/Telegram/SourceFiles/payments/ui/payments_field.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/ui/payments_form_summary.cpp b/Telegram/SourceFiles/payments/ui/payments_form_summary.cpp
+index ae68d8b..75aa452 100644
+--- a/Telegram/SourceFiles/payments/ui/payments_form_summary.cpp
++++ b/Telegram/SourceFiles/payments/ui/payments_form_summary.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/ui/payments_panel.cpp b/Telegram/SourceFiles/payments/ui/payments_panel.cpp
+index b0e1bcc..1cbd7e0 100644
+--- a/Telegram/SourceFiles/payments/ui/payments_panel.cpp
++++ b/Telegram/SourceFiles/payments/ui/payments_panel.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/payments/ui/payments_reaction_box.cpp b/Telegram/SourceFiles/payments/ui/payments_reaction_box.cpp
+index 1786d25..2715a92 100644
+--- a/Telegram/SourceFiles/payments/ui/payments_reaction_box.cpp
++++ b/Telegram/SourceFiles/payments/ui/payments_reaction_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stripe/stripe_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/platform/linux/current_geo_location_linux.cpp b/Telegram/SourceFiles/platform/linux/current_geo_location_linux.cpp
+index 9c528ef..9aaa7de 100644
+--- a/Telegram/SourceFiles/platform/linux/current_geo_location_linux.cpp
++++ b/Telegram/SourceFiles/platform/linux/current_geo_location_linux.cpp
+@@ -1,3 +1,5 @@
++#include "base/base_pch.h"
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/platform/linux/file_utilities_linux.cpp b/Telegram/SourceFiles/platform/linux/file_utilities_linux.cpp
+index 331db8a..53a0d5e 100644
+--- a/Telegram/SourceFiles/platform/linux/file_utilities_linux.cpp
++++ b/Telegram/SourceFiles/platform/linux/file_utilities_linux.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/platform/linux/integration_linux.cpp b/Telegram/SourceFiles/platform/linux/integration_linux.cpp
+index c92886b..e3a06f0 100644
+--- a/Telegram/SourceFiles/platform/linux/integration_linux.cpp
++++ b/Telegram/SourceFiles/platform/linux/integration_linux.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/platform/linux/launcher_linux.cpp b/Telegram/SourceFiles/platform/linux/launcher_linux.cpp
+index 3c853c7..8c25471 100644
+--- a/Telegram/SourceFiles/platform/linux/launcher_linux.cpp
++++ b/Telegram/SourceFiles/platform/linux/launcher_linux.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/platform/linux/main_window_linux.cpp b/Telegram/SourceFiles/platform/linux/main_window_linux.cpp
+index 8dd2d6f..64e4f7b 100644
+--- a/Telegram/SourceFiles/platform/linux/main_window_linux.cpp
++++ b/Telegram/SourceFiles/platform/linux/main_window_linux.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/platform/linux/notifications_manager_haiku.cpp b/Telegram/SourceFiles/platform/linux/notifications_manager_haiku.cpp
+index 0d7526d..6a234ff 100644
+--- a/Telegram/SourceFiles/platform/linux/notifications_manager_haiku.cpp
++++ b/Telegram/SourceFiles/platform/linux/notifications_manager_haiku.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /* 
+ This file is part of Telegram Desktop for Haiku,
+ 
+diff --git a/Telegram/SourceFiles/platform/linux/notifications_manager_linux.cpp b/Telegram/SourceFiles/platform/linux/notifications_manager_linux.cpp
+index c100e00..d3cfd8f 100644
+--- a/Telegram/SourceFiles/platform/linux/notifications_manager_linux.cpp
++++ b/Telegram/SourceFiles/platform/linux/notifications_manager_linux.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ 
+ /*
+ This file is part of Telegram Desktop,
+diff --git a/Telegram/SourceFiles/platform/linux/specific_linux.cpp b/Telegram/SourceFiles/platform/linux/specific_linux.cpp
+index 6b53ba0..3cbdcc0 100644
+--- a/Telegram/SourceFiles/platform/linux/specific_linux.cpp
++++ b/Telegram/SourceFiles/platform/linux/specific_linux.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/platform/linux/tray_linux.cpp b/Telegram/SourceFiles/platform/linux/tray_linux.cpp
+index 37ef31e..35ad8ea 100644
+--- a/Telegram/SourceFiles/platform/linux/tray_linux.cpp
++++ b/Telegram/SourceFiles/platform/linux/tray_linux.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/platform/platform_integration.cpp b/Telegram/SourceFiles/platform/platform_integration.cpp
+index d2f832e..35fe449 100644
+--- a/Telegram/SourceFiles/platform/platform_integration.cpp
++++ b/Telegram/SourceFiles/platform/platform_integration.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/platform/platform_overlay_widget.cpp b/Telegram/SourceFiles/platform/platform_overlay_widget.cpp
+index 3e07e8b..4730d42 100644
+--- a/Telegram/SourceFiles/platform/platform_overlay_widget.cpp
++++ b/Telegram/SourceFiles/platform/platform_overlay_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/profile/profile_back_button.cpp b/Telegram/SourceFiles/profile/profile_back_button.cpp
+index 15b2f28..874960c 100644
+--- a/Telegram/SourceFiles/profile/profile_back_button.cpp
++++ b/Telegram/SourceFiles/profile/profile_back_button.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/profile/profile_block_group_members.cpp b/Telegram/SourceFiles/profile/profile_block_group_members.cpp
+index e155a19..6092b35 100644
+--- a/Telegram/SourceFiles/profile/profile_block_group_members.cpp
++++ b/Telegram/SourceFiles/profile/profile_block_group_members.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/profile/profile_block_peer_list.cpp b/Telegram/SourceFiles/profile/profile_block_peer_list.cpp
+index 130692e..c39dbc8 100644
+--- a/Telegram/SourceFiles/profile/profile_block_peer_list.cpp
++++ b/Telegram/SourceFiles/profile/profile_block_peer_list.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/profile/profile_block_widget.cpp b/Telegram/SourceFiles/profile/profile_block_widget.cpp
+index f029e26..618da35 100644
+--- a/Telegram/SourceFiles/profile/profile_block_widget.cpp
++++ b/Telegram/SourceFiles/profile/profile_block_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/profile/profile_cover_drop_area.cpp b/Telegram/SourceFiles/profile/profile_cover_drop_area.cpp
+index 6b10b82..d55abc4 100644
+--- a/Telegram/SourceFiles/profile/profile_cover_drop_area.cpp
++++ b/Telegram/SourceFiles/profile/profile_cover_drop_area.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings.cpp b/Telegram/SourceFiles/settings.cpp
+index 4e2f6e8..7eb0bb6 100644
+--- a/Telegram/SourceFiles/settings.cpp
++++ b/Telegram/SourceFiles/settings.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/business/settings_away_message.cpp b/Telegram/SourceFiles/settings/business/settings_away_message.cpp
+index 58f3a61..0e280d2 100644
+--- a/Telegram/SourceFiles/settings/business/settings_away_message.cpp
++++ b/Telegram/SourceFiles/settings/business/settings_away_message.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/business/settings_chat_intro.cpp b/Telegram/SourceFiles/settings/business/settings_chat_intro.cpp
+index a15e492..8b865cd 100644
+--- a/Telegram/SourceFiles/settings/business/settings_chat_intro.cpp
++++ b/Telegram/SourceFiles/settings/business/settings_chat_intro.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/business/settings_chat_links.cpp b/Telegram/SourceFiles/settings/business/settings_chat_links.cpp
+index 44025db..9c3ab79 100644
+--- a/Telegram/SourceFiles/settings/business/settings_chat_links.cpp
++++ b/Telegram/SourceFiles/settings/business/settings_chat_links.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/business/settings_chatbots.cpp b/Telegram/SourceFiles/settings/business/settings_chatbots.cpp
+index 02362ec..73072fe 100644
+--- a/Telegram/SourceFiles/settings/business/settings_chatbots.cpp
++++ b/Telegram/SourceFiles/settings/business/settings_chatbots.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/business/settings_greeting.cpp b/Telegram/SourceFiles/settings/business/settings_greeting.cpp
+index 8437acc..ee40474 100644
+--- a/Telegram/SourceFiles/settings/business/settings_greeting.cpp
++++ b/Telegram/SourceFiles/settings/business/settings_greeting.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/business/settings_location.cpp b/Telegram/SourceFiles/settings/business/settings_location.cpp
+index 6b659d0..de58fff 100644
+--- a/Telegram/SourceFiles/settings/business/settings_location.cpp
++++ b/Telegram/SourceFiles/settings/business/settings_location.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/business/settings_quick_replies.cpp b/Telegram/SourceFiles/settings/business/settings_quick_replies.cpp
+index e59ef70..0a2f470 100644
+--- a/Telegram/SourceFiles/settings/business/settings_quick_replies.cpp
++++ b/Telegram/SourceFiles/settings/business/settings_quick_replies.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/business/settings_recipients_helper.cpp b/Telegram/SourceFiles/settings/business/settings_recipients_helper.cpp
+index e80a0cf..9a5173c 100644
+--- a/Telegram/SourceFiles/settings/business/settings_recipients_helper.cpp
++++ b/Telegram/SourceFiles/settings/business/settings_recipients_helper.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/business/settings_shortcut_messages.cpp b/Telegram/SourceFiles/settings/business/settings_shortcut_messages.cpp
+index db5a4d9..d3253d6 100644
+--- a/Telegram/SourceFiles/settings/business/settings_shortcut_messages.cpp
++++ b/Telegram/SourceFiles/settings/business/settings_shortcut_messages.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/business/settings_working_hours.cpp b/Telegram/SourceFiles/settings/business/settings_working_hours.cpp
+index 6e0bf6f..04dcfa0 100644
+--- a/Telegram/SourceFiles/settings/business/settings_working_hours.cpp
++++ b/Telegram/SourceFiles/settings/business/settings_working_hours.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_common.cpp b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_common.cpp
+index e8bb260..478b58f 100644
+--- a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_common.cpp
++++ b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_common.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_email.cpp b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_email.cpp
+index f83eb14..ca2fc7e 100644
+--- a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_email.cpp
++++ b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_email.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_email_confirm.cpp b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_email_confirm.cpp
+index 2e482f7..72dd094 100644
+--- a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_email_confirm.cpp
++++ b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_email_confirm.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_hint.cpp b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_hint.cpp
+index 7f59c7a..7decfa8 100644
+--- a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_hint.cpp
++++ b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_hint.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_input.cpp b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_input.cpp
+index 0064dcb..5246fde 100644
+--- a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_input.cpp
++++ b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_input.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_manage.cpp b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_manage.cpp
+index 1f7a876..8c07e6e 100644
+--- a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_manage.cpp
++++ b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_manage.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_start.cpp b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_start.cpp
+index e882a34..b3049df 100644
+--- a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_start.cpp
++++ b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_start.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_step.cpp b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_step.cpp
+index b9bf6ba..0bdb428 100644
+--- a/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_step.cpp
++++ b/Telegram/SourceFiles/settings/cloud_password/settings_cloud_password_step.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_active_sessions.cpp b/Telegram/SourceFiles/settings/settings_active_sessions.cpp
+index 2b8368b..140c084 100644
+--- a/Telegram/SourceFiles/settings/settings_active_sessions.cpp
++++ b/Telegram/SourceFiles/settings/settings_active_sessions.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_advanced.cpp b/Telegram/SourceFiles/settings/settings_advanced.cpp
+index c541f71..71381f2 100644
+--- a/Telegram/SourceFiles/settings/settings_advanced.cpp
++++ b/Telegram/SourceFiles/settings/settings_advanced.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_blocked_peers.cpp b/Telegram/SourceFiles/settings/settings_blocked_peers.cpp
+index c0b2a47..efec7ca 100644
+--- a/Telegram/SourceFiles/settings/settings_blocked_peers.cpp
++++ b/Telegram/SourceFiles/settings/settings_blocked_peers.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_business.cpp b/Telegram/SourceFiles/settings/settings_business.cpp
+index a59c30b..204d709 100644
+--- a/Telegram/SourceFiles/settings/settings_business.cpp
++++ b/Telegram/SourceFiles/settings/settings_business.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_calls.cpp b/Telegram/SourceFiles/settings/settings_calls.cpp
+index 16d3f3a..b226d5d 100644
+--- a/Telegram/SourceFiles/settings/settings_calls.cpp
++++ b/Telegram/SourceFiles/settings/settings_calls.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_chat.cpp b/Telegram/SourceFiles/settings/settings_chat.cpp
+index d375700..3c1519e 100644
+--- a/Telegram/SourceFiles/settings/settings_chat.cpp
++++ b/Telegram/SourceFiles/settings/settings_chat.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_codes.cpp b/Telegram/SourceFiles/settings/settings_codes.cpp
+index 3ac0239..c644ecf 100644
+--- a/Telegram/SourceFiles/settings/settings_codes.cpp
++++ b/Telegram/SourceFiles/settings/settings_codes.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_common.cpp b/Telegram/SourceFiles/settings/settings_common.cpp
+index 2cee2e2..b194823 100644
+--- a/Telegram/SourceFiles/settings/settings_common.cpp
++++ b/Telegram/SourceFiles/settings/settings_common.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_common_session.cpp b/Telegram/SourceFiles/settings/settings_common_session.cpp
+index d72c74d..845e889 100644
+--- a/Telegram/SourceFiles/settings/settings_common_session.cpp
++++ b/Telegram/SourceFiles/settings/settings_common_session.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_credits.cpp b/Telegram/SourceFiles/settings/settings_credits.cpp
+index 0e132d8..8eb1956 100644
+--- a/Telegram/SourceFiles/settings/settings_credits.cpp
++++ b/Telegram/SourceFiles/settings/settings_credits.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_credits_graphics.cpp b/Telegram/SourceFiles/settings/settings_credits_graphics.cpp
+index 9aee930..bb1588e 100644
+--- a/Telegram/SourceFiles/settings/settings_credits_graphics.cpp
++++ b/Telegram/SourceFiles/settings/settings_credits_graphics.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_experimental.cpp b/Telegram/SourceFiles/settings/settings_experimental.cpp
+index ef67935..85424c8 100644
+--- a/Telegram/SourceFiles/settings/settings_experimental.cpp
++++ b/Telegram/SourceFiles/settings/settings_experimental.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_folders.cpp b/Telegram/SourceFiles/settings/settings_folders.cpp
+index 9955918..9e51de9 100644
+--- a/Telegram/SourceFiles/settings/settings_folders.cpp
++++ b/Telegram/SourceFiles/settings/settings_folders.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_global_ttl.cpp b/Telegram/SourceFiles/settings/settings_global_ttl.cpp
+index 0e5d338..3302cd8 100644
+--- a/Telegram/SourceFiles/settings/settings_global_ttl.cpp
++++ b/Telegram/SourceFiles/settings/settings_global_ttl.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_information.cpp b/Telegram/SourceFiles/settings/settings_information.cpp
+index 898673b..93963ff 100644
+--- a/Telegram/SourceFiles/settings/settings_information.cpp
++++ b/Telegram/SourceFiles/settings/settings_information.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_intro.cpp b/Telegram/SourceFiles/settings/settings_intro.cpp
+index 6ddb33f..865882a 100644
+--- a/Telegram/SourceFiles/settings/settings_intro.cpp
++++ b/Telegram/SourceFiles/settings/settings_intro.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_local_passcode.cpp b/Telegram/SourceFiles/settings/settings_local_passcode.cpp
+index 8f639c3..3349726 100644
+--- a/Telegram/SourceFiles/settings/settings_local_passcode.cpp
++++ b/Telegram/SourceFiles/settings/settings_local_passcode.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_main.cpp b/Telegram/SourceFiles/settings/settings_main.cpp
+index a7b96d7..3935bfa 100644
+--- a/Telegram/SourceFiles/settings/settings_main.cpp
++++ b/Telegram/SourceFiles/settings/settings_main.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_notifications.cpp b/Telegram/SourceFiles/settings/settings_notifications.cpp
+index 00a8bdb..4411f64 100644
+--- a/Telegram/SourceFiles/settings/settings_notifications.cpp
++++ b/Telegram/SourceFiles/settings/settings_notifications.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_notifications_type.cpp b/Telegram/SourceFiles/settings/settings_notifications_type.cpp
+index df18b65..25b311f 100644
+--- a/Telegram/SourceFiles/settings/settings_notifications_type.cpp
++++ b/Telegram/SourceFiles/settings/settings_notifications_type.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_power_saving.cpp b/Telegram/SourceFiles/settings/settings_power_saving.cpp
+index beaf466..1e5fc5f 100644
+--- a/Telegram/SourceFiles/settings/settings_power_saving.cpp
++++ b/Telegram/SourceFiles/settings/settings_power_saving.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_premium.cpp b/Telegram/SourceFiles/settings/settings_premium.cpp
+index a834f9a..8b6117e 100644
+--- a/Telegram/SourceFiles/settings/settings_premium.cpp
++++ b/Telegram/SourceFiles/settings/settings_premium.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_privacy_controllers.cpp b/Telegram/SourceFiles/settings/settings_privacy_controllers.cpp
+index c64c2c5..6632680 100644
+--- a/Telegram/SourceFiles/settings/settings_privacy_controllers.cpp
++++ b/Telegram/SourceFiles/settings/settings_privacy_controllers.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_privacy_security.cpp b/Telegram/SourceFiles/settings/settings_privacy_security.cpp
+index c605ed2..1f90e45 100644
+--- a/Telegram/SourceFiles/settings/settings_privacy_security.cpp
++++ b/Telegram/SourceFiles/settings/settings_privacy_security.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_scale_preview.cpp b/Telegram/SourceFiles/settings/settings_scale_preview.cpp
+index d42007a..97d7173 100644
+--- a/Telegram/SourceFiles/settings/settings_scale_preview.cpp
++++ b/Telegram/SourceFiles/settings/settings_scale_preview.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_shortcuts.cpp b/Telegram/SourceFiles/settings/settings_shortcuts.cpp
+index 9d5135f..c1ab922 100644
+--- a/Telegram/SourceFiles/settings/settings_shortcuts.cpp
++++ b/Telegram/SourceFiles/settings/settings_shortcuts.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/settings/settings_websites.cpp b/Telegram/SourceFiles/settings/settings_websites.cpp
+index 836f20a..d1526d9 100644
+--- a/Telegram/SourceFiles/settings/settings_websites.cpp
++++ b/Telegram/SourceFiles/settings/settings_websites.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/chart_lines_filter_controller.cpp b/Telegram/SourceFiles/statistics/chart_lines_filter_controller.cpp
+index 40c3b61..64e6989 100644
+--- a/Telegram/SourceFiles/statistics/chart_lines_filter_controller.cpp
++++ b/Telegram/SourceFiles/statistics/chart_lines_filter_controller.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/chart_rulers_data.cpp b/Telegram/SourceFiles/statistics/chart_rulers_data.cpp
+index 4f9471c..945e2e6 100644
+--- a/Telegram/SourceFiles/statistics/chart_rulers_data.cpp
++++ b/Telegram/SourceFiles/statistics/chart_rulers_data.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/chart_widget.cpp b/Telegram/SourceFiles/statistics/chart_widget.cpp
+index 4e7534d..8da7c73 100644
+--- a/Telegram/SourceFiles/statistics/chart_widget.cpp
++++ b/Telegram/SourceFiles/statistics/chart_widget.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/segment_tree.cpp b/Telegram/SourceFiles/statistics/segment_tree.cpp
+index 51c2082..fc20559 100644
+--- a/Telegram/SourceFiles/statistics/segment_tree.cpp
++++ b/Telegram/SourceFiles/statistics/segment_tree.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/statistics_data_deserialize.cpp b/Telegram/SourceFiles/statistics/statistics_data_deserialize.cpp
+index 3555dca..b5c5c87 100644
+--- a/Telegram/SourceFiles/statistics/statistics_data_deserialize.cpp
++++ b/Telegram/SourceFiles/statistics/statistics_data_deserialize.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/statistics_format_values.cpp b/Telegram/SourceFiles/statistics/statistics_format_values.cpp
+index da20e1a..b43ea6b 100644
+--- a/Telegram/SourceFiles/statistics/statistics_format_values.cpp
++++ b/Telegram/SourceFiles/statistics/statistics_format_values.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/statistics_graphics.cpp b/Telegram/SourceFiles/statistics/statistics_graphics.cpp
+index 167082a..785da62 100644
+--- a/Telegram/SourceFiles/statistics/statistics_graphics.cpp
++++ b/Telegram/SourceFiles/statistics/statistics_graphics.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/view/abstract_chart_view.cpp b/Telegram/SourceFiles/statistics/view/abstract_chart_view.cpp
+index 4b5f292..f297afa 100644
+--- a/Telegram/SourceFiles/statistics/view/abstract_chart_view.cpp
++++ b/Telegram/SourceFiles/statistics/view/abstract_chart_view.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/view/bar_chart_view.cpp b/Telegram/SourceFiles/statistics/view/bar_chart_view.cpp
+index f796e02..91031ad 100644
+--- a/Telegram/SourceFiles/statistics/view/bar_chart_view.cpp
++++ b/Telegram/SourceFiles/statistics/view/bar_chart_view.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/view/chart_rulers_view.cpp b/Telegram/SourceFiles/statistics/view/chart_rulers_view.cpp
+index 8a94d10..93dea4d 100644
+--- a/Telegram/SourceFiles/statistics/view/chart_rulers_view.cpp
++++ b/Telegram/SourceFiles/statistics/view/chart_rulers_view.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/view/chart_view_factory.cpp b/Telegram/SourceFiles/statistics/view/chart_view_factory.cpp
+index 789369d..a399d80 100644
+--- a/Telegram/SourceFiles/statistics/view/chart_view_factory.cpp
++++ b/Telegram/SourceFiles/statistics/view/chart_view_factory.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/view/linear_chart_view.cpp b/Telegram/SourceFiles/statistics/view/linear_chart_view.cpp
+index de0c882..827a87d 100644
+--- a/Telegram/SourceFiles/statistics/view/linear_chart_view.cpp
++++ b/Telegram/SourceFiles/statistics/view/linear_chart_view.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/view/stack_chart_common.cpp b/Telegram/SourceFiles/statistics/view/stack_chart_common.cpp
+index 82a1143..d0240f3 100644
+--- a/Telegram/SourceFiles/statistics/view/stack_chart_common.cpp
++++ b/Telegram/SourceFiles/statistics/view/stack_chart_common.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/view/stack_linear_chart_common.cpp b/Telegram/SourceFiles/statistics/view/stack_linear_chart_common.cpp
+index b7727bd..fcb438c 100644
+--- a/Telegram/SourceFiles/statistics/view/stack_linear_chart_common.cpp
++++ b/Telegram/SourceFiles/statistics/view/stack_linear_chart_common.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/view/stack_linear_chart_view.cpp b/Telegram/SourceFiles/statistics/view/stack_linear_chart_view.cpp
+index a4e4a7c..a20f7f1 100644
+--- a/Telegram/SourceFiles/statistics/view/stack_linear_chart_view.cpp
++++ b/Telegram/SourceFiles/statistics/view/stack_linear_chart_view.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/widgets/chart_header_widget.cpp b/Telegram/SourceFiles/statistics/widgets/chart_header_widget.cpp
+index b8754ce..5a8f9dd 100644
+--- a/Telegram/SourceFiles/statistics/widgets/chart_header_widget.cpp
++++ b/Telegram/SourceFiles/statistics/widgets/chart_header_widget.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/widgets/chart_lines_filter_widget.cpp b/Telegram/SourceFiles/statistics/widgets/chart_lines_filter_widget.cpp
+index a6dfa45..bf56d7d 100644
+--- a/Telegram/SourceFiles/statistics/widgets/chart_lines_filter_widget.cpp
++++ b/Telegram/SourceFiles/statistics/widgets/chart_lines_filter_widget.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/statistics/widgets/point_details_widget.cpp b/Telegram/SourceFiles/statistics/widgets/point_details_widget.cpp
+index 65e79b1..23e123c 100644
+--- a/Telegram/SourceFiles/statistics/widgets/point_details_widget.cpp
++++ b/Telegram/SourceFiles/statistics/widgets/point_details_widget.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/details/storage_file_utilities.cpp b/Telegram/SourceFiles/storage/details/storage_file_utilities.cpp
+index b433848..cd4f464 100644
+--- a/Telegram/SourceFiles/storage/details/storage_file_utilities.cpp
++++ b/Telegram/SourceFiles/storage/details/storage_file_utilities.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/details/storage_settings_scheme.cpp b/Telegram/SourceFiles/storage/details/storage_settings_scheme.cpp
+index d942143..90cbba7 100644
+--- a/Telegram/SourceFiles/storage/details/storage_settings_scheme.cpp
++++ b/Telegram/SourceFiles/storage/details/storage_settings_scheme.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/download_manager_mtproto.cpp b/Telegram/SourceFiles/storage/download_manager_mtproto.cpp
+index b74eb77..ad6befe 100644
+--- a/Telegram/SourceFiles/storage/download_manager_mtproto.cpp
++++ b/Telegram/SourceFiles/storage/download_manager_mtproto.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/file_download.cpp b/Telegram/SourceFiles/storage/file_download.cpp
+index 3cd4222..7a3bb15 100644
+--- a/Telegram/SourceFiles/storage/file_download.cpp
++++ b/Telegram/SourceFiles/storage/file_download.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/file_download_mtproto.cpp b/Telegram/SourceFiles/storage/file_download_mtproto.cpp
+index 18c4ca3..37c85d7 100644
+--- a/Telegram/SourceFiles/storage/file_download_mtproto.cpp
++++ b/Telegram/SourceFiles/storage/file_download_mtproto.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/file_download_web.cpp b/Telegram/SourceFiles/storage/file_download_web.cpp
+index 1c56d8b..d448d72 100644
+--- a/Telegram/SourceFiles/storage/file_download_web.cpp
++++ b/Telegram/SourceFiles/storage/file_download_web.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/file_upload.cpp b/Telegram/SourceFiles/storage/file_upload.cpp
+index 39be04d..59d87f0 100644
+--- a/Telegram/SourceFiles/storage/file_upload.cpp
++++ b/Telegram/SourceFiles/storage/file_upload.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/localimageloader.cpp b/Telegram/SourceFiles/storage/localimageloader.cpp
+index 476a152..419a9ad 100644
+--- a/Telegram/SourceFiles/storage/localimageloader.cpp
++++ b/Telegram/SourceFiles/storage/localimageloader.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/localstorage.cpp b/Telegram/SourceFiles/storage/localstorage.cpp
+index 2958024..f7c7737 100644
+--- a/Telegram/SourceFiles/storage/localstorage.cpp
++++ b/Telegram/SourceFiles/storage/localstorage.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/serialize_common.cpp b/Telegram/SourceFiles/storage/serialize_common.cpp
+index 3267ee1..8484601 100644
+--- a/Telegram/SourceFiles/storage/serialize_common.cpp
++++ b/Telegram/SourceFiles/storage/serialize_common.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/serialize_document.cpp b/Telegram/SourceFiles/storage/serialize_document.cpp
+index 89b335c..3960312 100644
+--- a/Telegram/SourceFiles/storage/serialize_document.cpp
++++ b/Telegram/SourceFiles/storage/serialize_document.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/serialize_peer.cpp b/Telegram/SourceFiles/storage/serialize_peer.cpp
+index 96e9dae..fcd1493 100644
+--- a/Telegram/SourceFiles/storage/serialize_peer.cpp
++++ b/Telegram/SourceFiles/storage/serialize_peer.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/storage_account.cpp b/Telegram/SourceFiles/storage/storage_account.cpp
+index ea673e5..0de09fb 100644
+--- a/Telegram/SourceFiles/storage/storage_account.cpp
++++ b/Telegram/SourceFiles/storage/storage_account.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/storage_cloud_blob.cpp b/Telegram/SourceFiles/storage/storage_cloud_blob.cpp
+index d3c4546..48fec1a 100644
+--- a/Telegram/SourceFiles/storage/storage_cloud_blob.cpp
++++ b/Telegram/SourceFiles/storage/storage_cloud_blob.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/storage_domain.cpp b/Telegram/SourceFiles/storage/storage_domain.cpp
+index c46594f..f46119b 100644
+--- a/Telegram/SourceFiles/storage/storage_domain.cpp
++++ b/Telegram/SourceFiles/storage/storage_domain.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/storage_facade.cpp b/Telegram/SourceFiles/storage/storage_facade.cpp
+index dfd4429..e30ac28 100644
+--- a/Telegram/SourceFiles/storage/storage_facade.cpp
++++ b/Telegram/SourceFiles/storage/storage_facade.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/storage_file_lock_posix.cpp b/Telegram/SourceFiles/storage/storage_file_lock_posix.cpp
+index c198e4c..d6aa515 100644
+--- a/Telegram/SourceFiles/storage/storage_file_lock_posix.cpp
++++ b/Telegram/SourceFiles/storage/storage_file_lock_posix.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/storage_file_lock_win.cpp b/Telegram/SourceFiles/storage/storage_file_lock_win.cpp
+index 84ada93..5c6632a 100644
+--- a/Telegram/SourceFiles/storage/storage_file_lock_win.cpp
++++ b/Telegram/SourceFiles/storage/storage_file_lock_win.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/storage_media_prepare.cpp b/Telegram/SourceFiles/storage/storage_media_prepare.cpp
+index 290fae4..0e59e91 100644
+--- a/Telegram/SourceFiles/storage/storage_media_prepare.cpp
++++ b/Telegram/SourceFiles/storage/storage_media_prepare.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/storage_shared_media.cpp b/Telegram/SourceFiles/storage/storage_shared_media.cpp
+index 0326ad3..b22bbf4 100644
+--- a/Telegram/SourceFiles/storage/storage_shared_media.cpp
++++ b/Telegram/SourceFiles/storage/storage_shared_media.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/storage_sparse_ids_list.cpp b/Telegram/SourceFiles/storage/storage_sparse_ids_list.cpp
+index 33ea5ec..ef49ac4 100644
+--- a/Telegram/SourceFiles/storage/storage_sparse_ids_list.cpp
++++ b/Telegram/SourceFiles/storage/storage_sparse_ids_list.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/storage_user_photos.cpp b/Telegram/SourceFiles/storage/storage_user_photos.cpp
+index 5ecb6bc..c31a3fd 100644
+--- a/Telegram/SourceFiles/storage/storage_user_photos.cpp
++++ b/Telegram/SourceFiles/storage/storage_user_photos.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/storage/streamed_file_downloader.cpp b/Telegram/SourceFiles/storage/streamed_file_downloader.cpp
+index 990e0fd..f03be3c 100644
+--- a/Telegram/SourceFiles/storage/streamed_file_downloader.cpp
++++ b/Telegram/SourceFiles/storage/streamed_file_downloader.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/support/support_autocomplete.cpp b/Telegram/SourceFiles/support/support_autocomplete.cpp
+index 45ad83e..ba7daef 100644
+--- a/Telegram/SourceFiles/support/support_autocomplete.cpp
++++ b/Telegram/SourceFiles/support/support_autocomplete.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/support/support_common.cpp b/Telegram/SourceFiles/support/support_common.cpp
+index 797d735..b5fdc79 100644
+--- a/Telegram/SourceFiles/support/support_common.cpp
++++ b/Telegram/SourceFiles/support/support_common.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/support/support_helper.cpp b/Telegram/SourceFiles/support/support_helper.cpp
+index 892bda6..efb5c6d 100644
+--- a/Telegram/SourceFiles/support/support_helper.cpp
++++ b/Telegram/SourceFiles/support/support_helper.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/support/support_preload.cpp b/Telegram/SourceFiles/support/support_preload.cpp
+index 046bc91..04587f2 100644
+--- a/Telegram/SourceFiles/support/support_preload.cpp
++++ b/Telegram/SourceFiles/support/support_preload.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/support/support_templates.cpp b/Telegram/SourceFiles/support/support_templates.cpp
+index cb1515e..f682c5d 100644
+--- a/Telegram/SourceFiles/support/support_templates.cpp
++++ b/Telegram/SourceFiles/support/support_templates.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/tray.cpp b/Telegram/SourceFiles/tray.cpp
+index 235bf06..98e5c43 100644
+--- a/Telegram/SourceFiles/tray.cpp
++++ b/Telegram/SourceFiles/tray.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/auto_delete_settings.cpp b/Telegram/SourceFiles/ui/boxes/auto_delete_settings.cpp
+index 33be631..7ea2182 100644
+--- a/Telegram/SourceFiles/ui/boxes/auto_delete_settings.cpp
++++ b/Telegram/SourceFiles/ui/boxes/auto_delete_settings.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/boost_box.cpp b/Telegram/SourceFiles/ui/boxes/boost_box.cpp
+index c708601..9391f19 100644
+--- a/Telegram/SourceFiles/ui/boxes/boost_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/boost_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/calendar_box.cpp b/Telegram/SourceFiles/ui/boxes/calendar_box.cpp
+index 0a0d22b..f6902ae 100644
+--- a/Telegram/SourceFiles/ui/boxes/calendar_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/calendar_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/choose_date_time.cpp b/Telegram/SourceFiles/ui/boxes/choose_date_time.cpp
+index 8651b5b..3c7c639 100644
+--- a/Telegram/SourceFiles/ui/boxes/choose_date_time.cpp
++++ b/Telegram/SourceFiles/ui/boxes/choose_date_time.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/choose_font_box.cpp b/Telegram/SourceFiles/ui/boxes/choose_font_box.cpp
+index 97f65b6..e0c108f 100644
+--- a/Telegram/SourceFiles/ui/boxes/choose_font_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/choose_font_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/choose_language_box.cpp b/Telegram/SourceFiles/ui/boxes/choose_language_box.cpp
+index ef7604f..8292c87 100644
+--- a/Telegram/SourceFiles/ui/boxes/choose_language_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/choose_language_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/choose_time.cpp b/Telegram/SourceFiles/ui/boxes/choose_time.cpp
+index aa7f283..5224881 100644
+--- a/Telegram/SourceFiles/ui/boxes/choose_time.cpp
++++ b/Telegram/SourceFiles/ui/boxes/choose_time.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/collectible_info_box.cpp b/Telegram/SourceFiles/ui/boxes/collectible_info_box.cpp
+index fb03006..4e824be 100644
+--- a/Telegram/SourceFiles/ui/boxes/collectible_info_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/collectible_info_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/confirm_box.cpp b/Telegram/SourceFiles/ui/boxes/confirm_box.cpp
+index cfe7d23..4baa476 100644
+--- a/Telegram/SourceFiles/ui/boxes/confirm_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/confirm_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/confirm_phone_box.cpp b/Telegram/SourceFiles/ui/boxes/confirm_phone_box.cpp
+index e69cd3e..b8692c1 100644
+--- a/Telegram/SourceFiles/ui/boxes/confirm_phone_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/confirm_phone_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/country_select_box.cpp b/Telegram/SourceFiles/ui/boxes/country_select_box.cpp
+index bb7cc70..a5be366 100644
+--- a/Telegram/SourceFiles/ui/boxes/country_select_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/country_select_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/edit_birthday_box.cpp b/Telegram/SourceFiles/ui/boxes/edit_birthday_box.cpp
+index 94d63e6..2e9de07 100644
+--- a/Telegram/SourceFiles/ui/boxes/edit_birthday_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/edit_birthday_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/edit_factcheck_box.cpp b/Telegram/SourceFiles/ui/boxes/edit_factcheck_box.cpp
+index 2c371da..99f443b 100644
+--- a/Telegram/SourceFiles/ui/boxes/edit_factcheck_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/edit_factcheck_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/edit_invite_link.cpp b/Telegram/SourceFiles/ui/boxes/edit_invite_link.cpp
+index 49905b8..86a791f 100644
+--- a/Telegram/SourceFiles/ui/boxes/edit_invite_link.cpp
++++ b/Telegram/SourceFiles/ui/boxes/edit_invite_link.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/edit_invite_link_session.cpp b/Telegram/SourceFiles/ui/boxes/edit_invite_link_session.cpp
+index f868cc3..ead26a6 100644
+--- a/Telegram/SourceFiles/ui/boxes/edit_invite_link_session.cpp
++++ b/Telegram/SourceFiles/ui/boxes/edit_invite_link_session.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/peer_qr_box.cpp b/Telegram/SourceFiles/ui/boxes/peer_qr_box.cpp
+index e49e457..c549c05 100644
+--- a/Telegram/SourceFiles/ui/boxes/peer_qr_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/peer_qr_box.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/rate_call_box.cpp b/Telegram/SourceFiles/ui/boxes/rate_call_box.cpp
+index d56889f..95c6295 100644
+--- a/Telegram/SourceFiles/ui/boxes/rate_call_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/rate_call_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/report_box_graphics.cpp b/Telegram/SourceFiles/ui/boxes/report_box_graphics.cpp
+index 483e61c..d7c41b3 100644
+--- a/Telegram/SourceFiles/ui/boxes/report_box_graphics.cpp
++++ b/Telegram/SourceFiles/ui/boxes/report_box_graphics.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/show_or_premium_box.cpp b/Telegram/SourceFiles/ui/boxes/show_or_premium_box.cpp
+index 426ddce..7b0a1a0 100644
+--- a/Telegram/SourceFiles/ui/boxes/show_or_premium_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/show_or_premium_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/single_choice_box.cpp b/Telegram/SourceFiles/ui/boxes/single_choice_box.cpp
+index 2083a0f..78337dd 100644
+--- a/Telegram/SourceFiles/ui/boxes/single_choice_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/single_choice_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/boxes/time_picker_box.cpp b/Telegram/SourceFiles/ui/boxes/time_picker_box.cpp
+index 0cf0d51..ff53959 100644
+--- a/Telegram/SourceFiles/ui/boxes/time_picker_box.cpp
++++ b/Telegram/SourceFiles/ui/boxes/time_picker_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/cached_round_corners.cpp b/Telegram/SourceFiles/ui/cached_round_corners.cpp
+index 4aba838..84ba334 100644
+--- a/Telegram/SourceFiles/ui/cached_round_corners.cpp
++++ b/Telegram/SourceFiles/ui/cached_round_corners.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_abstract_single_file_preview.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_abstract_single_file_preview.cpp
+index 78148f8..ddc3358 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_abstract_single_file_preview.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_abstract_single_file_preview.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_abstract_single_media_preview.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_abstract_single_media_preview.cpp
+index 0d57e74..0b49b4c 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_abstract_single_media_preview.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_abstract_single_media_preview.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_album_preview.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_album_preview.cpp
+index 2843141..446de73 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_album_preview.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_album_preview.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_album_thumbnail.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_album_thumbnail.cpp
+index 562ae2d..38b475a 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_album_thumbnail.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_album_thumbnail.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_bot_downloads.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_bot_downloads.cpp
+index 5f6fe43..58aedbd 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_bot_downloads.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_bot_downloads.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_bot_webview.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_bot_webview.cpp
+index df4d7bc..ec36890 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_bot_webview.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_bot_webview.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_controls.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_controls.cpp
+index 775218a..048e78b 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_controls.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_controls.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_extensions.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_extensions.cpp
+index d88b31c..8d9ba75 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_extensions.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_extensions.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_item_single_file_preview.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_item_single_file_preview.cpp
+index 1c235c9..231c78f 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_item_single_file_preview.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_item_single_file_preview.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_item_single_media_preview.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_item_single_media_preview.cpp
+index 02f3c92..7dd39cc 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_item_single_media_preview.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_item_single_media_preview.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_prepare.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_prepare.cpp
+index fb96860..4ca9e28 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_prepare.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_prepare.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_send_files_way.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_send_files_way.cpp
+index 13f2f08..79c76bb 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_send_files_way.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_send_files_way.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_single_file_preview.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_single_file_preview.cpp
+index 344b30d..0cc182b 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_single_file_preview.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_single_file_preview.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/attach/attach_single_media_preview.cpp b/Telegram/SourceFiles/ui/chat/attach/attach_single_media_preview.cpp
+index 7f039e3..2440036 100644
+--- a/Telegram/SourceFiles/ui/chat/attach/attach_single_media_preview.cpp
++++ b/Telegram/SourceFiles/ui/chat/attach/attach_single_media_preview.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/chat_style.cpp b/Telegram/SourceFiles/ui/chat/chat_style.cpp
+index 784d9e4..4b31b11 100644
+--- a/Telegram/SourceFiles/ui/chat/chat_style.cpp
++++ b/Telegram/SourceFiles/ui/chat/chat_style.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/chat_style_radius.cpp b/Telegram/SourceFiles/ui/chat/chat_style_radius.cpp
+index 0d54394..e722593 100644
+--- a/Telegram/SourceFiles/ui/chat/chat_style_radius.cpp
++++ b/Telegram/SourceFiles/ui/chat/chat_style_radius.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/chat_theme.cpp b/Telegram/SourceFiles/ui/chat/chat_theme.cpp
+index 4979e5c..27aa3a9 100644
+--- a/Telegram/SourceFiles/ui/chat/chat_theme.cpp
++++ b/Telegram/SourceFiles/ui/chat/chat_theme.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/chats_filter_tag.cpp b/Telegram/SourceFiles/ui/chat/chats_filter_tag.cpp
+index 020ffa4..db508f9 100644
+--- a/Telegram/SourceFiles/ui/chat/chats_filter_tag.cpp
++++ b/Telegram/SourceFiles/ui/chat/chats_filter_tag.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/choose_send_as.cpp b/Telegram/SourceFiles/ui/chat/choose_send_as.cpp
+index d7c7f08..40ccf5d 100644
+--- a/Telegram/SourceFiles/ui/chat/choose_send_as.cpp
++++ b/Telegram/SourceFiles/ui/chat/choose_send_as.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/choose_theme_controller.cpp b/Telegram/SourceFiles/ui/chat/choose_theme_controller.cpp
+index 4314f48..9766523 100644
+--- a/Telegram/SourceFiles/ui/chat/choose_theme_controller.cpp
++++ b/Telegram/SourceFiles/ui/chat/choose_theme_controller.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/continuous_scroll.cpp b/Telegram/SourceFiles/ui/chat/continuous_scroll.cpp
+index dbaf551..95f0617 100644
+--- a/Telegram/SourceFiles/ui/chat/continuous_scroll.cpp
++++ b/Telegram/SourceFiles/ui/chat/continuous_scroll.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/forward_options_box.cpp b/Telegram/SourceFiles/ui/chat/forward_options_box.cpp
+index 0f3ed64..1edbd56 100644
+--- a/Telegram/SourceFiles/ui/chat/forward_options_box.cpp
++++ b/Telegram/SourceFiles/ui/chat/forward_options_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/group_call_bar.cpp b/Telegram/SourceFiles/ui/chat/group_call_bar.cpp
+index 239028b..ef3183d 100644
+--- a/Telegram/SourceFiles/ui/chat/group_call_bar.cpp
++++ b/Telegram/SourceFiles/ui/chat/group_call_bar.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/group_call_userpics.cpp b/Telegram/SourceFiles/ui/chat/group_call_userpics.cpp
+index 4044c7d..19c0b73 100644
+--- a/Telegram/SourceFiles/ui/chat/group_call_userpics.cpp
++++ b/Telegram/SourceFiles/ui/chat/group_call_userpics.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/message_bar.cpp b/Telegram/SourceFiles/ui/chat/message_bar.cpp
+index 7699445..f58d9b2 100644
+--- a/Telegram/SourceFiles/ui/chat/message_bar.cpp
++++ b/Telegram/SourceFiles/ui/chat/message_bar.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/message_bubble.cpp b/Telegram/SourceFiles/ui/chat/message_bubble.cpp
+index 8d398e5..b692181 100644
+--- a/Telegram/SourceFiles/ui/chat/message_bubble.cpp
++++ b/Telegram/SourceFiles/ui/chat/message_bubble.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/more_chats_bar.cpp b/Telegram/SourceFiles/ui/chat/more_chats_bar.cpp
+index d78a606..f6e8a37 100644
+--- a/Telegram/SourceFiles/ui/chat/more_chats_bar.cpp
++++ b/Telegram/SourceFiles/ui/chat/more_chats_bar.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/pinned_bar.cpp b/Telegram/SourceFiles/ui/chat/pinned_bar.cpp
+index eb2cf01..84fc37a 100644
+--- a/Telegram/SourceFiles/ui/chat/pinned_bar.cpp
++++ b/Telegram/SourceFiles/ui/chat/pinned_bar.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/requests_bar.cpp b/Telegram/SourceFiles/ui/chat/requests_bar.cpp
+index c8841f5..d4d23d3 100644
+--- a/Telegram/SourceFiles/ui/chat/requests_bar.cpp
++++ b/Telegram/SourceFiles/ui/chat/requests_bar.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/chat/sponsored_message_bar.cpp b/Telegram/SourceFiles/ui/chat/sponsored_message_bar.cpp
+index 1f2fd24..9da4fb5 100644
+--- a/Telegram/SourceFiles/ui/chat/sponsored_message_bar.cpp
++++ b/Telegram/SourceFiles/ui/chat/sponsored_message_bar.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/color_contrast.cpp b/Telegram/SourceFiles/ui/color_contrast.cpp
+index ea3f9d0..3d68ce1 100644
+--- a/Telegram/SourceFiles/ui/color_contrast.cpp
++++ b/Telegram/SourceFiles/ui/color_contrast.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/color_int_conversion.cpp b/Telegram/SourceFiles/ui/color_int_conversion.cpp
+index b5df1c1..3456949 100644
+--- a/Telegram/SourceFiles/ui/color_int_conversion.cpp
++++ b/Telegram/SourceFiles/ui/color_int_conversion.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/call_mute_button.cpp b/Telegram/SourceFiles/ui/controls/call_mute_button.cpp
+index b142eb7..aa1955f 100644
+--- a/Telegram/SourceFiles/ui/controls/call_mute_button.cpp
++++ b/Telegram/SourceFiles/ui/controls/call_mute_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/chat_service_checkbox.cpp b/Telegram/SourceFiles/ui/controls/chat_service_checkbox.cpp
+index b8e80c5..3f8d591 100644
+--- a/Telegram/SourceFiles/ui/controls/chat_service_checkbox.cpp
++++ b/Telegram/SourceFiles/ui/controls/chat_service_checkbox.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/delete_message_context_action.cpp b/Telegram/SourceFiles/ui/controls/delete_message_context_action.cpp
+index 2c4bca9..e61d8ce 100644
+--- a/Telegram/SourceFiles/ui/controls/delete_message_context_action.cpp
++++ b/Telegram/SourceFiles/ui/controls/delete_message_context_action.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/download_bar.cpp b/Telegram/SourceFiles/ui/controls/download_bar.cpp
+index 3b3db11..ef487c6 100644
+--- a/Telegram/SourceFiles/ui/controls/download_bar.cpp
++++ b/Telegram/SourceFiles/ui/controls/download_bar.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/emoji_button.cpp b/Telegram/SourceFiles/ui/controls/emoji_button.cpp
+index b2656f5..ae9a330 100644
+--- a/Telegram/SourceFiles/ui/controls/emoji_button.cpp
++++ b/Telegram/SourceFiles/ui/controls/emoji_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/emoji_button_factory.cpp b/Telegram/SourceFiles/ui/controls/emoji_button_factory.cpp
+index a62c244..877e00a 100644
+--- a/Telegram/SourceFiles/ui/controls/emoji_button_factory.cpp
++++ b/Telegram/SourceFiles/ui/controls/emoji_button_factory.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/filter_link_header.cpp b/Telegram/SourceFiles/ui/controls/filter_link_header.cpp
+index e6a02ef..3368a0b 100644
+--- a/Telegram/SourceFiles/ui/controls/filter_link_header.cpp
++++ b/Telegram/SourceFiles/ui/controls/filter_link_header.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/invite_link_buttons.cpp b/Telegram/SourceFiles/ui/controls/invite_link_buttons.cpp
+index ac13cab..1ca100b 100644
+--- a/Telegram/SourceFiles/ui/controls/invite_link_buttons.cpp
++++ b/Telegram/SourceFiles/ui/controls/invite_link_buttons.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/invite_link_label.cpp b/Telegram/SourceFiles/ui/controls/invite_link_label.cpp
+index 80d58be..9719075 100644
+--- a/Telegram/SourceFiles/ui/controls/invite_link_label.cpp
++++ b/Telegram/SourceFiles/ui/controls/invite_link_label.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/jump_down_button.cpp b/Telegram/SourceFiles/ui/controls/jump_down_button.cpp
+index aded3fc..1916ccf 100644
+--- a/Telegram/SourceFiles/ui/controls/jump_down_button.cpp
++++ b/Telegram/SourceFiles/ui/controls/jump_down_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/location_picker.cpp b/Telegram/SourceFiles/ui/controls/location_picker.cpp
+index 6d69efe..20b55f9 100644
+--- a/Telegram/SourceFiles/ui/controls/location_picker.cpp
++++ b/Telegram/SourceFiles/ui/controls/location_picker.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/peer_list_dummy.cpp b/Telegram/SourceFiles/ui/controls/peer_list_dummy.cpp
+index 6146afd..6fccdf6 100644
+--- a/Telegram/SourceFiles/ui/controls/peer_list_dummy.cpp
++++ b/Telegram/SourceFiles/ui/controls/peer_list_dummy.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/round_video_recorder.cpp b/Telegram/SourceFiles/ui/controls/round_video_recorder.cpp
+index 3c904cd..7c543cf 100644
+--- a/Telegram/SourceFiles/ui/controls/round_video_recorder.cpp
++++ b/Telegram/SourceFiles/ui/controls/round_video_recorder.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/send_as_button.cpp b/Telegram/SourceFiles/ui/controls/send_as_button.cpp
+index 2ffbe77..c713ff3 100644
+--- a/Telegram/SourceFiles/ui/controls/send_as_button.cpp
++++ b/Telegram/SourceFiles/ui/controls/send_as_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/send_button.cpp b/Telegram/SourceFiles/ui/controls/send_button.cpp
+index b02bf1c..8b971b9 100644
+--- a/Telegram/SourceFiles/ui/controls/send_button.cpp
++++ b/Telegram/SourceFiles/ui/controls/send_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/silent_toggle.cpp b/Telegram/SourceFiles/ui/controls/silent_toggle.cpp
+index 5fb1f46..6e7827b 100644
+--- a/Telegram/SourceFiles/ui/controls/silent_toggle.cpp
++++ b/Telegram/SourceFiles/ui/controls/silent_toggle.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/swipe_handler.cpp b/Telegram/SourceFiles/ui/controls/swipe_handler.cpp
+index f3d99f7..4032aa6 100644
+--- a/Telegram/SourceFiles/ui/controls/swipe_handler.cpp
++++ b/Telegram/SourceFiles/ui/controls/swipe_handler.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/tabbed_search.cpp b/Telegram/SourceFiles/ui/controls/tabbed_search.cpp
+index ea9f1e7..6942995 100644
+--- a/Telegram/SourceFiles/ui/controls/tabbed_search.cpp
++++ b/Telegram/SourceFiles/ui/controls/tabbed_search.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/userpic_button.cpp b/Telegram/SourceFiles/ui/controls/userpic_button.cpp
+index 39faf9c..bf8d47b 100644
+--- a/Telegram/SourceFiles/ui/controls/userpic_button.cpp
++++ b/Telegram/SourceFiles/ui/controls/userpic_button.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h" 
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/who_reacted_context_action.cpp b/Telegram/SourceFiles/ui/controls/who_reacted_context_action.cpp
+index 3fe2363..4e0d97b 100644
+--- a/Telegram/SourceFiles/ui/controls/who_reacted_context_action.cpp
++++ b/Telegram/SourceFiles/ui/controls/who_reacted_context_action.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/window_outdated_bar.cpp b/Telegram/SourceFiles/ui/controls/window_outdated_bar.cpp
+index 69c38d0..bba6d9d 100644
+--- a/Telegram/SourceFiles/ui/controls/window_outdated_bar.cpp
++++ b/Telegram/SourceFiles/ui/controls/window_outdated_bar.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/controls/window_outdated_bar_dummy.cpp b/Telegram/SourceFiles/ui/controls/window_outdated_bar_dummy.cpp
+index a584271..a1a83fa 100644
+--- a/Telegram/SourceFiles/ui/controls/window_outdated_bar_dummy.cpp
++++ b/Telegram/SourceFiles/ui/controls/window_outdated_bar_dummy.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/countryinput.cpp b/Telegram/SourceFiles/ui/countryinput.cpp
+index bdf77d1..87ffa5a 100644
+--- a/Telegram/SourceFiles/ui/countryinput.cpp
++++ b/Telegram/SourceFiles/ui/countryinput.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/dynamic_thumbnails.cpp b/Telegram/SourceFiles/ui/dynamic_thumbnails.cpp
+index f653886..857d752 100644
+--- a/Telegram/SourceFiles/ui/dynamic_thumbnails.cpp
++++ b/Telegram/SourceFiles/ui/dynamic_thumbnails.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/credits_graphics.cpp b/Telegram/SourceFiles/ui/effects/credits_graphics.cpp
+index 0fbf095..7a212fd 100644
+--- a/Telegram/SourceFiles/ui/effects/credits_graphics.cpp
++++ b/Telegram/SourceFiles/ui/effects/credits_graphics.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/emoji_fly_animation.cpp b/Telegram/SourceFiles/ui/effects/emoji_fly_animation.cpp
+index 0552994..ddce3d2 100644
+--- a/Telegram/SourceFiles/ui/effects/emoji_fly_animation.cpp
++++ b/Telegram/SourceFiles/ui/effects/emoji_fly_animation.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/fireworks_animation.cpp b/Telegram/SourceFiles/ui/effects/fireworks_animation.cpp
+index f9eb099..db9596a 100644
+--- a/Telegram/SourceFiles/ui/effects/fireworks_animation.cpp
++++ b/Telegram/SourceFiles/ui/effects/fireworks_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/glare.cpp b/Telegram/SourceFiles/ui/effects/glare.cpp
+index e326982..b7f019b 100644
+--- a/Telegram/SourceFiles/ui/effects/glare.cpp
++++ b/Telegram/SourceFiles/ui/effects/glare.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/loading_element.cpp b/Telegram/SourceFiles/ui/effects/loading_element.cpp
+index 5cc2e5e..56d2454 100644
+--- a/Telegram/SourceFiles/ui/effects/loading_element.cpp
++++ b/Telegram/SourceFiles/ui/effects/loading_element.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/message_sending_animation_controller.cpp b/Telegram/SourceFiles/ui/effects/message_sending_animation_controller.cpp
+index 552f464..3d36a79 100644
+--- a/Telegram/SourceFiles/ui/effects/message_sending_animation_controller.cpp
++++ b/Telegram/SourceFiles/ui/effects/message_sending_animation_controller.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/outline_segments.cpp b/Telegram/SourceFiles/ui/effects/outline_segments.cpp
+index 6dc330c..94e9749 100644
+--- a/Telegram/SourceFiles/ui/effects/outline_segments.cpp
++++ b/Telegram/SourceFiles/ui/effects/outline_segments.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/premium_bubble.cpp b/Telegram/SourceFiles/ui/effects/premium_bubble.cpp
+index 6106201..7c8f42c 100644
+--- a/Telegram/SourceFiles/ui/effects/premium_bubble.cpp
++++ b/Telegram/SourceFiles/ui/effects/premium_bubble.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/premium_graphics.cpp b/Telegram/SourceFiles/ui/effects/premium_graphics.cpp
+index ed73836..9d3fd53 100644
+--- a/Telegram/SourceFiles/ui/effects/premium_graphics.cpp
++++ b/Telegram/SourceFiles/ui/effects/premium_graphics.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/premium_stars.cpp b/Telegram/SourceFiles/ui/effects/premium_stars.cpp
+index 23d8ad3..4730590 100644
+--- a/Telegram/SourceFiles/ui/effects/premium_stars.cpp
++++ b/Telegram/SourceFiles/ui/effects/premium_stars.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/premium_stars_colored.cpp b/Telegram/SourceFiles/ui/effects/premium_stars_colored.cpp
+index 7b7157b..5b685b3 100644
+--- a/Telegram/SourceFiles/ui/effects/premium_stars_colored.cpp
++++ b/Telegram/SourceFiles/ui/effects/premium_stars_colored.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/premium_top_bar.cpp b/Telegram/SourceFiles/ui/effects/premium_top_bar.cpp
+index 4d538ce..de42840 100644
+--- a/Telegram/SourceFiles/ui/effects/premium_top_bar.cpp
++++ b/Telegram/SourceFiles/ui/effects/premium_top_bar.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/reaction_fly_animation.cpp b/Telegram/SourceFiles/ui/effects/reaction_fly_animation.cpp
+index a193bf3..6fd65d7 100644
+--- a/Telegram/SourceFiles/ui/effects/reaction_fly_animation.cpp
++++ b/Telegram/SourceFiles/ui/effects/reaction_fly_animation.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/round_checkbox.cpp b/Telegram/SourceFiles/ui/effects/round_checkbox.cpp
+index fbd67b2..fa88510 100644
+--- a/Telegram/SourceFiles/ui/effects/round_checkbox.cpp
++++ b/Telegram/SourceFiles/ui/effects/round_checkbox.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/scroll_content_shadow.cpp b/Telegram/SourceFiles/ui/effects/scroll_content_shadow.cpp
+index 5bc42cb..9def332 100644
+--- a/Telegram/SourceFiles/ui/effects/scroll_content_shadow.cpp
++++ b/Telegram/SourceFiles/ui/effects/scroll_content_shadow.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/send_action_animations.cpp b/Telegram/SourceFiles/ui/effects/send_action_animations.cpp
+index 3cee433..9132d22 100644
+--- a/Telegram/SourceFiles/ui/effects/send_action_animations.cpp
++++ b/Telegram/SourceFiles/ui/effects/send_action_animations.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/shake_animation.cpp b/Telegram/SourceFiles/ui/effects/shake_animation.cpp
+index 38fbd6f..b77ff28 100644
+--- a/Telegram/SourceFiles/ui/effects/shake_animation.cpp
++++ b/Telegram/SourceFiles/ui/effects/shake_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/snowflakes.cpp b/Telegram/SourceFiles/ui/effects/snowflakes.cpp
+index 504c912..1e7bae0 100644
+--- a/Telegram/SourceFiles/ui/effects/snowflakes.cpp
++++ b/Telegram/SourceFiles/ui/effects/snowflakes.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/effects/toggle_arrow.cpp b/Telegram/SourceFiles/ui/effects/toggle_arrow.cpp
+index 1c8779a..c94093f 100644
+--- a/Telegram/SourceFiles/ui/effects/toggle_arrow.cpp
++++ b/Telegram/SourceFiles/ui/effects/toggle_arrow.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/empty_userpic.cpp b/Telegram/SourceFiles/ui/empty_userpic.cpp
+index ea38baa..80a69e5 100644
+--- a/Telegram/SourceFiles/ui/empty_userpic.cpp
++++ b/Telegram/SourceFiles/ui/empty_userpic.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/filter_icon_panel.cpp b/Telegram/SourceFiles/ui/filter_icon_panel.cpp
+index 34299d1..7c9b89e 100644
+--- a/Telegram/SourceFiles/ui/filter_icon_panel.cpp
++++ b/Telegram/SourceFiles/ui/filter_icon_panel.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/filter_icons.cpp b/Telegram/SourceFiles/ui/filter_icons.cpp
+index 01a982d..511d363 100644
+--- a/Telegram/SourceFiles/ui/filter_icons.cpp
++++ b/Telegram/SourceFiles/ui/filter_icons.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/grouped_layout.cpp b/Telegram/SourceFiles/ui/grouped_layout.cpp
+index 004d772..64f81f8 100644
+--- a/Telegram/SourceFiles/ui/grouped_layout.cpp
++++ b/Telegram/SourceFiles/ui/grouped_layout.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/image/image.cpp b/Telegram/SourceFiles/ui/image/image.cpp
+index 1ef41f6..6c6f1c7 100644
+--- a/Telegram/SourceFiles/ui/image/image.cpp
++++ b/Telegram/SourceFiles/ui/image/image.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/image/image_location.cpp b/Telegram/SourceFiles/ui/image/image_location.cpp
+index d1fdde5..d5ade4f 100644
+--- a/Telegram/SourceFiles/ui/image/image_location.cpp
++++ b/Telegram/SourceFiles/ui/image/image_location.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/image/image_location_factory.cpp b/Telegram/SourceFiles/ui/image/image_location_factory.cpp
+index cda2cad..b92f413 100644
+--- a/Telegram/SourceFiles/ui/image/image_location_factory.cpp
++++ b/Telegram/SourceFiles/ui/image/image_location_factory.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/image/image_source.cpp b/Telegram/SourceFiles/ui/image/image_source.cpp
+index 94a8ab1..846fc41 100644
+--- a/Telegram/SourceFiles/ui/image/image_source.cpp
++++ b/Telegram/SourceFiles/ui/image/image_source.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/item_text_options.cpp b/Telegram/SourceFiles/ui/item_text_options.cpp
+index 57ccc44..331b6cc 100644
+--- a/Telegram/SourceFiles/ui/item_text_options.cpp
++++ b/Telegram/SourceFiles/ui/item_text_options.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/new_badges.cpp b/Telegram/SourceFiles/ui/new_badges.cpp
+index 0532181..9fa93f3 100644
+--- a/Telegram/SourceFiles/ui/new_badges.cpp
++++ b/Telegram/SourceFiles/ui/new_badges.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/power_saving.cpp b/Telegram/SourceFiles/ui/power_saving.cpp
+index a401aca..558c985 100644
+--- a/Telegram/SourceFiles/ui/power_saving.cpp
++++ b/Telegram/SourceFiles/ui/power_saving.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/search_field_controller.cpp b/Telegram/SourceFiles/ui/search_field_controller.cpp
+index b1d3ae5..8d342f1 100644
+--- a/Telegram/SourceFiles/ui/search_field_controller.cpp
++++ b/Telegram/SourceFiles/ui/search_field_controller.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/text/format_song_document_name.cpp b/Telegram/SourceFiles/ui/text/format_song_document_name.cpp
+index 82d2a99..3ee72ee 100644
+--- a/Telegram/SourceFiles/ui/text/format_song_document_name.cpp
++++ b/Telegram/SourceFiles/ui/text/format_song_document_name.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/text/format_song_name.cpp b/Telegram/SourceFiles/ui/text/format_song_name.cpp
+index c3f161d..de42879 100644
+--- a/Telegram/SourceFiles/ui/text/format_song_name.cpp
++++ b/Telegram/SourceFiles/ui/text/format_song_name.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/text/format_values.cpp b/Telegram/SourceFiles/ui/text/format_values.cpp
+index 564e501..c81d101 100644
+--- a/Telegram/SourceFiles/ui/text/format_values.cpp
++++ b/Telegram/SourceFiles/ui/text/format_values.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/text/text_options.cpp b/Telegram/SourceFiles/ui/text/text_options.cpp
+index eeeb28e..2486052 100644
+--- a/Telegram/SourceFiles/ui/text/text_options.cpp
++++ b/Telegram/SourceFiles/ui/text/text_options.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/unread_badge.cpp b/Telegram/SourceFiles/ui/unread_badge.cpp
+index d53f617..1dd7501 100644
+--- a/Telegram/SourceFiles/ui/unread_badge.cpp
++++ b/Telegram/SourceFiles/ui/unread_badge.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/unread_badge_paint.cpp b/Telegram/SourceFiles/ui/unread_badge_paint.cpp
+index d6b150a..18eee03 100644
+--- a/Telegram/SourceFiles/ui/unread_badge_paint.cpp
++++ b/Telegram/SourceFiles/ui/unread_badge_paint.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/userpic_view.cpp b/Telegram/SourceFiles/ui/userpic_view.cpp
+index f14ac76..d0d470a 100644
+--- a/Telegram/SourceFiles/ui/userpic_view.cpp
++++ b/Telegram/SourceFiles/ui/userpic_view.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/vertical_list.cpp b/Telegram/SourceFiles/ui/vertical_list.cpp
+index 6666077..37227fe 100644
+--- a/Telegram/SourceFiles/ui/vertical_list.cpp
++++ b/Telegram/SourceFiles/ui/vertical_list.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/webview_helpers.cpp b/Telegram/SourceFiles/ui/webview_helpers.cpp
+index e68f19e..b978138 100644
+--- a/Telegram/SourceFiles/ui/webview_helpers.cpp
++++ b/Telegram/SourceFiles/ui/webview_helpers.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_slider.cpp b/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_slider.cpp
+index 5fddc9e..3879edc 100644
+--- a/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_slider.cpp
++++ b/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_slider.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_slider_reorder.cpp b/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_slider_reorder.cpp
+index 21d0e96..f973cf3 100644
+--- a/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_slider_reorder.cpp
++++ b/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_slider_reorder.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_strip.cpp b/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_strip.cpp
+index 176b564..40f2da9 100644
+--- a/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_strip.cpp
++++ b/Telegram/SourceFiles/ui/widgets/chat_filters_tabs_strip.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/color_editor.cpp b/Telegram/SourceFiles/ui/widgets/color_editor.cpp
+index c8fc937..9775c4a 100644
+--- a/Telegram/SourceFiles/ui/widgets/color_editor.cpp
++++ b/Telegram/SourceFiles/ui/widgets/color_editor.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/continuous_sliders.cpp b/Telegram/SourceFiles/ui/widgets/continuous_sliders.cpp
+index d400c12..b20a155 100644
+--- a/Telegram/SourceFiles/ui/widgets/continuous_sliders.cpp
++++ b/Telegram/SourceFiles/ui/widgets/continuous_sliders.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/discrete_sliders.cpp b/Telegram/SourceFiles/ui/widgets/discrete_sliders.cpp
+index 77874b5..e808fd3 100644
+--- a/Telegram/SourceFiles/ui/widgets/discrete_sliders.cpp
++++ b/Telegram/SourceFiles/ui/widgets/discrete_sliders.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/expandable_peer_list.cpp b/Telegram/SourceFiles/ui/widgets/expandable_peer_list.cpp
+index fa43f4b..379f5d7 100644
+--- a/Telegram/SourceFiles/ui/widgets/expandable_peer_list.cpp
++++ b/Telegram/SourceFiles/ui/widgets/expandable_peer_list.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/fields/special_fields.cpp b/Telegram/SourceFiles/ui/widgets/fields/special_fields.cpp
+index 0b7487c..6b9319d 100644
+--- a/Telegram/SourceFiles/ui/widgets/fields/special_fields.cpp
++++ b/Telegram/SourceFiles/ui/widgets/fields/special_fields.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/fields/time_part_input_with_placeholder.cpp b/Telegram/SourceFiles/ui/widgets/fields/time_part_input_with_placeholder.cpp
+index c38241c..8bbfa51 100644
+--- a/Telegram/SourceFiles/ui/widgets/fields/time_part_input_with_placeholder.cpp
++++ b/Telegram/SourceFiles/ui/widgets/fields/time_part_input_with_placeholder.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/gradient_round_button.cpp b/Telegram/SourceFiles/ui/widgets/gradient_round_button.cpp
+index f108d16..46ae11c 100644
+--- a/Telegram/SourceFiles/ui/widgets/gradient_round_button.cpp
++++ b/Telegram/SourceFiles/ui/widgets/gradient_round_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/label_with_custom_emoji.cpp b/Telegram/SourceFiles/ui/widgets/label_with_custom_emoji.cpp
+index 69f1d5f..d688f74 100644
+--- a/Telegram/SourceFiles/ui/widgets/label_with_custom_emoji.cpp
++++ b/Telegram/SourceFiles/ui/widgets/label_with_custom_emoji.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/level_meter.cpp b/Telegram/SourceFiles/ui/widgets/level_meter.cpp
+index 7a94b8c..7b93f5e 100644
+--- a/Telegram/SourceFiles/ui/widgets/level_meter.cpp
++++ b/Telegram/SourceFiles/ui/widgets/level_meter.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/multi_select.cpp b/Telegram/SourceFiles/ui/widgets/multi_select.cpp
+index 8c9649f..aa72531 100644
+--- a/Telegram/SourceFiles/ui/widgets/multi_select.cpp
++++ b/Telegram/SourceFiles/ui/widgets/multi_select.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/participants_check_view.cpp b/Telegram/SourceFiles/ui/widgets/participants_check_view.cpp
+index 0a8aad5..aec5c00 100644
+--- a/Telegram/SourceFiles/ui/widgets/participants_check_view.cpp
++++ b/Telegram/SourceFiles/ui/widgets/participants_check_view.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/peer_bubble.cpp b/Telegram/SourceFiles/ui/widgets/peer_bubble.cpp
+index 87ac897..dfd7fc7 100644
+--- a/Telegram/SourceFiles/ui/widgets/peer_bubble.cpp
++++ b/Telegram/SourceFiles/ui/widgets/peer_bubble.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/sent_code_field.cpp b/Telegram/SourceFiles/ui/widgets/sent_code_field.cpp
+index f5ba4b8..53f7293 100644
+--- a/Telegram/SourceFiles/ui/widgets/sent_code_field.cpp
++++ b/Telegram/SourceFiles/ui/widgets/sent_code_field.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/ui/widgets/vertical_drum_picker.cpp b/Telegram/SourceFiles/ui/widgets/vertical_drum_picker.cpp
+index a414b56..5224bab 100644
+--- a/Telegram/SourceFiles/ui/widgets/vertical_drum_picker.cpp
++++ b/Telegram/SourceFiles/ui/widgets/vertical_drum_picker.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/main_window.cpp b/Telegram/SourceFiles/window/main_window.cpp
+index 81e21fb..fe84772 100644
+--- a/Telegram/SourceFiles/window/main_window.cpp
++++ b/Telegram/SourceFiles/window/main_window.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/notifications_manager.cpp b/Telegram/SourceFiles/window/notifications_manager.cpp
+index eee26ca..4abebff 100644
+--- a/Telegram/SourceFiles/window/notifications_manager.cpp
++++ b/Telegram/SourceFiles/window/notifications_manager.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/notifications_manager_default.cpp b/Telegram/SourceFiles/window/notifications_manager_default.cpp
+index 8a8ccea..9a36c4c 100644
+--- a/Telegram/SourceFiles/window/notifications_manager_default.cpp
++++ b/Telegram/SourceFiles/window/notifications_manager_default.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/notifications_utilities.cpp b/Telegram/SourceFiles/window/notifications_utilities.cpp
+index e2ef49f..6879381 100644
+--- a/Telegram/SourceFiles/window/notifications_utilities.cpp
++++ b/Telegram/SourceFiles/window/notifications_utilities.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/section_widget.cpp b/Telegram/SourceFiles/window/section_widget.cpp
+index 5a72a69..fedcf00 100644
+--- a/Telegram/SourceFiles/window/section_widget.cpp
++++ b/Telegram/SourceFiles/window/section_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/themes/window_theme.cpp b/Telegram/SourceFiles/window/themes/window_theme.cpp
+index 7a75e1b..88d82db 100644
+--- a/Telegram/SourceFiles/window/themes/window_theme.cpp
++++ b/Telegram/SourceFiles/window/themes/window_theme.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/themes/window_theme_editor.cpp b/Telegram/SourceFiles/window/themes/window_theme_editor.cpp
+index e7baf9c..87f79f4 100644
+--- a/Telegram/SourceFiles/window/themes/window_theme_editor.cpp
++++ b/Telegram/SourceFiles/window/themes/window_theme_editor.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/themes/window_theme_editor_block.cpp b/Telegram/SourceFiles/window/themes/window_theme_editor_block.cpp
+index cd5b5d8..8465496 100644
+--- a/Telegram/SourceFiles/window/themes/window_theme_editor_block.cpp
++++ b/Telegram/SourceFiles/window/themes/window_theme_editor_block.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/themes/window_theme_editor_box.cpp b/Telegram/SourceFiles/window/themes/window_theme_editor_box.cpp
+index c430b3e..e11a36d 100644
+--- a/Telegram/SourceFiles/window/themes/window_theme_editor_box.cpp
++++ b/Telegram/SourceFiles/window/themes/window_theme_editor_box.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/themes/window_theme_preview.cpp b/Telegram/SourceFiles/window/themes/window_theme_preview.cpp
+index 42f1abb..a9436f0 100644
+--- a/Telegram/SourceFiles/window/themes/window_theme_preview.cpp
++++ b/Telegram/SourceFiles/window/themes/window_theme_preview.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/themes/window_theme_warning.cpp b/Telegram/SourceFiles/window/themes/window_theme_warning.cpp
+index 8323de0..e42e7b7 100644
+--- a/Telegram/SourceFiles/window/themes/window_theme_warning.cpp
++++ b/Telegram/SourceFiles/window/themes/window_theme_warning.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/themes/window_themes_cloud_list.cpp b/Telegram/SourceFiles/window/themes/window_themes_cloud_list.cpp
+index 0971a1a..c61d85a 100644
+--- a/Telegram/SourceFiles/window/themes/window_themes_cloud_list.cpp
++++ b/Telegram/SourceFiles/window/themes/window_themes_cloud_list.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/themes/window_themes_embedded.cpp b/Telegram/SourceFiles/window/themes/window_themes_embedded.cpp
+index 5415346..928f553 100644
+--- a/Telegram/SourceFiles/window/themes/window_themes_embedded.cpp
++++ b/Telegram/SourceFiles/window/themes/window_themes_embedded.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/themes/window_themes_generate_name.cpp b/Telegram/SourceFiles/window/themes/window_themes_generate_name.cpp
+index 81c0e09..6103147 100644
+--- a/Telegram/SourceFiles/window/themes/window_themes_generate_name.cpp
++++ b/Telegram/SourceFiles/window/themes/window_themes_generate_name.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_adaptive.cpp b/Telegram/SourceFiles/window/window_adaptive.cpp
+index 784164d..687b784 100644
+--- a/Telegram/SourceFiles/window/window_adaptive.cpp
++++ b/Telegram/SourceFiles/window/window_adaptive.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_chat_preview.cpp b/Telegram/SourceFiles/window/window_chat_preview.cpp
+index 2a9607a..735e999 100644
+--- a/Telegram/SourceFiles/window/window_chat_preview.cpp
++++ b/Telegram/SourceFiles/window/window_chat_preview.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+@@ -139,4 +140,4 @@ void ChatPreviewManager::cancelScheduled() {
+ 	_timer.cancel();
+ }
+ 
+-} // namespace Window
+\ No newline at end of file
++} // namespace Window
+diff --git a/Telegram/SourceFiles/window/window_connecting_widget.cpp b/Telegram/SourceFiles/window/window_connecting_widget.cpp
+index 9940287..f17efa5 100644
+--- a/Telegram/SourceFiles/window/window_connecting_widget.cpp
++++ b/Telegram/SourceFiles/window/window_connecting_widget.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_controller.cpp b/Telegram/SourceFiles/window/window_controller.cpp
+index fb47a40..e5906fc 100644
+--- a/Telegram/SourceFiles/window/window_controller.cpp
++++ b/Telegram/SourceFiles/window/window_controller.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_filters_menu.cpp b/Telegram/SourceFiles/window/window_filters_menu.cpp
+index 1e71a84..0de8960 100644
+--- a/Telegram/SourceFiles/window/window_filters_menu.cpp
++++ b/Telegram/SourceFiles/window/window_filters_menu.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_history_hider.cpp b/Telegram/SourceFiles/window/window_history_hider.cpp
+index 134bd45..6151d1e 100644
+--- a/Telegram/SourceFiles/window/window_history_hider.cpp
++++ b/Telegram/SourceFiles/window/window_history_hider.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_lock_widgets.cpp b/Telegram/SourceFiles/window/window_lock_widgets.cpp
+index b674458..c226c8e 100644
+--- a/Telegram/SourceFiles/window/window_lock_widgets.cpp
++++ b/Telegram/SourceFiles/window/window_lock_widgets.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_main_menu.cpp b/Telegram/SourceFiles/window/window_main_menu.cpp
+index 0fd4094..37b634f 100644
+--- a/Telegram/SourceFiles/window/window_main_menu.cpp
++++ b/Telegram/SourceFiles/window/window_main_menu.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_main_menu_helpers.cpp b/Telegram/SourceFiles/window/window_main_menu_helpers.cpp
+index baf2275..b202930 100644
+--- a/Telegram/SourceFiles/window/window_main_menu_helpers.cpp
++++ b/Telegram/SourceFiles/window/window_main_menu_helpers.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_media_preview.cpp b/Telegram/SourceFiles/window/window_media_preview.cpp
+index edbaab9..6ded3de 100644
+--- a/Telegram/SourceFiles/window/window_media_preview.cpp
++++ b/Telegram/SourceFiles/window/window_media_preview.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_peer_menu.cpp b/Telegram/SourceFiles/window/window_peer_menu.cpp
+index 996096e..0f93a1a 100644
+--- a/Telegram/SourceFiles/window/window_peer_menu.cpp
++++ b/Telegram/SourceFiles/window/window_peer_menu.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_separate_id.cpp b/Telegram/SourceFiles/window/window_separate_id.cpp
+index 2b88968..ea34a14 100644
+--- a/Telegram/SourceFiles/window/window_separate_id.cpp
++++ b/Telegram/SourceFiles/window/window_separate_id.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_session_controller.cpp b/Telegram/SourceFiles/window/window_session_controller.cpp
+index ccdeaaa..bb78594 100644
+--- a/Telegram/SourceFiles/window/window_session_controller.cpp
++++ b/Telegram/SourceFiles/window/window_session_controller.cpp
+@@ -1,3 +1,4 @@
++#include "stdafx.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/SourceFiles/window/window_slide_animation.cpp b/Telegram/SourceFiles/window/window_slide_animation.cpp
+index fced2ba..3968961 100644
+--- a/Telegram/SourceFiles/window/window_slide_animation.cpp
++++ b/Telegram/SourceFiles/window/window_slide_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ /*
+ This file is part of Telegram Desktop,
+ the official desktop application for the Telegram messaging service.
+diff --git a/Telegram/lib_base/base/algorithm.cpp b/Telegram/lib_base/base/algorithm.cpp
+index fbc0bdf..d7534a6 100644
+--- a/Telegram/lib_base/base/algorithm.cpp
++++ b/Telegram/lib_base/base/algorithm.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/algorithm_tests.cpp b/Telegram/lib_base/base/algorithm_tests.cpp
+index 9dd2c49..8ba3c82 100644
+--- a/Telegram/lib_base/base/algorithm_tests.cpp
++++ b/Telegram/lib_base/base/algorithm_tests.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/assertion.cpp b/Telegram/lib_base/base/assertion.cpp
+index f79cadb..81a9bf0 100644
+--- a/Telegram/lib_base/base/assertion.cpp
++++ b/Telegram/lib_base/base/assertion.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/base_file_utilities.cpp b/Telegram/lib_base/base/base_file_utilities.cpp
+index c0f3c66..20ad8f2 100644
+--- a/Telegram/lib_base/base/base_file_utilities.cpp
++++ b/Telegram/lib_base/base/base_file_utilities.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/battery_saving.cpp b/Telegram/lib_base/base/battery_saving.cpp
+index 59de3b1..6a3b2fb 100644
+--- a/Telegram/lib_base/base/battery_saving.cpp
++++ b/Telegram/lib_base/base/battery_saving.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/bytes.cpp b/Telegram/lib_base/base/bytes.cpp
+index 9668115..912dad9 100644
+--- a/Telegram/lib_base/base/bytes.cpp
++++ b/Telegram/lib_base/base/bytes.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/call_delayed.cpp b/Telegram/lib_base/base/call_delayed.cpp
+index 93d975d..a01bf2f 100644
+--- a/Telegram/lib_base/base/call_delayed.cpp
++++ b/Telegram/lib_base/base/call_delayed.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/concurrent_timer.cpp b/Telegram/lib_base/base/concurrent_timer.cpp
+index ed48b36..84ac65b 100644
+--- a/Telegram/lib_base/base/concurrent_timer.cpp
++++ b/Telegram/lib_base/base/concurrent_timer.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/crash_report_header.cpp b/Telegram/lib_base/base/crash_report_header.cpp
+index f1718f7..9c3776f 100644
+--- a/Telegram/lib_base/base/crash_report_header.cpp
++++ b/Telegram/lib_base/base/crash_report_header.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/crash_report_writer.cpp b/Telegram/lib_base/base/crash_report_writer.cpp
+index c81637b..140a35e 100644
+--- a/Telegram/lib_base/base/crash_report_writer.cpp
++++ b/Telegram/lib_base/base/crash_report_writer.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/crc32hash.cpp b/Telegram/lib_base/base/crc32hash.cpp
+index 3384fea..714c8a5 100644
+--- a/Telegram/lib_base/base/crc32hash.cpp
++++ b/Telegram/lib_base/base/crc32hash.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/debug_log.cpp b/Telegram/lib_base/base/debug_log.cpp
+index 661ae1b..3626563 100644
+--- a/Telegram/lib_base/base/debug_log.cpp
++++ b/Telegram/lib_base/base/debug_log.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/event_filter.cpp b/Telegram/lib_base/base/event_filter.cpp
+index b77787e..7c177ef 100644
+--- a/Telegram/lib_base/base/event_filter.cpp
++++ b/Telegram/lib_base/base/event_filter.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/file_lock_posix.cpp b/Telegram/lib_base/base/file_lock_posix.cpp
+index c6efcd5..458a9b1 100644
+--- a/Telegram/lib_base/base/file_lock_posix.cpp
++++ b/Telegram/lib_base/base/file_lock_posix.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/file_lock_win.cpp b/Telegram/lib_base/base/file_lock_win.cpp
+index 132ff47..96e8b5f 100644
+--- a/Telegram/lib_base/base/file_lock_win.cpp
++++ b/Telegram/lib_base/base/file_lock_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/flags_tests.cpp b/Telegram/lib_base/base/flags_tests.cpp
+index 317969c..e4e9024 100644
+--- a/Telegram/lib_base/base/flags_tests.cpp
++++ b/Telegram/lib_base/base/flags_tests.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/flat_map_tests.cpp b/Telegram/lib_base/base/flat_map_tests.cpp
+index cf11b62..7412443 100644
+--- a/Telegram/lib_base/base/flat_map_tests.cpp
++++ b/Telegram/lib_base/base/flat_map_tests.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/flat_set_tests.cpp b/Telegram/lib_base/base/flat_set_tests.cpp
+index 3ed1584..7da17be 100644
+--- a/Telegram/lib_base/base/flat_set_tests.cpp
++++ b/Telegram/lib_base/base/flat_set_tests.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/global_shortcuts_generic.cpp b/Telegram/lib_base/base/global_shortcuts_generic.cpp
+index b8ffaef..8b8f49b 100644
+--- a/Telegram/lib_base/base/global_shortcuts_generic.cpp
++++ b/Telegram/lib_base/base/global_shortcuts_generic.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/integration.cpp b/Telegram/lib_base/base/integration.cpp
+index 9233281..6b71d52 100644
+--- a/Telegram/lib_base/base/integration.cpp
++++ b/Telegram/lib_base/base/integration.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/last_user_input.cpp b/Telegram/lib_base/base/last_user_input.cpp
+index d3b35f8..e33e3d3 100644
+--- a/Telegram/lib_base/base/last_user_input.cpp
++++ b/Telegram/lib_base/base/last_user_input.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/network_reachability.cpp b/Telegram/lib_base/base/network_reachability.cpp
+index f17c48b..1d11662 100644
+--- a/Telegram/lib_base/base/network_reachability.cpp
++++ b/Telegram/lib_base/base/network_reachability.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/options.cpp b/Telegram/lib_base/base/options.cpp
+index 7e57652..77576bb 100644
+--- a/Telegram/lib_base/base/options.cpp
++++ b/Telegram/lib_base/base/options.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/parse_helper.cpp b/Telegram/lib_base/base/parse_helper.cpp
+index b82c182..4915fc7 100644
+--- a/Telegram/lib_base/base/parse_helper.cpp
++++ b/Telegram/lib_base/base/parse_helper.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/base_platform_file_utilities.cpp b/Telegram/lib_base/base/platform/base_platform_file_utilities.cpp
+index 38d444e..1a81037 100644
+--- a/Telegram/lib_base/base/platform/base_platform_file_utilities.cpp
++++ b/Telegram/lib_base/base/platform/base_platform_file_utilities.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/base_platform_info.cpp b/Telegram/lib_base/base/platform/base_platform_info.cpp
+index da0f4d0..d0421c4 100644
+--- a/Telegram/lib_base/base/platform/base_platform_info.cpp
++++ b/Telegram/lib_base/base/platform/base_platform_info.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_battery_saving_linux.cpp b/Telegram/lib_base/base/platform/linux/base_battery_saving_linux.cpp
+index a44a530..f166f79 100644
+--- a/Telegram/lib_base/base/platform/linux/base_battery_saving_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_battery_saving_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_file_utilities_linux.cpp b/Telegram/lib_base/base/platform/linux/base_file_utilities_linux.cpp
+index b49c8c0..4de1ea7 100644
+--- a/Telegram/lib_base/base/platform/linux/base_file_utilities_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_file_utilities_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_global_shortcuts_linux.cpp b/Telegram/lib_base/base/platform/linux/base_global_shortcuts_linux.cpp
+index 2247daf..6541fde 100644
+--- a/Telegram/lib_base/base/platform/linux/base_global_shortcuts_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_global_shortcuts_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_haptic_linux.cpp b/Telegram/lib_base/base/platform/linux/base_haptic_linux.cpp
+index 29e18ee..674eb93 100644
+--- a/Telegram/lib_base/base/platform/linux/base_haptic_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_haptic_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_info_linux.cpp b/Telegram/lib_base/base/platform/linux/base_info_linux.cpp
+index 4fb2eb1..8db72a2 100644
+--- a/Telegram/lib_base/base/platform/linux/base_info_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_info_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_last_input_linux.cpp b/Telegram/lib_base/base/platform/linux/base_last_input_linux.cpp
+index 9bd332a..e89948c 100644
+--- a/Telegram/lib_base/base/platform/linux/base_last_input_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_last_input_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_layout_switch_linux.cpp b/Telegram/lib_base/base/platform/linux/base_layout_switch_linux.cpp
+index c99c410..472d2e3 100644
+--- a/Telegram/lib_base/base/platform/linux/base_layout_switch_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_layout_switch_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_linux_allocation_tracer.cpp b/Telegram/lib_base/base/platform/linux/base_linux_allocation_tracer.cpp
+index 62fc24a..1d7b0fd 100644
+--- a/Telegram/lib_base/base/platform/linux/base_linux_allocation_tracer.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_linux_allocation_tracer.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_linux_dbus_utilities.cpp b/Telegram/lib_base/base/platform/linux/base_linux_dbus_utilities.cpp
+index 86316e9..a52f7b4 100644
+--- a/Telegram/lib_base/base/platform/linux/base_linux_dbus_utilities.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_linux_dbus_utilities.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_linux_library.cpp b/Telegram/lib_base/base/platform/linux/base_linux_library.cpp
+index 1b4eb75..523bd95 100644
+--- a/Telegram/lib_base/base/platform/linux/base_linux_library.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_linux_library.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_linux_xcb_utilities.cpp b/Telegram/lib_base/base/platform/linux/base_linux_xcb_utilities.cpp
+index 37f4623..6c32ffe 100644
+--- a/Telegram/lib_base/base/platform/linux/base_linux_xcb_utilities.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_linux_xcb_utilities.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_linux_xdg_activation_token.cpp b/Telegram/lib_base/base/platform/linux/base_linux_xdg_activation_token.cpp
+index 31e8d15..f1c479e 100644
+--- a/Telegram/lib_base/base/platform/linux/base_linux_xdg_activation_token.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_linux_xdg_activation_token.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_linux_xdp_utilities.cpp b/Telegram/lib_base/base/platform/linux/base_linux_xdp_utilities.cpp
+index df4dc86..100e9ba 100644
+--- a/Telegram/lib_base/base/platform/linux/base_linux_xdp_utilities.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_linux_xdp_utilities.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_linux_xsettings.cpp b/Telegram/lib_base/base/platform/linux/base_linux_xsettings.cpp
+index 50519a0..bbee24f 100644
+--- a/Telegram/lib_base/base/platform/linux/base_linux_xsettings.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_linux_xsettings.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_network_reachability_linux.cpp b/Telegram/lib_base/base/platform/linux/base_network_reachability_linux.cpp
+index 145b02e..2e91765 100644
+--- a/Telegram/lib_base/base/platform/linux/base_network_reachability_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_network_reachability_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_power_save_blocker_linux.cpp b/Telegram/lib_base/base/platform/linux/base_power_save_blocker_linux.cpp
+index 5d4a40b..2884ed2 100644
+--- a/Telegram/lib_base/base/platform/linux/base_power_save_blocker_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_power_save_blocker_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_process_linux.cpp b/Telegram/lib_base/base/platform/linux/base_process_linux.cpp
+index 6ae721b..549cf82 100644
+--- a/Telegram/lib_base/base/platform/linux/base_process_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_process_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_system_media_controls_linux.cpp b/Telegram/lib_base/base/platform/linux/base_system_media_controls_linux.cpp
+index b3f0bbd..9972ad9 100644
+--- a/Telegram/lib_base/base/platform/linux/base_system_media_controls_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_system_media_controls_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_system_unlock_linux.cpp b/Telegram/lib_base/base/platform/linux/base_system_unlock_linux.cpp
+index e72d450..f9cb2e0 100644
+--- a/Telegram/lib_base/base/platform/linux/base_system_unlock_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_system_unlock_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp b/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp
+index de188ac..6fb3be1 100644
+--- a/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp
++++ b/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_battery_saving_win.cpp b/Telegram/lib_base/base/platform/win/base_battery_saving_win.cpp
+index 173cc54..c707be5 100644
+--- a/Telegram/lib_base/base/platform/win/base_battery_saving_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_battery_saving_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_file_utilities_win.cpp b/Telegram/lib_base/base/platform/win/base_file_utilities_win.cpp
+index e71dbf5..07a6b76 100644
+--- a/Telegram/lib_base/base/platform/win/base_file_utilities_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_file_utilities_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_global_shortcuts_win.cpp b/Telegram/lib_base/base/platform/win/base_global_shortcuts_win.cpp
+index f29a1bd..66e8216 100644
+--- a/Telegram/lib_base/base/platform/win/base_global_shortcuts_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_global_shortcuts_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_info_win.cpp b/Telegram/lib_base/base/platform/win/base_info_win.cpp
+index 331b3ba..ee3d347 100644
+--- a/Telegram/lib_base/base/platform/win/base_info_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_info_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_last_input_win.cpp b/Telegram/lib_base/base/platform/win/base_last_input_win.cpp
+index a9bfd85..58404d9 100644
+--- a/Telegram/lib_base/base/platform/win/base_last_input_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_last_input_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_layout_switch_win.cpp b/Telegram/lib_base/base/platform/win/base_layout_switch_win.cpp
+index 4c39290..e8780db 100644
+--- a/Telegram/lib_base/base/platform/win/base_layout_switch_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_layout_switch_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_network_reachability_win.cpp b/Telegram/lib_base/base/platform/win/base_network_reachability_win.cpp
+index 7e87601..126d8b2 100644
+--- a/Telegram/lib_base/base/platform/win/base_network_reachability_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_network_reachability_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_power_save_blocker_win.cpp b/Telegram/lib_base/base/platform/win/base_power_save_blocker_win.cpp
+index 7c79fee..36fbf4f 100644
+--- a/Telegram/lib_base/base/platform/win/base_power_save_blocker_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_power_save_blocker_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_process_win.cpp b/Telegram/lib_base/base/platform/win/base_process_win.cpp
+index 6ac364e..85301f3 100644
+--- a/Telegram/lib_base/base/platform/win/base_process_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_process_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_system_media_controls_win.cpp b/Telegram/lib_base/base/platform/win/base_system_media_controls_win.cpp
+index 168287f..38d40b6 100644
+--- a/Telegram/lib_base/base/platform/win/base_system_media_controls_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_system_media_controls_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_url_scheme_win.cpp b/Telegram/lib_base/base/platform/win/base_url_scheme_win.cpp
+index 5e094e2..00e5327 100644
+--- a/Telegram/lib_base/base/platform/win/base_url_scheme_win.cpp
++++ b/Telegram/lib_base/base/platform/win/base_url_scheme_win.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_windows_safe_library.cpp b/Telegram/lib_base/base/platform/win/base_windows_safe_library.cpp
+index d30c65f..3648a98 100644
+--- a/Telegram/lib_base/base/platform/win/base_windows_safe_library.cpp
++++ b/Telegram/lib_base/base/platform/win/base_windows_safe_library.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_windows_winrt.cpp b/Telegram/lib_base/base/platform/win/base_windows_winrt.cpp
+index 5c645e0..8d8868c 100644
+--- a/Telegram/lib_base/base/platform/win/base_windows_winrt.cpp
++++ b/Telegram/lib_base/base/platform/win/base_windows_winrt.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/platform/win/base_windows_wrl.cpp b/Telegram/lib_base/base/platform/win/base_windows_wrl.cpp
+index 38e08c0..52c4114 100644
+--- a/Telegram/lib_base/base/platform/win/base_windows_wrl.cpp
++++ b/Telegram/lib_base/base/platform/win/base_windows_wrl.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/power_save_blocker.cpp b/Telegram/lib_base/base/power_save_blocker.cpp
+index 93decb2..ea9bede 100644
+--- a/Telegram/lib_base/base/power_save_blocker.cpp
++++ b/Telegram/lib_base/base/power_save_blocker.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/qt/qt_tab_key.cpp b/Telegram/lib_base/base/qt/qt_tab_key.cpp
+index 52a0aa9..17c2a9c 100644
+--- a/Telegram/lib_base/base/qt/qt_tab_key.cpp
++++ b/Telegram/lib_base/base/qt/qt_tab_key.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/qthelp_url.cpp b/Telegram/lib_base/base/qthelp_url.cpp
+index eed4439..c71d700 100644
+--- a/Telegram/lib_base/base/qthelp_url.cpp
++++ b/Telegram/lib_base/base/qthelp_url.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/random.cpp b/Telegram/lib_base/base/random.cpp
+index c32f8a3..1138857 100644
+--- a/Telegram/lib_base/base/random.cpp
++++ b/Telegram/lib_base/base/random.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/runtime_composer.cpp b/Telegram/lib_base/base/runtime_composer.cpp
+index f765c28..41ae014 100644
+--- a/Telegram/lib_base/base/runtime_composer.cpp
++++ b/Telegram/lib_base/base/runtime_composer.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/single_instance.cpp b/Telegram/lib_base/base/single_instance.cpp
+index b8af943..95dee8f 100644
+--- a/Telegram/lib_base/base/single_instance.cpp
++++ b/Telegram/lib_base/base/single_instance.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/tests_main.cpp b/Telegram/lib_base/base/tests_main.cpp
+index f7c38a4..50e03f6 100644
+--- a/Telegram/lib_base/base/tests_main.cpp
++++ b/Telegram/lib_base/base/tests_main.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/timer.cpp b/Telegram/lib_base/base/timer.cpp
+index 73211de..35f4251 100644
+--- a/Telegram/lib_base/base/timer.cpp
++++ b/Telegram/lib_base/base/timer.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_base/base/unixtime.cpp b/Telegram/lib_base/base/unixtime.cpp
+index b39b788..6fb5606 100644
+--- a/Telegram/lib_base/base/unixtime.cpp
++++ b/Telegram/lib_base/base/unixtime.cpp
+@@ -1,3 +1,4 @@
++#include "base/base_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/platform/linux/language_linux.cpp b/Telegram/lib_spellcheck/spellcheck/platform/linux/language_linux.cpp
+index a691889..6b266ef 100644
+--- a/Telegram/lib_spellcheck/spellcheck/platform/linux/language_linux.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/platform/linux/language_linux.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/platform/linux/linux_enchant.cpp b/Telegram/lib_spellcheck/spellcheck/platform/linux/linux_enchant.cpp
+index 8d25ee0..1d2fe23 100644
+--- a/Telegram/lib_spellcheck/spellcheck/platform/linux/linux_enchant.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/platform/linux/linux_enchant.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ /* enchant
+  * Copyright (C) 2003 Dom Lachowicz
+  *
+diff --git a/Telegram/lib_spellcheck/spellcheck/platform/linux/spellcheck_linux.cpp b/Telegram/lib_spellcheck/spellcheck/platform/linux/spellcheck_linux.cpp
+index 3e839c7..86e975c 100644
+--- a/Telegram/lib_spellcheck/spellcheck/platform/linux/spellcheck_linux.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/platform/linux/spellcheck_linux.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/platform/win/language_win.cpp b/Telegram/lib_spellcheck/spellcheck/platform/win/language_win.cpp
+index 847aaa2..effb47d 100644
+--- a/Telegram/lib_spellcheck/spellcheck/platform/win/language_win.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/platform/win/language_win.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/platform/win/spellcheck_win.cpp b/Telegram/lib_spellcheck/spellcheck/platform/win/spellcheck_win.cpp
+index 431effd..3166ff3 100644
+--- a/Telegram/lib_spellcheck/spellcheck/platform/win/spellcheck_win.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/platform/win/spellcheck_win.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/spellcheck_highlight_syntax.cpp b/Telegram/lib_spellcheck/spellcheck/spellcheck_highlight_syntax.cpp
+index f2a556b..0471fb8 100644
+--- a/Telegram/lib_spellcheck/spellcheck/spellcheck_highlight_syntax.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/spellcheck_highlight_syntax.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/spellcheck_utils.cpp b/Telegram/lib_spellcheck/spellcheck/spellcheck_utils.cpp
+index efeb6da..57a8f6a 100644
+--- a/Telegram/lib_spellcheck/spellcheck/spellcheck_utils.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/spellcheck_utils.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/spellcheck_value.cpp b/Telegram/lib_spellcheck/spellcheck/spellcheck_value.cpp
+index 5d25149..892db16 100644
+--- a/Telegram/lib_spellcheck/spellcheck/spellcheck_value.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/spellcheck_value.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/spelling_highlighter.cpp b/Telegram/lib_spellcheck/spellcheck/spelling_highlighter.cpp
+index 41c6612..c1dd9dd 100644
+--- a/Telegram/lib_spellcheck/spellcheck/spelling_highlighter.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/spelling_highlighter.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/spelling_highlighter_helper.cpp b/Telegram/lib_spellcheck/spellcheck/spelling_highlighter_helper.cpp
+index 4730bc8..7f2612e 100644
+--- a/Telegram/lib_spellcheck/spellcheck/spelling_highlighter_helper.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/spelling_highlighter_helper.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/third_party/hunspell_controller.cpp b/Telegram/lib_spellcheck/spellcheck/third_party/hunspell_controller.cpp
+index 97a5bcd..4b85fc5 100644
+--- a/Telegram/lib_spellcheck/spellcheck/third_party/hunspell_controller.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/third_party/hunspell_controller.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/third_party/language_cld3.cpp b/Telegram/lib_spellcheck/spellcheck/third_party/language_cld3.cpp
+index 9c82321..d30fb96 100644
+--- a/Telegram/lib_spellcheck/spellcheck/third_party/language_cld3.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/third_party/language_cld3.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_spellcheck/spellcheck/third_party/spellcheck_hunspell.cpp b/Telegram/lib_spellcheck/spellcheck/third_party/spellcheck_hunspell.cpp
+index 895f74e..09c54a6 100644
+--- a/Telegram/lib_spellcheck/spellcheck/third_party/spellcheck_hunspell.cpp
++++ b/Telegram/lib_spellcheck/spellcheck/third_party/spellcheck_hunspell.cpp
+@@ -1,3 +1,4 @@
++#include "spellcheck/spellcheck_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/cache/storage_cache_binlog_reader.cpp b/Telegram/lib_storage/storage/cache/storage_cache_binlog_reader.cpp
+index 1586b7c..a48dabb 100644
+--- a/Telegram/lib_storage/storage/cache/storage_cache_binlog_reader.cpp
++++ b/Telegram/lib_storage/storage/cache/storage_cache_binlog_reader.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/cache/storage_cache_cleaner.cpp b/Telegram/lib_storage/storage/cache/storage_cache_cleaner.cpp
+index ae6b8a6..0cb16ea 100644
+--- a/Telegram/lib_storage/storage/cache/storage_cache_cleaner.cpp
++++ b/Telegram/lib_storage/storage/cache/storage_cache_cleaner.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/cache/storage_cache_compactor.cpp b/Telegram/lib_storage/storage/cache/storage_cache_compactor.cpp
+index 57b2c23..b5711b9 100644
+--- a/Telegram/lib_storage/storage/cache/storage_cache_compactor.cpp
++++ b/Telegram/lib_storage/storage/cache/storage_cache_compactor.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/cache/storage_cache_database.cpp b/Telegram/lib_storage/storage/cache/storage_cache_database.cpp
+index 894b3cd..8bf1f5a 100644
+--- a/Telegram/lib_storage/storage/cache/storage_cache_database.cpp
++++ b/Telegram/lib_storage/storage/cache/storage_cache_database.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/cache/storage_cache_database_object.cpp b/Telegram/lib_storage/storage/cache/storage_cache_database_object.cpp
+index ff9db28..6115b70 100644
+--- a/Telegram/lib_storage/storage/cache/storage_cache_database_object.cpp
++++ b/Telegram/lib_storage/storage/cache/storage_cache_database_object.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/cache/storage_cache_types.cpp b/Telegram/lib_storage/storage/cache/storage_cache_types.cpp
+index 5ec225c..c163984 100644
+--- a/Telegram/lib_storage/storage/cache/storage_cache_types.cpp
++++ b/Telegram/lib_storage/storage/cache/storage_cache_types.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/cache/storage_encrypted_file_tests.cpp b/Telegram/lib_storage/storage/cache/storage_encrypted_file_tests.cpp
+index 86c7d63..acf7041 100644
+--- a/Telegram/lib_storage/storage/cache/storage_encrypted_file_tests.cpp
++++ b/Telegram/lib_storage/storage/cache/storage_encrypted_file_tests.cpp
+@@ -1,3 +1,5 @@
++#include "ui/ui_pch.h"
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/storage_clear_legacy.cpp b/Telegram/lib_storage/storage/storage_clear_legacy.cpp
+index 255fd3e..68dbc9c 100644
+--- a/Telegram/lib_storage/storage/storage_clear_legacy.cpp
++++ b/Telegram/lib_storage/storage/storage_clear_legacy.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/storage_clear_legacy_posix.cpp b/Telegram/lib_storage/storage/storage_clear_legacy_posix.cpp
+index 6b4b1d1..e293386 100644
+--- a/Telegram/lib_storage/storage/storage_clear_legacy_posix.cpp
++++ b/Telegram/lib_storage/storage/storage_clear_legacy_posix.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/storage_clear_legacy_win.cpp b/Telegram/lib_storage/storage/storage_clear_legacy_win.cpp
+index 8309afc..8e9a32b 100644
+--- a/Telegram/lib_storage/storage/storage_clear_legacy_win.cpp
++++ b/Telegram/lib_storage/storage/storage_clear_legacy_win.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/storage_databases.cpp b/Telegram/lib_storage/storage/storage_databases.cpp
+index 6fd0809..8929af8 100644
+--- a/Telegram/lib_storage/storage/storage_databases.cpp
++++ b/Telegram/lib_storage/storage/storage_databases.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/storage_encrypted_file.cpp b/Telegram/lib_storage/storage/storage_encrypted_file.cpp
+index ca62baa..e12a255 100644
+--- a/Telegram/lib_storage/storage/storage_encrypted_file.cpp
++++ b/Telegram/lib_storage/storage/storage_encrypted_file.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_storage/storage/storage_encryption.cpp b/Telegram/lib_storage/storage/storage_encryption.cpp
+index c4c14ef..1b487a8 100644
+--- a/Telegram/lib_storage/storage/storage_encryption.cpp
++++ b/Telegram/lib_storage/storage/storage_encryption.cpp
+@@ -1,3 +1,4 @@
++#include "storage/storage_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/emoji_suggestions/emoji_suggestions.h b/Telegram/lib_ui/emoji_suggestions/emoji_suggestions.h
+index 1725a2a..2ad5ab5 100644
+--- a/Telegram/lib_ui/emoji_suggestions/emoji_suggestions.h
++++ b/Telegram/lib_ui/emoji_suggestions/emoji_suggestions.h
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/abstract_button.cpp b/Telegram/lib_ui/ui/abstract_button.cpp
+index 79958e0..5b8d36e 100644
+--- a/Telegram/lib_ui/ui/abstract_button.cpp
++++ b/Telegram/lib_ui/ui/abstract_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/animated_icon.cpp b/Telegram/lib_ui/ui/animated_icon.cpp
+index d0e7699..4c7559b 100644
+--- a/Telegram/lib_ui/ui/animated_icon.cpp
++++ b/Telegram/lib_ui/ui/animated_icon.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/basic_click_handlers.cpp b/Telegram/lib_ui/ui/basic_click_handlers.cpp
+index cdd4624..74a4fe9 100644
+--- a/Telegram/lib_ui/ui/basic_click_handlers.cpp
++++ b/Telegram/lib_ui/ui/basic_click_handlers.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/cached_special_layer_shadow_corners.cpp b/Telegram/lib_ui/ui/cached_special_layer_shadow_corners.cpp
+index 0d98360..3b9f062 100644
+--- a/Telegram/lib_ui/ui/cached_special_layer_shadow_corners.cpp
++++ b/Telegram/lib_ui/ui/cached_special_layer_shadow_corners.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/click_handler.cpp b/Telegram/lib_ui/ui/click_handler.cpp
+index 3631c54..9248fef 100644
+--- a/Telegram/lib_ui/ui/click_handler.cpp
++++ b/Telegram/lib_ui/ui/click_handler.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/delayed_activation.cpp b/Telegram/lib_ui/ui/delayed_activation.cpp
+index fbb3d96..3678906 100644
+--- a/Telegram/lib_ui/ui/delayed_activation.cpp
++++ b/Telegram/lib_ui/ui/delayed_activation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/dpr/dpr_icon.cpp b/Telegram/lib_ui/ui/dpr/dpr_icon.cpp
+index 6515cd3..7ff9490 100644
+--- a/Telegram/lib_ui/ui/dpr/dpr_icon.cpp
++++ b/Telegram/lib_ui/ui/dpr/dpr_icon.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/dragging_scroll_manager.cpp b/Telegram/lib_ui/ui/dragging_scroll_manager.cpp
+index 011b291..34ad3a0 100644
+--- a/Telegram/lib_ui/ui/dragging_scroll_manager.cpp
++++ b/Telegram/lib_ui/ui/dragging_scroll_manager.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/animation_value.cpp b/Telegram/lib_ui/ui/effects/animation_value.cpp
+index c83c418..bb4661e 100644
+--- a/Telegram/lib_ui/ui/effects/animation_value.cpp
++++ b/Telegram/lib_ui/ui/effects/animation_value.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/animations.cpp b/Telegram/lib_ui/ui/effects/animations.cpp
+index 3fb737a..8acf7ba 100644
+--- a/Telegram/lib_ui/ui/effects/animations.cpp
++++ b/Telegram/lib_ui/ui/effects/animations.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/cross_animation.cpp b/Telegram/lib_ui/ui/effects/cross_animation.cpp
+index e847ab3..13c5237 100644
+--- a/Telegram/lib_ui/ui/effects/cross_animation.cpp
++++ b/Telegram/lib_ui/ui/effects/cross_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/cross_line.cpp b/Telegram/lib_ui/ui/effects/cross_line.cpp
+index aeffdef..3c10db4 100644
+--- a/Telegram/lib_ui/ui/effects/cross_line.cpp
++++ b/Telegram/lib_ui/ui/effects/cross_line.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/fade_animation.cpp b/Telegram/lib_ui/ui/effects/fade_animation.cpp
+index 0908f26..aca6cd1 100644
+--- a/Telegram/lib_ui/ui/effects/fade_animation.cpp
++++ b/Telegram/lib_ui/ui/effects/fade_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/frame_generator.cpp b/Telegram/lib_ui/ui/effects/frame_generator.cpp
+index a50b443..8929a8a 100644
+--- a/Telegram/lib_ui/ui/effects/frame_generator.cpp
++++ b/Telegram/lib_ui/ui/effects/frame_generator.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/gradient.cpp b/Telegram/lib_ui/ui/effects/gradient.cpp
+index f65ae06..9b0a991 100644
+--- a/Telegram/lib_ui/ui/effects/gradient.cpp
++++ b/Telegram/lib_ui/ui/effects/gradient.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/numbers_animation.cpp b/Telegram/lib_ui/ui/effects/numbers_animation.cpp
+index e20b24d..356f861 100644
+--- a/Telegram/lib_ui/ui/effects/numbers_animation.cpp
++++ b/Telegram/lib_ui/ui/effects/numbers_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/panel_animation.cpp b/Telegram/lib_ui/ui/effects/panel_animation.cpp
+index 51144b5..46db429 100644
+--- a/Telegram/lib_ui/ui/effects/panel_animation.cpp
++++ b/Telegram/lib_ui/ui/effects/panel_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/path_shift_gradient.cpp b/Telegram/lib_ui/ui/effects/path_shift_gradient.cpp
+index b8037b1..d3f01ac 100644
+--- a/Telegram/lib_ui/ui/effects/path_shift_gradient.cpp
++++ b/Telegram/lib_ui/ui/effects/path_shift_gradient.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/radial_animation.cpp b/Telegram/lib_ui/ui/effects/radial_animation.cpp
+index a3efc15..6828e9a 100644
+--- a/Telegram/lib_ui/ui/effects/radial_animation.cpp
++++ b/Telegram/lib_ui/ui/effects/radial_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/ripple_animation.cpp b/Telegram/lib_ui/ui/effects/ripple_animation.cpp
+index 3971cc7..f84fb86 100644
+--- a/Telegram/lib_ui/ui/effects/ripple_animation.cpp
++++ b/Telegram/lib_ui/ui/effects/ripple_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/round_area_with_shadow.cpp b/Telegram/lib_ui/ui/effects/round_area_with_shadow.cpp
+index f1bf71a..2e50061 100644
+--- a/Telegram/lib_ui/ui/effects/round_area_with_shadow.cpp
++++ b/Telegram/lib_ui/ui/effects/round_area_with_shadow.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/show_animation.cpp b/Telegram/lib_ui/ui/effects/show_animation.cpp
+index c594119..c68d251 100644
+--- a/Telegram/lib_ui/ui/effects/show_animation.cpp
++++ b/Telegram/lib_ui/ui/effects/show_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/slide_animation.cpp b/Telegram/lib_ui/ui/effects/slide_animation.cpp
+index 06ad3ed..3669220 100644
+--- a/Telegram/lib_ui/ui/effects/slide_animation.cpp
++++ b/Telegram/lib_ui/ui/effects/slide_animation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/effects/spoiler_mess.cpp b/Telegram/lib_ui/ui/effects/spoiler_mess.cpp
+index d4413de..0e0d907 100644
+--- a/Telegram/lib_ui/ui/effects/spoiler_mess.cpp
++++ b/Telegram/lib_ui/ui/effects/spoiler_mess.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/emoji_config.cpp b/Telegram/lib_ui/ui/emoji_config.cpp
+index d720b0d..2370ab3 100644
+--- a/Telegram/lib_ui/ui/emoji_config.cpp
++++ b/Telegram/lib_ui/ui/emoji_config.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/gl/gl_detection.cpp b/Telegram/lib_ui/ui/gl/gl_detection.cpp
+index e574b18..eeba5e0 100644
+--- a/Telegram/lib_ui/ui/gl/gl_detection.cpp
++++ b/Telegram/lib_ui/ui/gl/gl_detection.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/gl/gl_image.cpp b/Telegram/lib_ui/ui/gl/gl_image.cpp
+index cb04fdd..7baec05 100644
+--- a/Telegram/lib_ui/ui/gl/gl_image.cpp
++++ b/Telegram/lib_ui/ui/gl/gl_image.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/gl/gl_math.cpp b/Telegram/lib_ui/ui/gl/gl_math.cpp
+index 92da4cc..01ac737 100644
+--- a/Telegram/lib_ui/ui/gl/gl_math.cpp
++++ b/Telegram/lib_ui/ui/gl/gl_math.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/gl/gl_primitives.cpp b/Telegram/lib_ui/ui/gl/gl_primitives.cpp
+index 9b8b785..e03618e 100644
+--- a/Telegram/lib_ui/ui/gl/gl_primitives.cpp
++++ b/Telegram/lib_ui/ui/gl/gl_primitives.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/gl/gl_shader.cpp b/Telegram/lib_ui/ui/gl/gl_shader.cpp
+index f306bbe..a82a898 100644
+--- a/Telegram/lib_ui/ui/gl/gl_shader.cpp
++++ b/Telegram/lib_ui/ui/gl/gl_shader.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/gl/gl_surface.cpp b/Telegram/lib_ui/ui/gl/gl_surface.cpp
+index 7945510..cbfb9a1 100644
+--- a/Telegram/lib_ui/ui/gl/gl_surface.cpp
++++ b/Telegram/lib_ui/ui/gl/gl_surface.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/gl/gl_window.cpp b/Telegram/lib_ui/ui/gl/gl_window.cpp
+index da0a2bc..30dfa66 100644
+--- a/Telegram/lib_ui/ui/gl/gl_window.cpp
++++ b/Telegram/lib_ui/ui/gl/gl_window.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/image/image_prepare.cpp b/Telegram/lib_ui/ui/image/image_prepare.cpp
+index 2130b98..50a1b2b 100644
+--- a/Telegram/lib_ui/ui/image/image_prepare.cpp
++++ b/Telegram/lib_ui/ui/image/image_prepare.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/inactive_press.cpp b/Telegram/lib_ui/ui/inactive_press.cpp
+index b30bf05..3ea28c8 100644
+--- a/Telegram/lib_ui/ui/inactive_press.cpp
++++ b/Telegram/lib_ui/ui/inactive_press.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/integration.cpp b/Telegram/lib_ui/ui/integration.cpp
+index 431a9bb..e7f4e8f 100644
+--- a/Telegram/lib_ui/ui/integration.cpp
++++ b/Telegram/lib_ui/ui/integration.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/layers/box_content.cpp b/Telegram/lib_ui/ui/layers/box_content.cpp
+index 5a37818..085c037 100644
+--- a/Telegram/lib_ui/ui/layers/box_content.cpp
++++ b/Telegram/lib_ui/ui/layers/box_content.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/layers/box_layer_widget.cpp b/Telegram/lib_ui/ui/layers/box_layer_widget.cpp
+index 89031b0..ff8614f 100644
+--- a/Telegram/lib_ui/ui/layers/box_layer_widget.cpp
++++ b/Telegram/lib_ui/ui/layers/box_layer_widget.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/layers/generic_box.cpp b/Telegram/lib_ui/ui/layers/generic_box.cpp
+index bfcc7aa..c64e64d 100644
+--- a/Telegram/lib_ui/ui/layers/generic_box.cpp
++++ b/Telegram/lib_ui/ui/layers/generic_box.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/layers/layer_manager.cpp b/Telegram/lib_ui/ui/layers/layer_manager.cpp
+index cad285f..3f54577 100644
+--- a/Telegram/lib_ui/ui/layers/layer_manager.cpp
++++ b/Telegram/lib_ui/ui/layers/layer_manager.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/layers/layer_widget.cpp b/Telegram/lib_ui/ui/layers/layer_widget.cpp
+index 73be95d..ef7a6e0 100644
+--- a/Telegram/lib_ui/ui/layers/layer_widget.cpp
++++ b/Telegram/lib_ui/ui/layers/layer_widget.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/layers/show.cpp b/Telegram/lib_ui/ui/layers/show.cpp
+index f28c64b..8ec0f89 100644
+--- a/Telegram/lib_ui/ui/layers/show.cpp
++++ b/Telegram/lib_ui/ui/layers/show.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/main_queue_processor.cpp b/Telegram/lib_ui/ui/main_queue_processor.cpp
+index 76e36a9..7d8c8ed 100644
+--- a/Telegram/lib_ui/ui/main_queue_processor.cpp
++++ b/Telegram/lib_ui/ui/main_queue_processor.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/paint/arcs.cpp b/Telegram/lib_ui/ui/paint/arcs.cpp
+index 2f346e4..ed8efdd 100644
+--- a/Telegram/lib_ui/ui/paint/arcs.cpp
++++ b/Telegram/lib_ui/ui/paint/arcs.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/paint/blob.cpp b/Telegram/lib_ui/ui/paint/blob.cpp
+index 5722659..d421048 100644
+--- a/Telegram/lib_ui/ui/paint/blob.cpp
++++ b/Telegram/lib_ui/ui/paint/blob.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/paint/blobs.cpp b/Telegram/lib_ui/ui/paint/blobs.cpp
+index 00e2cb8..be15cbf 100644
+--- a/Telegram/lib_ui/ui/paint/blobs.cpp
++++ b/Telegram/lib_ui/ui/paint/blobs.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/paint/blobs_linear.cpp b/Telegram/lib_ui/ui/paint/blobs_linear.cpp
+index 4d274f2..f5e52a1 100644
+--- a/Telegram/lib_ui/ui/paint/blobs_linear.cpp
++++ b/Telegram/lib_ui/ui/paint/blobs_linear.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/ph.cpp b/Telegram/lib_ui/ui/ph.cpp
+index 620db93..03a686c 100644
+--- a/Telegram/lib_ui/ui/ph.cpp
++++ b/Telegram/lib_ui/ui/ph.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/platform/linux/ui_utility_linux.cpp b/Telegram/lib_ui/ui/platform/linux/ui_utility_linux.cpp
+index 02ada1f..430778a 100644
+--- a/Telegram/lib_ui/ui/platform/linux/ui_utility_linux.cpp
++++ b/Telegram/lib_ui/ui/platform/linux/ui_utility_linux.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/platform/linux/ui_window_linux.cpp b/Telegram/lib_ui/ui/platform/linux/ui_window_linux.cpp
+index dd1a463..305e285 100644
+--- a/Telegram/lib_ui/ui/platform/linux/ui_window_linux.cpp
++++ b/Telegram/lib_ui/ui/platform/linux/ui_window_linux.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/platform/linux/ui_window_title_linux.cpp b/Telegram/lib_ui/ui/platform/linux/ui_window_title_linux.cpp
+index d257590..26de4ef 100644
+--- a/Telegram/lib_ui/ui/platform/linux/ui_window_title_linux.cpp
++++ b/Telegram/lib_ui/ui/platform/linux/ui_window_title_linux.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/platform/ui_platform_window.cpp b/Telegram/lib_ui/ui/platform/ui_platform_window.cpp
+index 5e4fc87..432b51b 100644
+--- a/Telegram/lib_ui/ui/platform/ui_platform_window.cpp
++++ b/Telegram/lib_ui/ui/platform/ui_platform_window.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/platform/ui_platform_window_title.cpp b/Telegram/lib_ui/ui/platform/ui_platform_window_title.cpp
+index cb34348..912b808 100644
+--- a/Telegram/lib_ui/ui/platform/ui_platform_window_title.cpp
++++ b/Telegram/lib_ui/ui/platform/ui_platform_window_title.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/platform/win/ui_utility_win.cpp b/Telegram/lib_ui/ui/platform/win/ui_utility_win.cpp
+index e72744f..084c617 100644
+--- a/Telegram/lib_ui/ui/platform/win/ui_utility_win.cpp
++++ b/Telegram/lib_ui/ui/platform/win/ui_utility_win.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/platform/win/ui_window_shadow_win.cpp b/Telegram/lib_ui/ui/platform/win/ui_window_shadow_win.cpp
+index eed9bb9..6c05f73 100644
+--- a/Telegram/lib_ui/ui/platform/win/ui_window_shadow_win.cpp
++++ b/Telegram/lib_ui/ui/platform/win/ui_window_shadow_win.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/platform/win/ui_window_title_win.cpp b/Telegram/lib_ui/ui/platform/win/ui_window_title_win.cpp
+index 9971ac5..1b073f4 100644
+--- a/Telegram/lib_ui/ui/platform/win/ui_window_title_win.cpp
++++ b/Telegram/lib_ui/ui/platform/win/ui_window_title_win.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/platform/win/ui_window_win.cpp b/Telegram/lib_ui/ui/platform/win/ui_window_win.cpp
+index e4cb1d7..ea39c9d 100644
+--- a/Telegram/lib_ui/ui/platform/win/ui_window_win.cpp
++++ b/Telegram/lib_ui/ui/platform/win/ui_window_win.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/platform/win/ui_windows_direct_manipulation.cpp b/Telegram/lib_ui/ui/platform/win/ui_windows_direct_manipulation.cpp
+index 95e8224..4a7ac69 100644
+--- a/Telegram/lib_ui/ui/platform/win/ui_windows_direct_manipulation.cpp
++++ b/Telegram/lib_ui/ui/platform/win/ui_windows_direct_manipulation.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/round_rect.cpp b/Telegram/lib_ui/ui/round_rect.cpp
+index d539462..81d540e 100644
+--- a/Telegram/lib_ui/ui/round_rect.cpp
++++ b/Telegram/lib_ui/ui/round_rect.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/rp_widget.cpp b/Telegram/lib_ui/ui/rp_widget.cpp
+index d8fa3ec..034e331 100644
+--- a/Telegram/lib_ui/ui/rp_widget.cpp
++++ b/Telegram/lib_ui/ui/rp_widget.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/style/style_core.cpp b/Telegram/lib_ui/ui/style/style_core.cpp
+index e589944..da59c94 100644
+--- a/Telegram/lib_ui/ui/style/style_core.cpp
++++ b/Telegram/lib_ui/ui/style/style_core.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/style/style_core_color.cpp b/Telegram/lib_ui/ui/style/style_core_color.cpp
+index 3325cfd..f0923c1 100644
+--- a/Telegram/lib_ui/ui/style/style_core_color.cpp
++++ b/Telegram/lib_ui/ui/style/style_core_color.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/style/style_core_direction.cpp b/Telegram/lib_ui/ui/style/style_core_direction.cpp
+index a276df1..23b73dc 100644
+--- a/Telegram/lib_ui/ui/style/style_core_direction.cpp
++++ b/Telegram/lib_ui/ui/style/style_core_direction.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/style/style_core_font.cpp b/Telegram/lib_ui/ui/style/style_core_font.cpp
+index 8466134..90f76e1 100644
+--- a/Telegram/lib_ui/ui/style/style_core_font.cpp
++++ b/Telegram/lib_ui/ui/style/style_core_font.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/style/style_core_icon.cpp b/Telegram/lib_ui/ui/style/style_core_icon.cpp
+index d90d2f6..b1971da 100644
+--- a/Telegram/lib_ui/ui/style/style_core_icon.cpp
++++ b/Telegram/lib_ui/ui/style/style_core_icon.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/style/style_core_palette.cpp b/Telegram/lib_ui/ui/style/style_core_palette.cpp
+index bad3e65..9600496 100644
+--- a/Telegram/lib_ui/ui/style/style_core_palette.cpp
++++ b/Telegram/lib_ui/ui/style/style_core_palette.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/style/style_core_scale.cpp b/Telegram/lib_ui/ui/style/style_core_scale.cpp
+index b6be737..5fd378c 100644
+--- a/Telegram/lib_ui/ui/style/style_core_scale.cpp
++++ b/Telegram/lib_ui/ui/style/style_core_scale.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/style/style_core_scale.h b/Telegram/lib_ui/ui/style/style_core_scale.h
+index 23ea43b..9642786 100644
+--- a/Telegram/lib_ui/ui/style/style_core_scale.h
++++ b/Telegram/lib_ui/ui/style/style_core_scale.h
+@@ -6,6 +6,7 @@
+ //
+ #pragma once
+ 
++#include "base/basic_types.h"
+ #include "base/algorithm.h"
+ #include "base/assertion.h"
+ 
+diff --git a/Telegram/lib_ui/ui/style/style_core_types.cpp b/Telegram/lib_ui/ui/style/style_core_types.cpp
+index a39a1d8..5fd0714 100644
+--- a/Telegram/lib_ui/ui/style/style_core_types.cpp
++++ b/Telegram/lib_ui/ui/style/style_core_types.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/style/style_palette_colorizer.cpp b/Telegram/lib_ui/ui/style/style_palette_colorizer.cpp
+index 491d8cd..2122f20 100644
+--- a/Telegram/lib_ui/ui/style/style_palette_colorizer.cpp
++++ b/Telegram/lib_ui/ui/style/style_palette_colorizer.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/custom_emoji_instance.cpp b/Telegram/lib_ui/ui/text/custom_emoji_instance.cpp
+index 3148a07..4fcf221 100644
+--- a/Telegram/lib_ui/ui/text/custom_emoji_instance.cpp
++++ b/Telegram/lib_ui/ui/text/custom_emoji_instance.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text.cpp b/Telegram/lib_ui/ui/text/text.cpp
+index b33aea0..5cd13a5 100644
+--- a/Telegram/lib_ui/ui/text/text.cpp
++++ b/Telegram/lib_ui/ui/text/text.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text_block.cpp b/Telegram/lib_ui/ui/text/text_block.cpp
+index f33f0bd..b05b081 100644
+--- a/Telegram/lib_ui/ui/text/text_block.cpp
++++ b/Telegram/lib_ui/ui/text/text_block.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text_block_parser.cpp b/Telegram/lib_ui/ui/text/text_block_parser.cpp
+index cfd8f8d..c81fc47 100644
+--- a/Telegram/lib_ui/ui/text/text_block_parser.cpp
++++ b/Telegram/lib_ui/ui/text/text_block_parser.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text_custom_emoji.cpp b/Telegram/lib_ui/ui/text/text_custom_emoji.cpp
+index c17a4c0..0416c4a 100644
+--- a/Telegram/lib_ui/ui/text/text_custom_emoji.cpp
++++ b/Telegram/lib_ui/ui/text/text_custom_emoji.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text_entity.cpp b/Telegram/lib_ui/ui/text/text_entity.cpp
+index 810f576..be6c6fc 100644
+--- a/Telegram/lib_ui/ui/text/text_entity.cpp
++++ b/Telegram/lib_ui/ui/text/text_entity.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text_extended_data.cpp b/Telegram/lib_ui/ui/text/text_extended_data.cpp
+index 5bffdca..d648cb1 100644
+--- a/Telegram/lib_ui/ui/text/text_extended_data.cpp
++++ b/Telegram/lib_ui/ui/text/text_extended_data.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text_renderer.cpp b/Telegram/lib_ui/ui/text/text_renderer.cpp
+index 12ce001..7767c69 100644
+--- a/Telegram/lib_ui/ui/text/text_renderer.cpp
++++ b/Telegram/lib_ui/ui/text/text_renderer.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text_stack_engine.cpp b/Telegram/lib_ui/ui/text/text_stack_engine.cpp
+index 339745c..c7bdecc 100644
+--- a/Telegram/lib_ui/ui/text/text_stack_engine.cpp
++++ b/Telegram/lib_ui/ui/text/text_stack_engine.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text_utilities.cpp b/Telegram/lib_ui/ui/text/text_utilities.cpp
+index 7a5dad0..c18fdca 100644
+--- a/Telegram/lib_ui/ui/text/text_utilities.cpp
++++ b/Telegram/lib_ui/ui/text/text_utilities.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text_variant.cpp b/Telegram/lib_ui/ui/text/text_variant.cpp
+index 943867c..63b7e9c 100644
+--- a/Telegram/lib_ui/ui/text/text_variant.cpp
++++ b/Telegram/lib_ui/ui/text/text_variant.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/text/text_word_parser.cpp b/Telegram/lib_ui/ui/text/text_word_parser.cpp
+index 6561e79..a2e9ad1 100644
+--- a/Telegram/lib_ui/ui/text/text_word_parser.cpp
++++ b/Telegram/lib_ui/ui/text/text_word_parser.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/toast/toast.cpp b/Telegram/lib_ui/ui/toast/toast.cpp
+index 4865c1d..47f56af 100644
+--- a/Telegram/lib_ui/ui/toast/toast.cpp
++++ b/Telegram/lib_ui/ui/toast/toast.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/toast/toast_manager.cpp b/Telegram/lib_ui/ui/toast/toast_manager.cpp
+index 11302ab..102cc9d 100644
+--- a/Telegram/lib_ui/ui/toast/toast_manager.cpp
++++ b/Telegram/lib_ui/ui/toast/toast_manager.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/toast/toast_widget.cpp b/Telegram/lib_ui/ui/toast/toast_widget.cpp
+index 4a2284b..c57b3dc 100644
+--- a/Telegram/lib_ui/ui/toast/toast_widget.cpp
++++ b/Telegram/lib_ui/ui/toast/toast_widget.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/ui_utility.cpp b/Telegram/lib_ui/ui/ui_utility.cpp
+index ea43678..dbf248e 100644
+--- a/Telegram/lib_ui/ui/ui_utility.cpp
++++ b/Telegram/lib_ui/ui/ui_utility.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/box_content_divider.cpp b/Telegram/lib_ui/ui/widgets/box_content_divider.cpp
+index 0e4469b..78e952b 100644
+--- a/Telegram/lib_ui/ui/widgets/box_content_divider.cpp
++++ b/Telegram/lib_ui/ui/widgets/box_content_divider.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/buttons.cpp b/Telegram/lib_ui/ui/widgets/buttons.cpp
+index ad19937..6a81abe 100644
+--- a/Telegram/lib_ui/ui/widgets/buttons.cpp
++++ b/Telegram/lib_ui/ui/widgets/buttons.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/call_button.cpp b/Telegram/lib_ui/ui/widgets/call_button.cpp
+index 834b726..9413d10 100644
+--- a/Telegram/lib_ui/ui/widgets/call_button.cpp
++++ b/Telegram/lib_ui/ui/widgets/call_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/checkbox.cpp b/Telegram/lib_ui/ui/widgets/checkbox.cpp
+index f4ea0a0..06c2d5f 100644
+--- a/Telegram/lib_ui/ui/widgets/checkbox.cpp
++++ b/Telegram/lib_ui/ui/widgets/checkbox.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/dropdown_menu.cpp b/Telegram/lib_ui/ui/widgets/dropdown_menu.cpp
+index 070c43f..8894ded 100644
+--- a/Telegram/lib_ui/ui/widgets/dropdown_menu.cpp
++++ b/Telegram/lib_ui/ui/widgets/dropdown_menu.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/elastic_scroll.cpp b/Telegram/lib_ui/ui/widgets/elastic_scroll.cpp
+index 4e5981e..351eb87 100644
+--- a/Telegram/lib_ui/ui/widgets/elastic_scroll.cpp
++++ b/Telegram/lib_ui/ui/widgets/elastic_scroll.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/fields/custom_field_object.cpp b/Telegram/lib_ui/ui/widgets/fields/custom_field_object.cpp
+index 67e2893..f520d1c 100644
+--- a/Telegram/lib_ui/ui/widgets/fields/custom_field_object.cpp
++++ b/Telegram/lib_ui/ui/widgets/fields/custom_field_object.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/fields/input_field.cpp b/Telegram/lib_ui/ui/widgets/fields/input_field.cpp
+index 7f3c6b4..0c7ed6a 100644
+--- a/Telegram/lib_ui/ui/widgets/fields/input_field.cpp
++++ b/Telegram/lib_ui/ui/widgets/fields/input_field.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/fields/masked_input_field.cpp b/Telegram/lib_ui/ui/widgets/fields/masked_input_field.cpp
+index aba828c..a7cfba2 100644
+--- a/Telegram/lib_ui/ui/widgets/fields/masked_input_field.cpp
++++ b/Telegram/lib_ui/ui/widgets/fields/masked_input_field.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/fields/masked_input_field.h b/Telegram/lib_ui/ui/widgets/fields/masked_input_field.h
+index 1b09430..27c4578 100644
+--- a/Telegram/lib_ui/ui/widgets/fields/masked_input_field.h
++++ b/Telegram/lib_ui/ui/widgets/fields/masked_input_field.h
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/fields/number_input.cpp b/Telegram/lib_ui/ui/widgets/fields/number_input.cpp
+index ceb5a6f..76c4eb2 100644
+--- a/Telegram/lib_ui/ui/widgets/fields/number_input.cpp
++++ b/Telegram/lib_ui/ui/widgets/fields/number_input.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/fields/password_input.cpp b/Telegram/lib_ui/ui/widgets/fields/password_input.cpp
+index b0cbd70..50d1fe0 100644
+--- a/Telegram/lib_ui/ui/widgets/fields/password_input.cpp
++++ b/Telegram/lib_ui/ui/widgets/fields/password_input.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/fields/time_part_input.cpp b/Telegram/lib_ui/ui/widgets/fields/time_part_input.cpp
+index 95bc1d0..98a35b4 100644
+--- a/Telegram/lib_ui/ui/widgets/fields/time_part_input.cpp
++++ b/Telegram/lib_ui/ui/widgets/fields/time_part_input.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/icon_button_with_text.cpp b/Telegram/lib_ui/ui/widgets/icon_button_with_text.cpp
+index 0ff2159..3e5175a 100644
+--- a/Telegram/lib_ui/ui/widgets/icon_button_with_text.cpp
++++ b/Telegram/lib_ui/ui/widgets/icon_button_with_text.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/inner_dropdown.cpp b/Telegram/lib_ui/ui/widgets/inner_dropdown.cpp
+index e262ecb..9d3a96a 100644
+--- a/Telegram/lib_ui/ui/widgets/inner_dropdown.cpp
++++ b/Telegram/lib_ui/ui/widgets/inner_dropdown.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/labels.cpp b/Telegram/lib_ui/ui/widgets/labels.cpp
+index c1bd9f0..6981d20 100644
+--- a/Telegram/lib_ui/ui/widgets/labels.cpp
++++ b/Telegram/lib_ui/ui/widgets/labels.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/menu/menu.cpp b/Telegram/lib_ui/ui/widgets/menu/menu.cpp
+index c4bb831..85bc8ab 100644
+--- a/Telegram/lib_ui/ui/widgets/menu/menu.cpp
++++ b/Telegram/lib_ui/ui/widgets/menu/menu.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/menu/menu_action.cpp b/Telegram/lib_ui/ui/widgets/menu/menu_action.cpp
+index 2de2c3f..a8fd2b9 100644
+--- a/Telegram/lib_ui/ui/widgets/menu/menu_action.cpp
++++ b/Telegram/lib_ui/ui/widgets/menu/menu_action.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/menu/menu_add_action_callback.cpp b/Telegram/lib_ui/ui/widgets/menu/menu_add_action_callback.cpp
+index feb6702..c335cb4 100644
+--- a/Telegram/lib_ui/ui/widgets/menu/menu_add_action_callback.cpp
++++ b/Telegram/lib_ui/ui/widgets/menu/menu_add_action_callback.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/menu/menu_add_action_callback_factory.cpp b/Telegram/lib_ui/ui/widgets/menu/menu_add_action_callback_factory.cpp
+index 58fa056..b186a12 100644
+--- a/Telegram/lib_ui/ui/widgets/menu/menu_add_action_callback_factory.cpp
++++ b/Telegram/lib_ui/ui/widgets/menu/menu_add_action_callback_factory.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/menu/menu_common.cpp b/Telegram/lib_ui/ui/widgets/menu/menu_common.cpp
+index badc14c..a55cfd1 100644
+--- a/Telegram/lib_ui/ui/widgets/menu/menu_common.cpp
++++ b/Telegram/lib_ui/ui/widgets/menu/menu_common.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/menu/menu_item_base.cpp b/Telegram/lib_ui/ui/widgets/menu/menu_item_base.cpp
+index ab9b2d9..a636514 100644
+--- a/Telegram/lib_ui/ui/widgets/menu/menu_item_base.cpp
++++ b/Telegram/lib_ui/ui/widgets/menu/menu_item_base.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/menu/menu_multiline_action.cpp b/Telegram/lib_ui/ui/widgets/menu/menu_multiline_action.cpp
+index 4e89422..f5852ec 100644
+--- a/Telegram/lib_ui/ui/widgets/menu/menu_multiline_action.cpp
++++ b/Telegram/lib_ui/ui/widgets/menu/menu_multiline_action.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/menu/menu_separator.cpp b/Telegram/lib_ui/ui/widgets/menu/menu_separator.cpp
+index f6d37ae..eaaf162 100644
+--- a/Telegram/lib_ui/ui/widgets/menu/menu_separator.cpp
++++ b/Telegram/lib_ui/ui/widgets/menu/menu_separator.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/menu/menu_toggle.cpp b/Telegram/lib_ui/ui/widgets/menu/menu_toggle.cpp
+index 93071ea..6347c2e 100644
+--- a/Telegram/lib_ui/ui/widgets/menu/menu_toggle.cpp
++++ b/Telegram/lib_ui/ui/widgets/menu/menu_toggle.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/popup_menu.cpp b/Telegram/lib_ui/ui/widgets/popup_menu.cpp
+index 8820b10..5f8ffd3 100644
+--- a/Telegram/lib_ui/ui/widgets/popup_menu.cpp
++++ b/Telegram/lib_ui/ui/widgets/popup_menu.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/rp_window.cpp b/Telegram/lib_ui/ui/widgets/rp_window.cpp
+index 74d95e1..91a157e 100644
+--- a/Telegram/lib_ui/ui/widgets/rp_window.cpp
++++ b/Telegram/lib_ui/ui/widgets/rp_window.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/scroll_area.cpp b/Telegram/lib_ui/ui/widgets/scroll_area.cpp
+index 4e06ce8..53c7e01 100644
+--- a/Telegram/lib_ui/ui/widgets/scroll_area.cpp
++++ b/Telegram/lib_ui/ui/widgets/scroll_area.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/separate_panel.cpp b/Telegram/lib_ui/ui/widgets/separate_panel.cpp
+index 600579e..af888f3 100644
+--- a/Telegram/lib_ui/ui/widgets/separate_panel.cpp
++++ b/Telegram/lib_ui/ui/widgets/separate_panel.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/shadow.cpp b/Telegram/lib_ui/ui/widgets/shadow.cpp
+index efbedf9..c57f68d 100644
+--- a/Telegram/lib_ui/ui/widgets/shadow.cpp
++++ b/Telegram/lib_ui/ui/widgets/shadow.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/side_bar_button.cpp b/Telegram/lib_ui/ui/widgets/side_bar_button.cpp
+index d9975ee..3f796f2 100644
+--- a/Telegram/lib_ui/ui/widgets/side_bar_button.cpp
++++ b/Telegram/lib_ui/ui/widgets/side_bar_button.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/time_input.cpp b/Telegram/lib_ui/ui/widgets/time_input.cpp
+index ea104f1..476ee49 100644
+--- a/Telegram/lib_ui/ui/widgets/time_input.cpp
++++ b/Telegram/lib_ui/ui/widgets/time_input.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/widgets/tooltip.cpp b/Telegram/lib_ui/ui/widgets/tooltip.cpp
+index 6a737ce..1fbb11f 100644
+--- a/Telegram/lib_ui/ui/widgets/tooltip.cpp
++++ b/Telegram/lib_ui/ui/widgets/tooltip.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/wrap/fade_wrap.cpp b/Telegram/lib_ui/ui/wrap/fade_wrap.cpp
+index 92da08d..515ec24 100644
+--- a/Telegram/lib_ui/ui/wrap/fade_wrap.cpp
++++ b/Telegram/lib_ui/ui/wrap/fade_wrap.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/wrap/follow_slide_wrap.cpp b/Telegram/lib_ui/ui/wrap/follow_slide_wrap.cpp
+index 8eedd74..9bc64c2 100644
+--- a/Telegram/lib_ui/ui/wrap/follow_slide_wrap.cpp
++++ b/Telegram/lib_ui/ui/wrap/follow_slide_wrap.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/wrap/padding_wrap.cpp b/Telegram/lib_ui/ui/wrap/padding_wrap.cpp
+index c595360..a899acd 100644
+--- a/Telegram/lib_ui/ui/wrap/padding_wrap.cpp
++++ b/Telegram/lib_ui/ui/wrap/padding_wrap.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/wrap/slide_wrap.cpp b/Telegram/lib_ui/ui/wrap/slide_wrap.cpp
+index 87a0935..16060be 100644
+--- a/Telegram/lib_ui/ui/wrap/slide_wrap.cpp
++++ b/Telegram/lib_ui/ui/wrap/slide_wrap.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/wrap/table_layout.cpp b/Telegram/lib_ui/ui/wrap/table_layout.cpp
+index 539c577..c124ed3 100644
+--- a/Telegram/lib_ui/ui/wrap/table_layout.cpp
++++ b/Telegram/lib_ui/ui/wrap/table_layout.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/wrap/vertical_layout.cpp b/Telegram/lib_ui/ui/wrap/vertical_layout.cpp
+index 2303637..c4dad5a 100644
+--- a/Telegram/lib_ui/ui/wrap/vertical_layout.cpp
++++ b/Telegram/lib_ui/ui/wrap/vertical_layout.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_ui/ui/wrap/vertical_layout_reorder.cpp b/Telegram/lib_ui/ui/wrap/vertical_layout_reorder.cpp
+index b882ef6..42dcaff 100644
+--- a/Telegram/lib_ui/ui/wrap/vertical_layout_reorder.cpp
++++ b/Telegram/lib_ui/ui/wrap/vertical_layout_reorder.cpp
+@@ -1,3 +1,4 @@
++#include "ui/ui_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_webrtc/webrtc/details/webrtc_environment_openal.cpp b/Telegram/lib_webrtc/webrtc/details/webrtc_environment_openal.cpp
+index e96fb4a..b66d65f 100644
+--- a/Telegram/lib_webrtc/webrtc/details/webrtc_environment_openal.cpp
++++ b/Telegram/lib_webrtc/webrtc/details/webrtc_environment_openal.cpp
+@@ -1,3 +1,4 @@
++#include "webrtc/webrtc_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_webrtc/webrtc/details/webrtc_environment_video_capture.cpp b/Telegram/lib_webrtc/webrtc/details/webrtc_environment_video_capture.cpp
+index 0b38efc..25fe6ac 100644
+--- a/Telegram/lib_webrtc/webrtc/details/webrtc_environment_video_capture.cpp
++++ b/Telegram/lib_webrtc/webrtc/details/webrtc_environment_video_capture.cpp
+@@ -1,3 +1,4 @@
++#include "webrtc/webrtc_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_webrtc/webrtc/details/webrtc_openal_adm.cpp b/Telegram/lib_webrtc/webrtc/details/webrtc_openal_adm.cpp
+index 733f6b5..c2f4bc7 100644
+--- a/Telegram/lib_webrtc/webrtc/details/webrtc_openal_adm.cpp
++++ b/Telegram/lib_webrtc/webrtc/details/webrtc_openal_adm.cpp
+@@ -1,3 +1,4 @@
++#include "webrtc/webrtc_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_webrtc/webrtc/platform/linux/webrtc_environment_linux.cpp b/Telegram/lib_webrtc/webrtc/platform/linux/webrtc_environment_linux.cpp
+index e89717c..289801a 100644
+--- a/Telegram/lib_webrtc/webrtc/platform/linux/webrtc_environment_linux.cpp
++++ b/Telegram/lib_webrtc/webrtc/platform/linux/webrtc_environment_linux.cpp
+@@ -1,3 +1,4 @@
++#include "webrtc/webrtc_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_webrtc/webrtc/webrtc_audio_input_tester.cpp b/Telegram/lib_webrtc/webrtc/webrtc_audio_input_tester.cpp
+index 22fb3d6..c9a0f4a 100644
+--- a/Telegram/lib_webrtc/webrtc/webrtc_audio_input_tester.cpp
++++ b/Telegram/lib_webrtc/webrtc/webrtc_audio_input_tester.cpp
+@@ -1,3 +1,4 @@
++#include "webrtc/webrtc_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_webrtc/webrtc/webrtc_create_adm.cpp b/Telegram/lib_webrtc/webrtc/webrtc_create_adm.cpp
+index c53652b..210d2fc 100644
+--- a/Telegram/lib_webrtc/webrtc/webrtc_create_adm.cpp
++++ b/Telegram/lib_webrtc/webrtc/webrtc_create_adm.cpp
+@@ -1,3 +1,4 @@
++#include "webrtc/webrtc_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_webrtc/webrtc/webrtc_device_resolver.cpp b/Telegram/lib_webrtc/webrtc/webrtc_device_resolver.cpp
+index 2e43bf7..ec4d549 100644
+--- a/Telegram/lib_webrtc/webrtc/webrtc_device_resolver.cpp
++++ b/Telegram/lib_webrtc/webrtc/webrtc_device_resolver.cpp
+@@ -1,3 +1,4 @@
++#include "webrtc/webrtc_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_webrtc/webrtc/webrtc_environment.cpp b/Telegram/lib_webrtc/webrtc/webrtc_environment.cpp
+index a1cd3d9..5d6fbab 100644
+--- a/Telegram/lib_webrtc/webrtc/webrtc_environment.cpp
++++ b/Telegram/lib_webrtc/webrtc/webrtc_environment.cpp
+@@ -1,3 +1,4 @@
++#include "webrtc/webrtc_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
+diff --git a/Telegram/lib_webrtc/webrtc/webrtc_video_track.cpp b/Telegram/lib_webrtc/webrtc/webrtc_video_track.cpp
+index 2bac8b1..d4dc8a1 100644
+--- a/Telegram/lib_webrtc/webrtc/webrtc_video_track.cpp
++++ b/Telegram/lib_webrtc/webrtc/webrtc_video_track.cpp
+@@ -1,3 +1,4 @@
++#include "webrtc/webrtc_pch.h"
+ // This file is part of Desktop App Toolkit,
+ // a set of libraries for developing nice desktop applications.
+ //
-- 
2.48.1


From 48e81ddb6f846e525a98f33bdd3c07ebc421ad58 Mon Sep 17 00:00:00 2001
From: Gerasim Troeglazov <3dEyes@gmail.com>
Date: Fri, 4 Apr 2025 12:31:04 +1000
Subject: Use qt popup menu only


diff --git a/Telegram/SourceFiles/platform/linux/tray_linux.cpp b/Telegram/SourceFiles/platform/linux/tray_linux.cpp
index 37ef31e..11eaa8d 100644
--- a/Telegram/SourceFiles/platform/linux/tray_linux.cpp
+++ b/Telegram/SourceFiles/platform/linux/tray_linux.cpp
@@ -337,10 +337,12 @@ void Tray::createMenu() {
 	if (!_menu) {
 		_menu = base::make_unique_q<QMenu>(nullptr);
 	}
+#ifndef __HAIKU__
 	if (!_menuCustom) {
 		_menuCustom = base::make_unique_q<Ui::PopupMenu>(nullptr);
 		_menuCustom->deleteOnHide(false);
 	}
+#endif
 }
 
 void Tray::destroyMenu() {
-- 
2.48.1

